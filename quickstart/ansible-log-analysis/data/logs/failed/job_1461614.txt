Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to provision] *************************************************
Monday 04 August 2025  15:48:59 +0000 (0:00:00.012)       0:00:00.012 ********* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  15:48:59 +0000 (0:00:00.034)       0:00:00.046 ********* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Monday 04 August 2025  15:48:59 +0000 (0:00:00.019)       0:00:00.065 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Monday 04 August 2025  15:48:59 +0000 (0:00:00.032)       0:00:00.097 ********* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Monday 04 August 2025  15:48:59 +0000 (0:00:00.023)       0:00:00.121 ********* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Monday 04 August 2025  15:49:00 +0000 (0:00:00.269)       0:00:00.390 ********* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Monday 04 August 2025  15:49:00 +0000 (0:00:00.029)       0:00:00.419 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  15:49:00 +0000 (0:00:00.053)       0:00:00.473 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  15:49:00 +0000 (0:00:00.057)       0:00:00.531 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Monday 04 August 2025  15:49:01 +0000 (0:00:00.922)       0:00:01.453 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Monday 04 August 2025  15:49:01 +0000 (0:00:00.020)       0:00:01.474 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Monday 04 August 2025  15:49:01 +0000 (0:00:00.016)       0:00:01.490 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Monday 04 August 2025  15:49:01 +0000 (0:00:00.189)       0:00:01.680 ********* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Monday 04 August 2025  15:49:01 +0000 (0:00:00.211)       0:00:01.892 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Monday 04 August 2025  15:49:01 +0000 (0:00:00.372)       0:00:02.264 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Monday 04 August 2025  15:49:02 +0000 (0:00:00.840)       0:00:03.104 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.418)       0:00:03.523 ********* 
ok: [localhost]

TASK [Include variables files] *************************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.031)       0:00:03.554 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.089)       0:00:03.644 ********* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.022)       0:00:03.666 ********* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.035)       0:00:03.701 ********* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.019)       0:00:03.721 ********* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.020)       0:00:03.742 ********* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.026)       0:00:03.768 ********* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.187)       0:00:03.956 ********* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Monday 04 August 2025  15:49:03 +0000 (0:00:00.018)       0:00:03.975 ********* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Monday 04 August 2025  15:49:04 +0000 (0:00:00.952)       0:00:04.928 ********* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Monday 04 August 2025  15:49:04 +0000 (0:00:00.073)       0:00:05.002 ********* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Monday 04 August 2025  15:49:04 +0000 (0:00:00.074)       0:00:05.076 ********* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Monday 04 August 2025  15:49:05 +0000 (0:00:00.557)       0:00:05.633 ********* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Monday 04 August 2025  15:49:05 +0000 (0:00:00.259)       0:00:05.893 ********* 
[WARNING]: skipping installation of community.general==9.2.0 ;
community.general==7.2.1 already installed in EE
[WARNING]: skipping installation of community.crypto==2.21.1 ;
community.crypto==2.14.1 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of kubernetes.core==5.0.0 ;
kubernetes.core==2.4.0 already installed in EE
[WARNING]: skipping installation of amazon.aws==8.1.0 ; amazon.aws==6.2.0
already installed in EE
[WARNING]: skipping installation of community.vmware==4.5.0 ;
community.vmware==3.8.0 already installed in EE
[WARNING]: skipping installation of google.cloud==1.3.0 ; google.cloud==1.2.0
already installed in EE
[WARNING]: skipping installation of openstack.cloud==2.2.0 ;
openstack.cloud==2.1.0 already installed in EE
[WARNING]: skipping installation of community.okd==4.0.0 ; community.okd==2.3.0
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Monday 04 August 2025  15:49:05 +0000 (0:00:00.339)       0:00:06.233 ********* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Monday 04 August 2025  15:49:15 +0000 (0:00:09.923)       0:00:16.157 ********* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.170)       0:00:16.327 ********* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Monday 04 August 2025  15:49:16 +0000 (0:00:00.023)       0:00:16.350 ********* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Monday 04 August 2025  15:49:16 +0000 (0:00:00.385)       0:00:16.736 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.031)       0:00:16.767 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.025)       0:00:16.793 ********* 
skipping: [localhost]

PLAY [Step 000 - Pre Infrastructure] *******************************************

TASK [Print debug message] *****************************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.031)       0:00:16.825 ********* 
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure"
}

TASK [Ensure variables are set] ************************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.017)       0:00:16.843 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "ocp4_pull_secret variable is defined"
}

TASK [Run add user to GCP project role] ****************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.061)       0:00:16.904 ********* 
skipping: [localhost]

TASK [Create GCP Credentials File] *********************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.015)       0:00:16.920 ********* 
skipping: [localhost]

TASK [Get Google Cloud SDK] ****************************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.015)       0:00:16.936 ********* 
skipping: [localhost]

TASK [Generate windows Administrator password if not already defined] **********
Monday 04 August 2025  15:49:16 +0000 (0:00:00.013)       0:00:16.950 ********* 
skipping: [localhost]

TASK [Set fact generated_windows_password (just generated)] ********************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.016)       0:00:16.966 ********* 
skipping: [localhost]

TASK [Run infra-aws-capacity-reservation] **************************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.014)       0:00:16.981 ********* 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:16 +0000 (0:00:00.027)       0:00:17.009 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Monday 04 August 2025  15:49:16 +0000 (0:00:00.206)       0:00:17.215 ********* 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:17 +0000 (0:00:00.875)       0:00:18.091 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  15:49:18 +0000 (0:00:00.201)       0:00:18.292 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Monday 04 August 2025  15:49:18 +0000 (0:00:00.209)       0:00:18.502 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Monday 04 August 2025  15:49:18 +0000 (0:00:00.247)       0:00:18.749 ********* 
Reservation created: cr-0f913cd41a3c9b7a0 (us-east-2a)
Reservation created: cr-091e373bf7146eaab (us-east-2a)
Reservation created: cr-052386dfa920bf6c0 (us-east-2a)
Reservation created: cr-0355f26220d289166 (us-east-2a)
ok: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Monday 04 August 2025  15:49:20 +0000 (0:00:01.536)       0:00:20.285 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Monday 04 August 2025  15:49:20 +0000 (0:00:00.208)       0:00:20.493 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Monday 04 August 2025  15:49:20 +0000 (0:00:00.186)       0:00:20.680 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Monday 04 August 2025  15:49:20 +0000 (0:00:00.186)       0:00:20.867 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Monday 04 August 2025  15:49:20 +0000 (0:00:00.229)       0:00:21.097 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.189)       0:00:21.286 ********* 
skipping: [localhost]

TASK [Set availability zone for bastion, masters and workers] ******************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.196)       0:00:21.483 ********* 
ok: [localhost]

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.139)       0:00:21.622 ********* 
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.178)       0:00:21.800 ********* 
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.030)       0:00:21.830 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.020)       0:00:21.851 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.054)       0:00:21.905 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'alt_name': ['clientvm'], 'image': 'RHEL84GOLD-latest', 'flavor': {'ec2': 't3.medium'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,clientvms'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'Purpose', 'value': 'production'}, {'key': 'project', 'value': 'ocp4-cluster-4h4nd'}, {'key': 'user', 'value': 'lab-user'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:21 +0000 (0:00:00.055)       0:00:21.960 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-8.4.*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  15:49:22 +0000 (0:00:00.357)       0:00:22.318 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  15:49:22 +0000 (0:00:00.893)       0:00:23.211 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  15:49:22 +0000 (0:00:00.049)       0:00:23.261 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  15:49:23 +0000 (0:00:00.060)       0:00:23.322 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  15:49:23 +0000 (0:00:00.023)       0:00:23.345 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-8.4.0_HVM-20230419-x86_64-41-Access2-GP2 - ami-0d32d41054774b603 - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-capacity-reservation] **************************************
Monday 04 August 2025  15:49:23 +0000 (0:00:00.046)       0:00:23.391 ********* 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:23 +0000 (0:00:00.022)       0:00:23.414 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Monday 04 August 2025  15:49:23 +0000 (0:00:00.198)       0:00:23.613 ********* 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:24 +0000 (0:00:00.817)       0:00:24.430 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  15:49:24 +0000 (0:00:00.181)       0:00:24.612 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Monday 04 August 2025  15:49:24 +0000 (0:00:00.178)       0:00:24.790 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Monday 04 August 2025  15:49:24 +0000 (0:00:00.175)       0:00:24.966 ********* 
Reservation canceled: cr-0355f26220d289166  (us-east-2)
Reservation canceled: cr-052386dfa920bf6c0  (us-east-2)
Reservation canceled: cr-091e373bf7146eaab  (us-east-2)
Reservation canceled: cr-0f913cd41a3c9b7a0  (us-east-2)
Reservation created: cr-06826d3c724842f1d (us-east-2a)
Reservation created: cr-0accb10ab43b6d993 (us-east-2a)
Reservation created: cr-05a2103f3dc145998 (us-east-2a)
Reservation created: cr-06893f83df4bf1394 (us-east-2a)
changed: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Monday 04 August 2025  15:49:27 +0000 (0:00:02.433)       0:00:27.399 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Monday 04 August 2025  15:49:27 +0000 (0:00:00.174)       0:00:27.574 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Monday 04 August 2025  15:49:27 +0000 (0:00:00.199)       0:00:27.773 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Monday 04 August 2025  15:49:27 +0000 (0:00:00.203)       0:00:27.977 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Monday 04 August 2025  15:49:27 +0000 (0:00:00.241)       0:00:28.218 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.188)       0:00:28.407 ********* 
skipping: [localhost]

TASK [Empty the agnosticd_images and run the detection again] ******************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.178)       0:00:28.585 ********* 
ok: [localhost]

TASK [Run infra-images again to use the proper region selected by the reservations] ***
Monday 04 August 2025  15:49:28 +0000 (0:00:00.033)       0:00:28.619 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.042)       0:00:28.661 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.068)       0:00:28.730 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'alt_name': ['clientvm'], 'image': 'RHEL84GOLD-latest', 'flavor': {'ec2': 't3.medium'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,clientvms'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'Purpose', 'value': 'production'}, {'key': 'project', 'value': 'ocp4-cluster-4h4nd'}, {'key': 'user', 'value': 'lab-user'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.065)       0:00:28.796 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-8.4.*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  15:49:28 +0000 (0:00:00.365)       0:00:29.161 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.724)       0:00:29.885 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  15:49:29 +0000 (0:00:00.052)       0:00:29.938 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.069)       0:00:30.007 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.040)       0:00:30.048 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-8.4.0_HVM-20230419-x86_64-41-Access2-GP2 - ami-0d32d41054774b603 - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-open-environment Role] *************************************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.077)       0:00:30.126 ********* 
skipping: [localhost]

TASK [Create ssh provision key] ************************************************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.025)       0:00:30.151 ********* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.059)       0:00:30.210 ********* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.018)       0:00:30.229 ********* 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Monday 04 August 2025  15:49:29 +0000 (0:00:00.024)       0:00:30.254 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Monday 04 August 2025  15:49:30 +0000 (0:00:00.381)       0:00:30.635 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Monday 04 August 2025  15:49:30 +0000 (0:00:00.186)       0:00:30.822 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Monday 04 August 2025  15:49:30 +0000 (0:00:00.191)       0:00:31.014 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Monday 04 August 2025  15:49:30 +0000 (0:00:00.020)       0:00:31.034 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Monday 04 August 2025  15:49:31 +0000 (0:00:00.317)       0:00:31.352 ********* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.015)       0:00:31.367 ********* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  15:49:31 +0000 (0:00:00.033)       0:00:31.401 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.041)       0:00:31.442 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.027)       0:00:31.469 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Monday 04 August 2025  15:49:31 +0000 (0:00:00.188)       0:00:31.658 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.024)       0:00:31.683 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.184)       0:00:31.867 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.024)       0:00:31.892 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [Run infra-cloud-tags role] ***********************************************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.042)       0:00:31.934 ********* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.044)       0:00:31.979 ********* 
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Monday 04 August 2025  15:49:31 +0000 (0:00:00.036)       0:00:32.015 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  15:49:31 +0000 (0:00:00.082)       0:00:32.098 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  15:49:31 +0000 (0:00:00.143)       0:00:32.242 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Monday 04 August 2025  15:49:32 +0000 (0:00:00.926)       0:00:33.168 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Monday 04 August 2025  15:49:33 +0000 (0:00:00.199)       0:00:33.367 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  15:49:33 +0000 (0:00:00.026)       0:00:33.394 ********* 
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.026)       0:00:33.420 ********* 

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.048)       0:00:33.469 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.034)       0:00:33.503 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
Monday 04 August 2025  15:49:33 +0000 (0:00:00.035)       0:00:33.538 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.183)       0:00:33.722 ********* 
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.032)       0:00:33.755 ********* 

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.047)       0:00:33.802 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.012)       0:00:33.815 ********* 
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.020)       0:00:33.835 ********* 
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.173)       0:00:34.009 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.023)       0:00:34.032 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
Monday 04 August 2025  15:49:33 +0000 (0:00:00.024)       0:00:34.056 ********* 
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************
Monday 04 August 2025  15:49:34 +0000 (0:00:00.874)       0:00:34.930 ********* 

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
Monday 04 August 2025  15:49:34 +0000 (0:00:00.051)       0:00:34.982 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
Monday 04 August 2025  15:49:34 +0000 (0:00:00.034)       0:00:35.016 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
Monday 04 August 2025  15:49:34 +0000 (0:00:00.173)       0:00:35.189 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
Monday 04 August 2025  15:49:34 +0000 (0:00:00.013)       0:00:35.203 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
Monday 04 August 2025  15:49:34 +0000 (0:00:00.014)       0:00:35.217 ********* 
ok: [localhost] => {
    "cloudformation_template_src": "templates/cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
Monday 04 August 2025  15:49:34 +0000 (0:00:00.013)       0:00:35.231 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  15:49:35 +0000 (0:00:00.122)       0:00:35.354 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
Monday 04 August 2025  15:49:35 +0000 (0:00:00.015)       0:00:35.370 ********* 
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-051d8602-8e17-5e79-b3ac-567131cc6569/ocp4-cluster.4h4nd.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
Monday 04 August 2025  15:49:35 +0000 (0:00:00.014)       0:00:35.384 ********* 
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
Monday 04 August 2025  15:49:35 +0000 (0:00:00.715)       0:00:36.100 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
Monday 04 August 2025  15:49:35 +0000 (0:00:00.022)       0:00:36.122 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.182)       0:00:36.305 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.013)       0:00:36.319 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.013)       0:00:36.333 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.012)       0:00:36.346 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.014)       0:00:36.360 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check for !Ref in CF template] *************
Monday 04 August 2025  15:49:36 +0000 (0:00:00.017)       0:00:36.378 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
Monday 04 August 2025  15:49:36 +0000 (0:00:00.295)       0:00:36.673 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : Copy original !Ref CF template back in place] ***
Monday 04 August 2025  15:49:36 +0000 (0:00:00.028)       0:00:36.702 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
Monday 04 August 2025  15:49:36 +0000 (0:00:00.014)       0:00:36.716 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
Monday 04 August 2025  15:49:37 +0000 (0:00:00.791)       0:00:37.507 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************
Monday 04 August 2025  15:49:37 +0000 (0:00:00.016)       0:00:37.523 ********* 

TASK [infra-ec2-template-create : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  15:49:37 +0000 (0:00:00.061)       0:00:37.585 ********* 
skipping: [localhost]

TASK [include_role : infra-cloud-tags] *****************************************
Monday 04 August 2025  15:49:37 +0000 (0:00:00.019)       0:00:37.605 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  15:49:37 +0000 (0:00:00.029)       0:00:37.635 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
Monday 04 August 2025  15:49:37 +0000 (0:00:00.029)       0:00:37.664 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
Monday 04 August 2025  15:49:37 +0000 (0:00:00.035)       0:00:37.700 ********* 
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
Monday 04 August 2025  15:49:37 +0000 (0:00:00.047)       0:00:37.747 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
Monday 04 August 2025  15:49:37 +0000 (0:00:00.040)       0:00:37.788 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
Monday 04 August 2025  15:49:37 +0000 (0:00:00.028)       0:00:37.817 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
Monday 04 August 2025  15:49:37 +0000 (0:00:00.027)       0:00:37.844 ********* 
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  15:52:15 +0000 (0:02:37.846)       0:03:15.691 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.027)       0:03:15.718 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.033)       0:03:15.752 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.027)       0:03:15.780 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.026)       0:03:15.806 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
Monday 04 August 2025  15:52:15 +0000 (0:00:00.025)       0:03:15.832 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.024)       0:03:15.856 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
Monday 04 August 2025  15:52:15 +0000 (0:00:00.024)       0:03:15.881 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.032)       0:03:15.914 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.026)       0:03:15.940 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.025)       0:03:15.966 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Save stack deployed for futur runs (idempotent)] ***
Monday 04 August 2025  15:52:15 +0000 (0:00:00.035)       0:03:16.002 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.030)       0:03:16.032 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.030)       0:03:16.063 ********* 
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.030)       0:03:16.093 ********* 
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.042)       0:03:16.135 ********* 
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.030)       0:03:16.166 ********* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.034)       0:03:16.200 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Monday 04 August 2025  15:52:15 +0000 (0:00:00.027)       0:03:16.227 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Monday 04 August 2025  15:52:16 +0000 (0:00:00.783)       0:03:17.011 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Monday 04 August 2025  15:52:16 +0000 (0:00:00.025)       0:03:17.036 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Monday 04 August 2025  15:52:16 +0000 (0:00:00.024)       0:03:17.061 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of hosts] ****
Monday 04 August 2025  15:52:16 +0000 (0:00:00.031)       0:03:17.092 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Monday 04 August 2025  15:52:16 +0000 (0:00:00.080)       0:03:17.173 ********* 
changed: [localhost] => (item=bastion.4h4nd.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Monday 04 August 2025  15:52:17 +0000 (0:00:00.155)       0:03:17.328 ********* 
changed: [localhost] => (item=bastion.4h4nd.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Monday 04 August 2025  15:52:17 +0000 (0:00:00.042)       0:03:17.371 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Monday 04 August 2025  15:52:17 +0000 (0:00:00.023)       0:03:17.394 ********* 
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************
Monday 04 August 2025  15:52:17 +0000 (0:00:00.025)       0:03:17.420 ********* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Monday 04 August 2025  15:52:17 +0000 (0:00:00.110)       0:03:17.530 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Monday 04 August 2025  15:52:17 +0000 (0:00:00.050)       0:03:17.581 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Monday 04 August 2025  15:52:17 +0000 (0:00:00.184)       0:03:17.765 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Monday 04 August 2025  15:52:17 +0000 (0:00:00.183)       0:03:17.949 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Monday 04 August 2025  15:52:17 +0000 (0:00:00.202)       0:03:18.152 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Monday 04 August 2025  15:52:18 +0000 (0:00:00.324)       0:03:18.476 ********* 
skipping: [localhost] => (item=bastion.4h4nd.internal) 
skipping: [localhost]

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.046)       0:03:18.522 ********* 
ok: [localhost]
ok: [bastion.4h4nd.internal]

TASK [Include variables files] *************************************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.031)       0:03:18.553 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
ok: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 
ok: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [bastion.4h4nd.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.079)       0:03:18.633 ********* 
skipping: [localhost]
skipping: [bastion.4h4nd.internal]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.025)       0:03:18.658 ********* 
skipping: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.045)       0:03:18.704 ********* 
ok: [bastion.4h4nd.internal]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************
Monday 04 August 2025  15:52:18 +0000 (0:00:00.027)       0:03:18.732 ********* 

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
Monday 04 August 2025  15:52:18 +0000 (0:00:00.025)       0:03:18.757 ********* 
ok: [bastion.4h4nd.internal]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
Monday 04 August 2025  15:52:19 +0000 (0:00:01.080)       0:03:19.838 ********* 
skipping: [bastion.4h4nd.internal]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
Monday 04 August 2025  15:52:19 +0000 (0:00:00.019)       0:03:19.857 ********* 
skipping: [bastion.4h4nd.internal]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
Monday 04 August 2025  15:52:19 +0000 (0:00:00.016)       0:03:19.874 ********* 
ok: [bastion.4h4nd.internal]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************
Monday 04 August 2025  15:52:20 +0000 (0:00:00.633)       0:03:20.507 ********* 

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
Monday 04 August 2025  15:52:20 +0000 (0:00:00.022)       0:03:20.530 ********* 
changed: [bastion.4h4nd.internal]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
Monday 04 August 2025  15:52:21 +0000 (0:00:01.050)       0:03:21.581 ********* 
ok: [bastion.4h4nd.internal]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  15:52:21 +0000 (0:00:00.459)       0:03:22.040 ********* 
changed: [bastion.4h4nd.internal]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  15:52:22 +0000 (0:00:00.434)       0:03:22.474 ********* 
changed: [bastion.4h4nd.internal]

TASK [Add authorized_keys] *****************************************************
Monday 04 August 2025  15:52:22 +0000 (0:00:00.447)       0:03:22.922 ********* 

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
Monday 04 August 2025  15:52:22 +0000 (0:00:00.078)       0:03:23.001 ********* 
changed: [bastion.4h4nd.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.4h4nd.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.4h4nd.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [bastion.4h4nd.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [bastion.4h4nd.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
Monday 04 August 2025  15:52:25 +0000 (0:00:03.175)       0:03:26.176 ********* 
skipping: [bastion.4h4nd.internal]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 - Post Infrastructure] ******************************************

TASK [All-Cloud Post Infrastructure] *******************************************
Monday 04 August 2025  15:52:25 +0000 (0:00:00.036)       0:03:26.213 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "cloud_provider": "ec2",
        "guid": "4h4nd"
    }
}

TASK [OpenShift Floating IPs on OpenStack] *************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.061)       0:03:26.274 ********* 
skipping: [localhost]

TASK [Create secret for SSH Key] ***********************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.021)       0:03:26.295 ********* 
skipping: [localhost]

TASK [Save Route53User credentials from stack outputs] *************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.019)       0:03:26.314 ********* 
ok: [localhost]

TASK [Set FQDN for the bastion VM] *********************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.037)       0:03:26.352 ********* 
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.016)       0:03:26.369 ********* 
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.017)       0:03:26.386 ********* 
skipping: [localhost]

TASK [Print Host Information] **************************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.017)       0:03:26.403 ********* 
skipping: [localhost]

PLAY [Step 002 Post Infrastructure regreSSHion hotfix] *************************

TASK [Gathering Facts] *********************************************************
Monday 04 August 2025  15:52:26 +0000 (0:00:00.027)       0:03:26.431 ********* 
ok: [bastion.4h4nd.internal]

TASK [Have facts been gathered?] ***********************************************
Monday 04 August 2025  15:52:27 +0000 (0:00:01.285)       0:03:27.717 ********* 
ok: [bastion.4h4nd.internal]

TASK [Set sshd LoginGraceTime to 0 in /etc/ssh/sshd_config] ********************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.612)       0:03:28.329 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Restart SSH service for regreSSHion fix] *********************************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.026)       0:03:28.355 ********* 
skipping: [bastion.4h4nd.internal]

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.038)       0:03:28.394 ********* 
skipping: [localhost]

PLAY [Step 003 - Pre Software] *************************************************

TASK [Print debug message] *****************************************************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.036)       0:03:28.430 ********* 
ok: [localhost] => {
    "msg": "Step 003 - Pre Software"
}
[WARNING]: Could not match supplied host pattern, ignoring: isolated

PLAY [Step 003.1 Configure all hosts with repositories, common files and set environment key] ***

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.043)       0:03:28.473 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : Configure satellite repositories] *********************
Monday 04 August 2025  15:52:28 +0000 (0:00:00.030)       0:03:28.504 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for bastion.4h4nd.internal

TASK [set-repositories : sat | Check subscription-manager package existence] ***
Monday 04 August 2025  15:52:28 +0000 (0:00:00.136)       0:03:28.640 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Install subscription-manager package] ***********
Monday 04 August 2025  15:52:28 +0000 (0:00:00.024)       0:03:28.665 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
Monday 04 August 2025  15:52:28 +0000 (0:00:00.022)       0:03:28.688 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Unregister the system just in case] *************
Monday 04 August 2025  15:52:31 +0000 (0:00:03.445)       0:03:32.133 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for bastion.4h4nd.internal

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
Monday 04 August 2025  15:52:31 +0000 (0:00:00.033)       0:03:32.166 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
Monday 04 August 2025  15:52:32 +0000 (0:00:01.041)       0:03:33.208 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
Monday 04 August 2025  15:52:33 +0000 (0:00:00.890)       0:03:34.098 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Remove satellite Cert] **************************
Monday 04 August 2025  15:52:35 +0000 (0:00:01.652)       0:03:35.750 ********* 
ok: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Find current repository files] ******************
Monday 04 August 2025  15:52:36 +0000 (0:00:01.224)       0:03:36.975 ********* 
ok: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Remove current repository files] ****************
Monday 04 August 2025  15:52:37 +0000 (0:00:00.531)       0:03:37.506 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
Monday 04 August 2025  15:52:37 +0000 (0:00:00.019)       0:03:37.526 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
Monday 04 August 2025  15:52:41 +0000 (0:00:04.370)       0:03:41.896 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
Monday 04 August 2025  15:52:42 +0000 (0:00:00.560)       0:03:42.457 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
Monday 04 August 2025  15:52:42 +0000 (0:00:00.033)       0:03:42.490 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
Monday 04 August 2025  15:52:42 +0000 (0:00:00.025)       0:03:42.515 ********* 
ok: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
Monday 04 August 2025  15:52:42 +0000 (0:00:00.051)       0:03:42.567 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Register with activation-key] *******************
Monday 04 August 2025  15:52:43 +0000 (0:00:00.806)       0:03:43.373 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
Monday 04 August 2025  15:52:43 +0000 (0:00:00.030)       0:03:43.404 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
Monday 04 August 2025  15:52:49 +0000 (0:00:06.796)       0:03:50.201 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
Monday 04 August 2025  15:52:50 +0000 (0:00:00.893)       0:03:51.094 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
Monday 04 August 2025  15:52:50 +0000 (0:00:00.031)       0:03:51.126 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
Monday 04 August 2025  15:52:50 +0000 (0:00:00.030)       0:03:51.156 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Enable repos] ***********************************
Monday 04 August 2025  15:52:50 +0000 (0:00:00.030)       0:03:51.187 ********* 
ok: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Purge existing repos] ***************************
Monday 04 August 2025  15:52:53 +0000 (0:00:02.383)       0:03:53.570 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
Monday 04 August 2025  15:52:53 +0000 (0:00:00.022)       0:03:53.593 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Create the certificate and key files] ***********
Monday 04 August 2025  15:52:53 +0000 (0:00:00.023)       0:03:53.616 ********* 
skipping: [bastion.4h4nd.internal] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [bastion.4h4nd.internal] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | Add certificate and key content] ****************
Monday 04 August 2025  15:52:53 +0000 (0:00:00.035)       0:03:53.652 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | create open.repo template on host] **************
Monday 04 August 2025  15:52:53 +0000 (0:00:00.067)       0:03:53.720 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set-repositories : sat | clean repositories] *****************************
Monday 04 August 2025  15:52:53 +0000 (0:00:00.025)       0:03:53.745 ********* 
changed: [bastion.4h4nd.internal]

TASK [set-repositories : Unregister from subscription manager] *****************
Monday 04 August 2025  15:52:55 +0000 (0:00:01.655)       0:03:55.400 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Deactivate DNS lookup in sshd] **********************************
Monday 04 August 2025  15:52:55 +0000 (0:00:00.027)       0:03:55.428 ********* 
changed: [bastion.4h4nd.internal]

TASK [common : Update all packages] ********************************************
Monday 04 August 2025  15:52:55 +0000 (0:00:00.463)       0:03:55.892 ********* 
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j648924423809.7837 started=1 finished=0
ASYNC OK on bastion.4h4nd.internal: jid=j648924423809.7837
changed: [bastion.4h4nd.internal]

TASK [common : Update all packages Legacy] *************************************
Monday 04 August 2025  16:01:37 +0000 (0:08:41.551)       0:12:37.443 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  16:01:37 +0000 (0:00:00.039)       0:12:37.482 ********* 
ok: [bastion.4h4nd.internal]

TASK [common : Reboot all VMs] *************************************************
Monday 04 August 2025  16:01:38 +0000 (0:00:01.473)       0:12:38.956 ********* 
changed: [bastion.4h4nd.internal]

TASK [common : Update network facts after reboot] ******************************
Monday 04 August 2025  16:04:03 +0000 (0:02:25.058)       0:15:04.014 ********* 
ok: [bastion.4h4nd.internal]

TASK [common : Run setup if gather_facts hasn't been run] **********************
Monday 04 August 2025  16:04:05 +0000 (0:00:01.468)       0:15:05.483 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : install common packages for RHEL 7] *****************************
Monday 04 August 2025  16:04:05 +0000 (0:00:00.027)       0:15:05.510 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : install common packages for RHEL 8] *****************************
Monday 04 August 2025  16:04:05 +0000 (0:00:00.036)       0:15:05.547 ********* 
changed: [bastion.4h4nd.internal]

TASK [common : Set up python alternatives for convenience] *********************
Monday 04 August 2025  16:06:32 +0000 (0:02:26.998)       0:17:32.546 ********* 
changed: [bastion.4h4nd.internal]

TASK [common : install common packages for RHEL 9] *****************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.479)       0:17:33.025 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : install extra packages] *****************************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.037)       0:17:33.063 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Update specified packages] **************************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.059)       0:17:33.123 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.028)       0:17:33.151 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Reboot VMs] *****************************************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.029)       0:17:33.180 ********* 
skipping: [bastion.4h4nd.internal]

TASK [common : Refresh network facts post-reboot] ******************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.025)       0:17:33.206 ********* 
skipping: [bastion.4h4nd.internal]

TASK [set_env_authorized_key : create /root/.ssh] ******************************
Monday 04 August 2025  16:06:32 +0000 (0:00:00.037)       0:17:33.243 ********* 
ok: [bastion.4h4nd.internal]

TASK [set_env_authorized_key : copy the environment .pem key] ******************
Monday 04 August 2025  16:06:33 +0000 (0:00:00.491)       0:17:33.735 ********* 
changed: [bastion.4h4nd.internal]

TASK [set_env_authorized_key : copy the environment .pub key] ******************
Monday 04 August 2025  16:06:34 +0000 (0:00:00.959)       0:17:34.694 ********* 
changed: [bastion.4h4nd.internal]

TASK [set_env_authorized_key : Set authorized key from file] *******************
Monday 04 August 2025  16:06:35 +0000 (0:00:00.852)       0:17:35.547 ********* 
changed: [bastion.4h4nd.internal]

TASK [set_env_authorized_key : Generate host .ssh/config Template] *************
Monday 04 August 2025  16:06:35 +0000 (0:00:00.559)       0:17:36.107 ********* 
changed: [bastion.4h4nd.internal -> localhost]

TASK [set_env_authorized_key : copy over host .ssh/config Template] ************
Monday 04 August 2025  16:06:36 +0000 (0:00:00.342)       0:17:36.449 ********* 
changed: [bastion.4h4nd.internal]

TASK [Add GUID to /etc/skel/.bashrc] *******************************************
Monday 04 August 2025  16:06:37 +0000 (0:00:00.917)       0:17:37.366 ********* 
changed: [bastion.4h4nd.internal]

RUNNING HANDLER [common : restart_sshd] ****************************************
Monday 04 August 2025  16:06:37 +0000 (0:00:00.506)       0:17:37.873 ********* 
changed: [bastion.4h4nd.internal]

PLAY [Step 003.2 - Configuring Bastion Hosts] **********************************

TASK [bastion-lite : Generate an SSH key on the Bastion and configure access on all the hosts] ***
Monday 04 August 2025  16:06:38 +0000 (0:00:00.978)       0:17:38.851 ********* 
included: /runner/project/ansible/roles/bastion-lite/tasks/./create_bastion_ssh_key_and_access.yml for bastion.4h4nd.internal

TASK [bastion-lite : Generate SSH keys] ****************************************
Monday 04 August 2025  16:06:38 +0000 (0:00:00.027)       0:17:38.879 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-lite : Fix permission of ssh key] ********************************
Monday 04 August 2025  16:06:39 +0000 (0:00:01.048)       0:17:39.928 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-lite : Generate SSH pub key content] *****************************
Monday 04 August 2025  16:06:40 +0000 (0:00:00.450)       0:17:40.378 ********* 
ok: [bastion.4h4nd.internal]

TASK [bastion-lite : Save all facts for SSH] ***********************************
Monday 04 August 2025  16:06:40 +0000 (0:00:00.473)       0:17:40.851 ********* 
ok: [bastion.4h4nd.internal]

TASK [bastion-lite : Write SSH pub key] ****************************************
Monday 04 August 2025  16:06:40 +0000 (0:00:00.025)       0:17:40.877 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  16:06:41 +0000 (0:00:00.954)       0:17:41.832 ********* 
changed: [bastion.4h4nd.internal] => (item=bastion.4h4nd.internal)

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  16:06:42 +0000 (0:00:00.624)       0:17:42.457 ********* 
changed: [bastion.4h4nd.internal] => (item=bastion.4h4nd.internal)

TASK [bastion-lite : Generate .ssh/config] *************************************
Monday 04 August 2025  16:06:42 +0000 (0:00:00.611)       0:17:43.068 ********* 
changed: [bastion.4h4nd.internal]

TASK [Install FTL] *************************************************************
Monday 04 August 2025  16:06:43 +0000 (0:00:00.945)       0:17:44.013 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-lite : Ensure system Python3 has selinux library installed] ******
Monday 04 August 2025  16:06:43 +0000 (0:00:00.024)       0:17:44.038 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-lite : Install OpenShift Helm 3] *********************************
Monday 04 August 2025  16:06:43 +0000 (0:00:00.023)       0:17:44.062 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-lite : Add GUID to /etc/skel/.bashrc] ****************************
Monday 04 August 2025  16:06:43 +0000 (0:00:00.023)       0:17:44.086 ********* 
ok: [bastion.4h4nd.internal]

TASK [bastion-lite : Add GUID to ~ec2-user/.bashrc] ****************************
Monday 04 August 2025  16:06:44 +0000 (0:00:00.505)       0:17:44.591 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-lite : Add CLOUDUSER to /etc/skel/.bashrc] ***********************
Monday 04 August 2025  16:06:44 +0000 (0:00:00.555)       0:17:45.146 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-lite : Add CLOUDUSER to ~ec2-user/.bashrc] ***********************
Monday 04 August 2025  16:06:45 +0000 (0:00:00.453)       0:17:45.600 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Generate student_password if not defined] *********
Monday 04 August 2025  16:06:45 +0000 (0:00:00.504)       0:17:46.104 ********* 
ok: [bastion.4h4nd.internal]

TASK [bastion-student-user : Create user] **************************************
Monday 04 August 2025  16:06:45 +0000 (0:00:00.030)       0:17:46.134 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Add student public key] ***************************
Monday 04 August 2025  16:06:46 +0000 (0:00:01.104)       0:17:47.239 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-student-user : Add env authorized public key to student user] ****
Monday 04 August 2025  16:06:46 +0000 (0:00:00.026)       0:17:47.266 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Enable password authentication] *******************
Monday 04 August 2025  16:06:47 +0000 (0:00:00.699)       0:17:47.966 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Remove PasswordAuthentication line from 50-cloud-init.conf] ***
Monday 04 August 2025  16:06:48 +0000 (0:00:00.470)       0:17:48.437 ********* 
ok: [bastion.4h4nd.internal]

TASK [bastion-student-user : Disable root password authentication] *************
Monday 04 August 2025  16:06:48 +0000 (0:00:00.490)       0:17:48.927 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Allow passwordless sudo] **************************
Monday 04 August 2025  16:06:49 +0000 (0:00:00.533)       0:17:49.461 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Restart sshd] *************************************
Monday 04 August 2025  16:06:49 +0000 (0:00:00.479)       0:17:49.940 ********* 
changed: [bastion.4h4nd.internal]

TASK [bastion-student-user : Print access info (non CNV)] **********************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.635)       0:17:50.575 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-student-user : Store access info (non CNV)] **********************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.018)       0:17:50.594 ********* 
ok: [bastion.4h4nd.internal] => {
    "changed": false,
    "data": {
        "bastion_public_hostname": "ec2-3-23-235-40.us-east-2.compute.amazonaws.com",
        "bastion_ssh_command": "ssh lab-user@ec2-3-23-235-40.us-east-2.compute.amazonaws.com",
        "bastion_ssh_password": "[REDACTED_Secret Keyword_SECRET]",
        "bastion_ssh_user_name": "lab-user"
    }
}

TASK [bastion-student-user : Print access info (CNV)] **************************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.081)       0:17:50.675 ********* 
skipping: [bastion.4h4nd.internal]

TASK [bastion-student-user : Store access info (CNV)] **************************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.018)       0:17:50.693 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Prepare student user for using Ansible within the environment] ***********
Monday 04 August 2025  16:06:50 +0000 (0:00:00.019)       0:17:50.713 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Copy SSH private key to student user .ssh directory] *********************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.028)       0:17:50.742 ********* 
changed: [bastion.4h4nd.internal]

TASK [Copy SSH public key to student user .ssh directory] **********************
Monday 04 August 2025  16:06:50 +0000 (0:00:00.486)       0:17:51.228 ********* 
changed: [bastion.4h4nd.internal]

TASK [Copy SSH config to student user .ssh directory] **************************
Monday 04 August 2025  16:06:51 +0000 (0:00:00.487)       0:17:51.716 ********* 
changed: [bastion.4h4nd.internal]

PLAY [Step 003.3 Create a Python3 VirtualEnv for use in the k8s Ansible tasks] ***

TASK [Setup k8s virtualenv (EL9)] **********************************************
Monday 04 August 2025  16:06:51 +0000 (0:00:00.499)       0:17:52.215 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Setup k8s virtualenv (EL8)] **********************************************
Monday 04 August 2025  16:06:51 +0000 (0:00:00.015)       0:17:52.231 ********* 

TASK [host_virtualenv : Check host_virtualenv_path is defined] *****************
Monday 04 August 2025  16:06:51 +0000 (0:00:00.028)       0:17:52.259 ********* 
ok: [bastion.4h4nd.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host_virtualenv : Gather basic ansible facts to determine pkg_mgr] *******
Monday 04 August 2025  16:06:52 +0000 (0:00:00.029)       0:17:52.288 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host_virtualenv : Install virtualenv package prerequisites] **************
Monday 04 August 2025  16:06:52 +0000 (0:00:00.035)       0:17:52.324 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Install virtualenv module system-wide for compatibility with previous behavior] ***
Monday 04 August 2025  16:07:10 +0000 (0:00:18.737)       0:18:11.061 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Make virtualenv path] **********************************
Monday 04 August 2025  16:07:15 +0000 (0:00:04.851)       0:18:15.913 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Write /opt/virtualenvs/k8s/host_virtualenv-requirements.txt] ***
Monday 04 August 2025  16:07:16 +0000 (0:00:00.475)       0:18:16.388 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Set up virtualenv with updated pip] ********************
Monday 04 August 2025  16:07:16 +0000 (0:00:00.870)       0:18:17.258 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Install requirements in virtualenv] ********************
Monday 04 August 2025  16:07:21 +0000 (0:00:04.735)       0:18:21.994 ********* 
changed: [bastion.4h4nd.internal]

TASK [host_virtualenv : Ownership of files in virtualenv path] *****************
Monday 04 August 2025  16:08:23 +0000 (0:01:01.426)       0:19:23.421 ********* 
skipping: [bastion.4h4nd.internal]

PLAY [PreSoftware flight-check] ************************************************

TASK [Print debug message] *****************************************************
Monday 04 August 2025  16:08:23 +0000 (0:00:00.059)       0:19:23.480 ********* 
ok: [localhost] => {
    "msg": "Pre-Software checks completed successfully"
}

PLAY [Step 004 - Software] *****************************************************

TASK [Debug ocp4-cluster software playbook] ************************************
Monday 04 August 2025  16:08:23 +0000 (0:00:00.036)       0:19:23.516 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "ocp4-cluster Software playbook"
}

PLAY [Step 004.1 - Host preparation for OpenShift 4 deployment] ****************

TASK [Call Role to provision OCP4 install host] ********************************
Monday 04 August 2025  16:08:23 +0000 (0:00:00.042)       0:19:23.559 ********* 

TASK [host-ocp4-provisioner : Ensure directory /etc/ansible exists] ************
Monday 04 August 2025  16:08:23 +0000 (0:00:00.033)       0:19:23.592 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Get awscli bundle] *******************************
Monday 04 August 2025  16:08:23 +0000 (0:00:00.555)       0:19:24.148 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Unzip awscliv2.zip] ******************************
Monday 04 August 2025  16:08:25 +0000 (0:00:01.138)       0:19:25.287 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Install awscli] **********************************
Monday 04 August 2025  16:08:32 +0000 (0:00:07.860)       0:19:33.147 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : cleanup archive and tmp files] *******************
Monday 04 August 2025  16:08:35 +0000 (0:00:02.201)       0:19:35.348 ********* 
changed: [bastion.4h4nd.internal] => (item=/tmp/aws)
changed: [bastion.4h4nd.internal] => (item=/tmp/awscliv2.zip)

TASK [host-ocp4-provisioner : Create .aws directory] ***************************
Monday 04 August 2025  16:08:36 +0000 (0:00:01.487)       0:19:36.836 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Add aws credentials for sandboxes] ***************
Monday 04 August 2025  16:08:37 +0000 (0:00:00.525)       0:19:37.362 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Add aws credentials for shared account] **********
Monday 04 August 2025  16:08:37 +0000 (0:00:00.036)       0:19:37.399 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : Install slirp4netns] *****************************
Monday 04 August 2025  16:08:37 +0000 (0:00:00.490)       0:19:37.889 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-provisioner : update max_user_namespaces in sysctl] ************
Monday 04 August 2025  16:08:43 +0000 (0:00:05.633)       0:19:43.523 ********* 
changed: [bastion.4h4nd.internal]

PLAY [Step 004.2 - Install OpenShift] ******************************************

TASK [Call Role to install OpenShift] ******************************************
Monday 04 August 2025  16:08:44 +0000 (0:00:00.799)       0:19:44.322 ********* 

TASK [host-ocp4-installer : Gather distribution version] ***********************
Monday 04 August 2025  16:08:44 +0000 (0:00:00.089)       0:19:44.412 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (specific version)] ***
Monday 04 August 2025  16:08:44 +0000 (0:00:00.634)       0:19:45.046 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (latest stable)] ***
Monday 04 August 2025  16:08:44 +0000 (0:00:00.062)       0:19:45.109 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Ensure ocp4_installer_url and ocp4_client_url are set] ***
Monday 04 August 2025  16:08:44 +0000 (0:00:00.099)       0:19:45.209 ********* 
ok: [bastion.4h4nd.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host-ocp4-installer : Debug URLs] ****************************************
Monday 04 August 2025  16:08:45 +0000 (0:00:00.062)       0:19:45.271 ********* 
ok: [bastion.4h4nd.internal] => (item=OpenShift Installer URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-install-linux.tar.gz) => {
    "msg": "OpenShift Installer URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-install-linux.tar.gz"
}
ok: [bastion.4h4nd.internal] => (item=OpenShift Client URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-client-linux.tar.gz) => {
    "msg": "OpenShift Client URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-client-linux.tar.gz"
}

TASK [host-ocp4-installer : Get the OpenShift Installer] ***********************
Monday 04 August 2025  16:08:45 +0000 (0:00:00.028)       0:19:45.300 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Check if the installer is a FIPS installer] ********
Monday 04 August 2025  16:09:09 +0000 (0:00:24.890)       0:20:10.191 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Hard link the FIPS installer if it exists] *********
Monday 04 August 2025  16:09:10 +0000 (0:00:00.546)       0:20:10.737 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get the OpenShift CLI] *****************************
Monday 04 August 2025  16:09:10 +0000 (0:00:00.016)       0:20:10.754 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Setup FIPS mode on the host] ***********************
Monday 04 August 2025  16:09:16 +0000 (0:00:05.576)       0:20:16.331 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Reboot host] ***************************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.026)       0:20:16.358 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set internal network name] *************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.025)       0:20:16.383 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Print internal network name] ***********************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.400 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set ocp machine cidr] ******************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.418 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Print ocp machine cidr] ****************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.435 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Find internal network's subnet id] *****************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.452 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set internal network subnetid] *********************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.469 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Print internal network's subnet id] ****************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.017)       0:20:16.487 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Generate SSH keys] *********************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.016)       0:20:16.504 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Generate SSH pub key] ******************************
Monday 04 August 2025  16:09:16 +0000 (0:00:00.484)       0:20:16.988 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Slurp public key] **********************************
Monday 04 August 2025  16:09:17 +0000 (0:00:00.731)       0:20:17.720 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Create cluster directory] **************************
Monday 04 August 2025  16:09:18 +0000 (0:00:00.569)       0:20:18.289 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Check if version specific install-config.j2 exists] ***
Monday 04 August 2025  16:09:18 +0000 (0:00:00.442)       0:20:18.732 ********* 
ok: [bastion.4h4nd.internal -> localhost]

TASK [host-ocp4-installer : Use version-specific template for install-config-yaml] ***
Monday 04 August 2025  16:09:18 +0000 (0:00:00.180)       0:20:18.913 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Use default template for install-config-yaml] ******
Monday 04 August 2025  16:09:18 +0000 (0:00:00.015)       0:20:18.928 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Generate config install-config.yaml] ***************
Monday 04 August 2025  16:09:18 +0000 (0:00:00.018)       0:20:18.947 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Make a copy of the cluster install config] *********
Monday 04 August 2025  16:09:20 +0000 (0:00:01.467)       0:20:20.414 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Create openshift-install manifests] ****************
Monday 04 August 2025  16:09:20 +0000 (0:00:00.458)       0:20:20.873 ********* 
included: /runner/project/ansible/roles/host-ocp4-installer/tasks/create-manifests.yml for bastion.4h4nd.internal

TASK [host-ocp4-installer : Run openshift-install create manifests] ************
Monday 04 August 2025  16:09:20 +0000 (0:00:00.026)       0:20:20.899 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Create install workaround manifests/cluster-network-03-config.yml for OVN] ***
Monday 04 August 2025  16:09:22 +0000 (0:00:02.014)       0:20:22.913 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Create install workaround manifests/99-scsi-device-detection-machineconfig.yml] ***
Monday 04 August 2025  16:09:22 +0000 (0:00:00.023)       0:20:22.936 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Make sure manifests dir exists] ********************
Monday 04 August 2025  16:09:22 +0000 (0:00:00.019)       0:20:22.956 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Download Project Calico Manifest archive file to home dir] ***
Monday 04 August 2025  16:09:22 +0000 (0:00:00.025)       0:20:22.982 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Extract Project Calico manifest files] *************
Monday 04 August 2025  16:09:22 +0000 (0:00:00.024)       0:20:23.006 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Verify permissions on Calico manifest files are set to 775] ***
Monday 04 August 2025  16:09:22 +0000 (0:00:00.024)       0:20:23.030 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Remove downloaded file] ****************************
Monday 04 August 2025  16:09:22 +0000 (0:00:00.023)       0:20:23.054 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Run the installer] *********************************
Monday 04 August 2025  16:09:22 +0000 (0:00:00.027)       0:20:23.082 ********* 
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC POLL on bastion.4h4nd.internal: jid=j117848196688.19904 started=1 finished=0
ASYNC OK on bastion.4h4nd.internal: jid=j117848196688.19904
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Setup OpenStack external network during install] ***
Monday 04 August 2025  16:48:28 +0000 (0:39:06.184)       0:59:29.266 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Gzip Install log] **********************************
Monday 04 August 2025  16:48:29 +0000 (0:00:00.017)       0:59:29.283 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get Install log] ***********************************
Monday 04 August 2025  16:48:29 +0000 (0:00:00.565)       0:59:29.849 ********* 
changed: [bastion.4h4nd.internal]

TASK [Save output_dir archive] *************************************************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.476)       0:59:30.325 ********* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  16:48:30 +0000 (0:00:00.046)       0:59:30.371 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for bastion.4h4nd.internal

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.032)       0:59:30.404 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for bastion.4h4nd.internal

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.027)       0:59:30.432 ********* 
changed: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Monday 04 August 2025  16:48:30 +0000 (0:00:00.179)       0:59:30.611 ********* 
ok: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.023)       0:59:30.635 ********* 
changed: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.183)       0:59:30.819 ********* 
skipping: [bastion.4h4nd.internal]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.034)       0:59:30.853 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for bastion.4h4nd.internal

TASK [Run infra-cloud-tags role] ***********************************************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.041)       0:59:30.894 ********* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.041)       0:59:30.936 ********* 
skipping: [bastion.4h4nd.internal]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Monday 04 August 2025  16:48:30 +0000 (0:00:00.033)       0:59:30.970 ********* 
ok: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  16:48:30 +0000 (0:00:00.076)       0:59:31.046 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for bastion.4h4nd.internal

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  16:48:30 +0000 (0:00:00.045)       0:59:31.091 ********* 
changed: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Monday 04 August 2025  16:48:31 +0000 (0:00:00.991)       0:59:32.083 ********* 
changed: [bastion.4h4nd.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Monday 04 August 2025  16:48:32 +0000 (0:00:00.195)       0:59:32.278 ********* 
skipping: [bastion.4h4nd.internal]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  16:48:32 +0000 (0:00:00.025)       0:59:32.304 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get all instances for GUID] ************************
Monday 04 August 2025  16:48:32 +0000 (0:00:00.035)       0:59:32.340 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Add GUID and env-type metadata to instances] *******
Monday 04 August 2025  16:48:32 +0000 (0:00:00.021)       0:59:32.361 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Add additional metadata to instances] **************
Monday 04 August 2025  16:48:32 +0000 (0:00:00.018)       0:59:32.380 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Fetch kube config] *********************************
Monday 04 August 2025  16:48:32 +0000 (0:00:00.016)       0:59:32.397 ********* 
changed: [bastion.4h4nd.internal] => (item=kubeconfig)
changed: [bastion.4h4nd.internal] => (item=kubeadmin-password)

TASK [host-ocp4-installer : Make sure .kube directory exists for ec2-user] *****
Monday 04 August 2025  16:48:33 +0000 (0:00:01.396)       0:59:33.793 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists for root] *********
Monday 04 August 2025  16:48:34 +0000 (0:00:00.927)       0:59:34.721 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /home/ec2-user/.kube/config] ***
Monday 04 August 2025  16:48:34 +0000 (0:00:00.532)       0:59:35.253 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /root/.kube/config] *****
Monday 04 August 2025  16:48:35 +0000 (0:00:00.490)       0:59:35.744 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists in /home/lab-user] ***
Monday 04 August 2025  16:48:35 +0000 (0:00:00.489)       0:59:36.234 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Copy /home/ec2-user/cluster-4h4nd/auth/kubeconfig to /home/lab-user/.kube] ***
Monday 04 August 2025  16:48:36 +0000 (0:00:00.851)       0:59:37.086 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Create OpenShift Bash completion file] *************
Monday 04 August 2025  16:48:37 +0000 (0:00:00.499)       0:59:37.586 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get kubeadmin password] ****************************
Monday 04 August 2025  16:48:37 +0000 (0:00:00.603)       0:59:38.189 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set user data for kubeadmin password] **************
Monday 04 August 2025  16:48:38 +0000 (0:00:00.541)       0:59:38.731 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get console route] *********************************
Monday 04 August 2025  16:48:38 +0000 (0:00:00.017)       0:59:38.749 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get Webconsole URL] ********************************
Monday 04 August 2025  16:48:39 +0000 (0:00:00.804)       0:59:39.553 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get API URL] ***************************************
Monday 04 August 2025  16:48:39 +0000 (0:00:00.534)       0:59:40.088 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Get OpenShift Ingress Domain] **********************
Monday 04 August 2025  16:48:40 +0000 (0:00:00.556)       0:59:40.644 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set facts for OpenShift console and API] ***********
Monday 04 August 2025  16:48:40 +0000 (0:00:00.588)       0:59:41.233 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Set user data for OpenShift access] ****************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.042)       0:59:41.276 ********* 
ok: [bastion.4h4nd.internal] => {
    "changed": false,
    "data": {
        "openshift_api_url": "https://api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com:6443",
        "openshift_client_download_url": "http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-client-linux.tar.gz",
        "openshift_cluster_ingress_domain": "apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com",
        "openshift_console_url": "https://console-openshift-console.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com"
    }
}

TASK [host-ocp4-installer : Show user messages for OpenShift access] ***********
Monday 04 August 2025  16:48:41 +0000 (0:00:00.060)       0:59:41.336 ********* 
ok: [bastion.4h4nd.internal] => {
    "changed": false,
    "msg": "user.info: OpenShift Console: https://console-openshift-console.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com\\nOpenShift API for command line 'oc' client: https://api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com:6443\\nDownload oc client from http://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable-4.14/openshift-client-linux.tar.gz"
}

TASK [host-ocp4-installer : Find ingress_port_ID] ******************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.070)       0:59:41.406 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Debug ingress port ID] *****************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.016)       0:59:41.423 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Debug ocp_ingress_fip] *****************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.015)       0:59:41.439 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-ocp4-installer : Attach ocp_ingress_fip to ingress_port_ID] *********
Monday 04 August 2025  16:48:41 +0000 (0:00:00.015)       0:59:41.455 ********* 
skipping: [bastion.4h4nd.internal]

PLAY [Step 005 - Post software] ************************************************

TASK [Print post software] *****************************************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.043)       0:59:41.498 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "Post-Software Steps starting"
}

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.018)       0:59:41.517 ********* 
ok: [bastion.4h4nd.internal]

TASK [Setup cluster-admin service account] *************************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.017)       0:59:41.534 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Remove AWS Credentials from bastion] *************************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.016)       0:59:41.551 ********* 
changed: [bastion.4h4nd.internal]

TASK [Remove Azure Credentials directory from bastion] *************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.455)       0:59:42.007 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Remove the openshift-installer GCP Credentials directory from bastion] ***
Monday 04 August 2025  16:48:41 +0000 (0:00:00.015)       0:59:42.023 ********* 
skipping: [bastion.4h4nd.internal]

TASK [Remove gcloud CLI Credentials directory from bastion] ********************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.015)       0:59:42.038 ********* 
skipping: [bastion.4h4nd.internal]

PLAY [Install workloads] *******************************************************

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.043)       0:59:42.082 ********* 
ok: [bastion.4h4nd.internal]

TASK [Install infra workloads] *************************************************
Monday 04 August 2025  16:48:41 +0000 (0:00:00.025)       0:59:42.107 ********* 

TASK [ocp4_workload_le_certificates : Running Pre Workload Tasks] **************
Monday 04 August 2025  16:48:42 +0000 (0:00:00.364)       0:59:42.472 ********* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_le_certificates/tasks/./pre_workload.yml for bastion.4h4nd.internal

TASK [ocp4_workload_le_certificates : Pre_workload tasks complete] *************
Monday 04 August 2025  16:48:42 +0000 (0:00:00.023)       0:59:42.495 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_le_certificates : Running Workload Tasks] ******************
Monday 04 August 2025  16:48:42 +0000 (0:00:00.021)       0:59:42.517 ********* 
[DEPRECATION WARNING]: Specifying a list of dictionaries for vars is deprecated
 in favor of specifying a dictionary. This feature will be removed in version 
2.18. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_le_certificates/tasks/./workload.yml for bastion.4h4nd.internal

TASK [ocp4_workload_le_certificates : Setting up workload for user] ************
Monday 04 August 2025  16:48:42 +0000 (0:00:00.049)       0:59:42.566 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "Setting up workload for user ocp_username = system:admin"
}

TASK [ocp4_workload_le_certificates : Determine API server URL] ****************
Monday 04 August 2025  16:48:42 +0000 (0:00:00.030)       0:59:42.597 ********* 
ok: [bastion.4h4nd.internal]

TASK [ocp4_workload_le_certificates : Set API Server hostname] *****************
Monday 04 August 2025  16:48:44 +0000 (0:00:02.195)       0:59:44.793 ********* 
ok: [bastion.4h4nd.internal]

TASK [ocp4_workload_le_certificates : Determine Wildcard Domain] ***************
Monday 04 August 2025  16:48:44 +0000 (0:00:00.023)       0:59:44.816 ********* 
ok: [bastion.4h4nd.internal]

TASK [ocp4_workload_le_certificates : Print API and Wildcard Domain] ***********
Monday 04 August 2025  16:48:45 +0000 (0:00:01.121)       0:59:45.938 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "API: api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com, Wildcard Domain: *.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com"
}

TASK [ocp4_workload_le_certificates : Create AWS credentials file with Route53 credentials for certificate renewals using certbot] ***
Monday 04 August 2025  16:48:45 +0000 (0:00:00.024)       0:59:45.962 ********* 
changed: [bastion.4h4nd.internal]

TASK [Create Let's Encrypt Certificates for AWS or OpenShift Virtualization] ***
Monday 04 August 2025  16:48:46 +0000 (0:00:00.526)       0:59:46.489 ********* 

TASK [host-lets-encrypt-certs-certbot : Set Certbot directory] *****************
Monday 04 August 2025  16:48:46 +0000 (0:00:00.063)       0:59:46.553 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Get home directory for ec2-user user] ***
Monday 04 August 2025  16:48:46 +0000 (0:00:00.026)       0:59:46.579 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Verify if AWS Credentials exist on the host] ***
Monday 04 August 2025  16:48:46 +0000 (0:00:00.593)       0:59:47.172 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Fail if AWS Credentials are not on the host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.501)       0:59:47.674 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Verify if Azure Credentials exist on the host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.025)       0:59:47.699 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Fail if Azure Credentials are not on the host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.026)       0:59:47.725 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Verify if GCP Credentials exist on the host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.025)       0:59:47.751 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Fail if GCP Credentials are not on the host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.025)       0:59:47.777 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Verify credential are present on host] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.026)       0:59:47.803 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Fail if DDNS credentials are missing] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.025)       0:59:47.829 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Set _certbot_wildcard_certs fact] ******
Monday 04 August 2025  16:48:47 +0000 (0:00:00.032)       0:59:47.861 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Test if Let's Encrypt Certificates are already there] ***
Monday 04 August 2025  16:48:47 +0000 (0:00:00.060)       0:59:47.921 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Set python to 3.9 when using GCP] ******
Monday 04 August 2025  16:48:48 +0000 (0:00:00.440)       0:59:48.361 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Set python version when not using GCP] ***
Monday 04 August 2025  16:48:48 +0000 (0:00:00.022)       0:59:48.384 ********* 
ok: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Copy requirements_certbot_gcp.txt to target for certbot virtualenv] ***
Monday 04 August 2025  16:48:48 +0000 (0:00:00.026)       0:59:48.411 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Copy requirements_certbot.txt to target for certbot virtualenv] ***
Monday 04 August 2025  16:48:48 +0000 (0:00:00.022)       0:59:48.433 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Upgrade pip] ***************************
Monday 04 August 2025  16:48:49 +0000 (0:00:00.894)       0:59:49.327 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Create Virtualenv Certbot] *************
Monday 04 August 2025  16:48:53 +0000 (0:00:04.684)       0:59:54.011 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Copy certbot script to virtualenv] *****
Monday 04 August 2025  16:49:15 +0000 (0:00:21.992)       1:00:16.004 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Check if cached certificate archive exists] ***
Monday 04 August 2025  16:49:16 +0000 (0:00:00.953)       1:00:16.958 ********* 
ok: [bastion.4h4nd.internal -> localhost]

TASK [host-lets-encrypt-certs-certbot : Upload certificate archive] ************
Monday 04 August 2025  16:49:16 +0000 (0:00:00.178)       1:00:17.136 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Set _certbot_setup_complete=true] ******
Monday 04 August 2025  16:49:16 +0000 (0:00:00.029)       1:00:17.166 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Ensure Certbot Directories are present] ***
Monday 04 August 2025  16:49:16 +0000 (0:00:00.031)       1:00:17.197 ********* 
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot)
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot/config)
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot/work)
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot/logs)
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot/renewal-hooks)
changed: [bastion.4h4nd.internal] => (item=/home/ec2-user/certbot/renewal-hooks/deploy)

TASK [host-lets-encrypt-certs-certbot : Download Let's Encrypt  account file] ***
Monday 04 August 2025  16:49:19 +0000 (0:00:03.045)       1:00:20.243 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Extract Let's Encrypt account file] ****
Monday 04 August 2025  16:49:20 +0000 (0:00:00.028)       1:00:20.272 ********* 
skipping: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Get Let's Encrypt Intermediary CA Certificate] ***
Monday 04 August 2025  16:49:20 +0000 (0:00:00.030)       1:00:20.303 ********* 
changed: [bastion.4h4nd.internal]

TASK [host-lets-encrypt-certs-certbot : Print Shell Command] *******************
Monday 04 August 2025  16:49:20 +0000 (0:00:00.732)       1:00:21.036 ********* 
ok: [bastion.4h4nd.internal] => {
    "msg": "About to request certificates using the following command: certbot certonly -n --agree-tos --email rhpds-admins@redhat.com -d api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com -d *.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com --dns-route53 --config-dir=/home/ec2-user/certbot/config --work-dir=/home/ec2-user/certbot/work --logs-dir=/home/ec2-user/certbot/logs  "
}

TASK [host-lets-encrypt-certs-certbot : Request API and Wildcard Certificates] ***
Monday 04 August 2025  16:49:20 +0000 (0:00:00.060)       1:00:21.097 ********* 
FAILED - RETRYING: [bastion.4h4nd.internal]: Request API and Wildcard Certificates (5 retries left).
FAILED - RETRYING: [bastion.4h4nd.internal]: Request API and Wildcard Certificates (4 retries left).
FAILED - RETRYING: [bastion.4h4nd.internal]: Request API and Wildcard Certificates (3 retries left).
FAILED - RETRYING: [bastion.4h4nd.internal]: Request API and Wildcard Certificates (2 retries left).
FAILED - RETRYING: [bastion.4h4nd.internal]: Request API and Wildcard Certificates (1 retries left).
fatal: [bastion.4h4nd.internal]: FAILED! => {"attempts": 5, "changed": true, "cmd": ["/home/ec2-user/virtualenvs/certbot/bin/run-certbot"], "delta": "0:02:42.886405", "end": "2025-08-04 17:02:29.234233", "msg": "non-zero return code", "rc": 1, "start": "2025-08-04 16:59:46.347828", "stderr": "Saving debug log to /home/ec2-user/certbot/logs/letsencrypt.log\\nAn unexpected error occurred:\\nrequests.exceptions.ReadTimeout: HTTPSConnectionPool(host='acme.zerossl.com', port=443): Read timed out. (read timeout=45)\\nAsk for help or search for solutions at https://community.letsencrypt.org. See the logfile /home/ec2-user/certbot/logs/letsencrypt.log or re-run Certbot with -v for more details.", "stderr_lines": ["Saving debug log to /home/ec2-user/certbot/logs/letsencrypt.log", "An unexpected error occurred:", "requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='acme.zerossl.com', port=443): Read timed out. (read timeout=45)", "Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /home/ec2-user/certbot/logs/letsencrypt.log or re-run Certbot with -v for more details."], "stdout": "Activating virtualenv certbot\\nRequesting a certificate for api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com and *.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com", "stdout_lines": ["Activating virtualenv certbot", "Requesting a certificate for api.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com and *.apps.cluster-4h4nd.4h4nd.sandbox1303.opentlc.com"]}

TASK [ocp4_workload_le_certificates : Fail if certificates are required] *******
Monday 04 August 2025  17:02:29 +0000 (0:13:08.469)       1:13:29.566 ********* 
fatal: [bastion.4h4nd.internal]: FAILED! => {"changed": false, "msg": "Let's Encrypt certificate workload failed."}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.4h4nd.internal     : ok=158  changed=92   unreachable=0    failed=1    skipped=92   rescued=1    ignored=0   
localhost                  : ok=112  changed=26   unreachable=0    failed=0    skipped=85   rescued=0    ignored=1   
Monday 04 August 2025  17:02:29 +0000 (0:00:00.022)       1:13:29.588 ********* 
=============================================================================== 
host-ocp4-installer : Run the installer ------------------------------ 2346.18s
host-lets-encrypt-certs-certbot : Request API and Wildcard Certificates - 788.47s
common : Update all packages ------------------------------------------ 521.55s
infra-ec2-template-create : Launch CloudFormation template (local) ---- 157.85s
common : install common packages for RHEL 8 --------------------------- 147.00s
common : Reboot all VMs ----------------------------------------------- 145.06s
host_virtualenv : Install requirements in virtualenv ------------------- 61.43s
host-ocp4-installer : Get the OpenShift Installer ---------------------- 24.89s
host-lets-encrypt-certs-certbot : Create Virtualenv Certbot ------------ 21.99s
host_virtualenv : Install virtualenv package prerequisites ------------- 18.74s
Install collections from requirements.yml (EE) -------------------------- 9.92s
host-ocp4-provisioner : Unzip awscliv2.zip ------------------------------ 7.86s
set-repositories : sat | Register with activation-key with HA ----------- 6.80s
host-ocp4-provisioner : Install slirp4netns ----------------------------- 5.63s
host-ocp4-installer : Get the OpenShift CLI ----------------------------- 5.58s
host_virtualenv : Install virtualenv module system-wide for compatibility with previous behavior --- 4.85s
host_virtualenv : Set up virtualenv with updated pip -------------------- 4.74s
host-lets-encrypt-certs-certbot : Upgrade pip --------------------------- 4.68s
set-repositories : sat | Install Satellite CA certificate package ------- 4.37s
set-repositories : sat | Remove rh-amazon-rhui-client package ----------- 3.45s
