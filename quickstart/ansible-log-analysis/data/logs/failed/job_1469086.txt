[DEPRECATION WARNING]: ANSIBLE_COLLECTIONS_PATHS option. Reason: does not fit 
var naming standard, use the singular form ANSIBLE_COLLECTIONS_PATH instead 
Alternatives: none. This feature will be removed in version 2.19. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.007)       0:00:00.007 ******* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.014)       0:00:00.022 ******* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.011)       0:00:00.033 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.012)       0:00:00.046 ******* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.011)       0:00:00.057 ******* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.260)       0:00:00.318 ******* 
included: agnosticd_restore_output_dir for localhost

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.018)       0:00:00.337 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.031)       0:00:00.369 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  10:20:20 +0000 (0:00:00.043)       0:00:00.412 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Thursday 07 August 2025  10:20:21 +0000 (0:00:00.991)       0:00:01.404 ******* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Thursday 07 August 2025  10:20:21 +0000 (0:00:00.012)       0:00:01.417 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Thursday 07 August 2025  10:20:21 +0000 (0:00:00.559)       0:00:01.976 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Thursday 07 August 2025  10:20:22 +0000 (0:00:00.161)       0:00:02.137 ******* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Thursday 07 August 2025  10:20:22 +0000 (0:00:00.158)       0:00:02.296 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Thursday 07 August 2025  10:20:22 +0000 (0:00:00.318)       0:00:02.614 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.637)       0:00:03.251 ******* 
ok: [localhost] => (item=user-info.yaml)
ok: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.321)       0:00:03.572 ******* 
ok: [localhost]

TASK [Include variables files] *************************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.016)       0:00:03.589 ******* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/sandbox/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/sandbox/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/sandbox/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.061)       0:00:03.650 ******* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.013)       0:00:03.664 ******* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.014)       0:00:03.678 ******* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.024)       0:00:03.702 ******* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.024)       0:00:03.727 ******* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.027)       0:00:03.754 ******* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.153)       0:00:03.908 ******* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Thursday 07 August 2025  10:20:23 +0000 (0:00:00.026)       0:00:03.934 ******* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Thursday 07 August 2025  10:20:24 +0000 (0:00:00.550)       0:00:04.485 ******* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Thursday 07 August 2025  10:20:24 +0000 (0:00:00.041)       0:00:04.526 ******* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Thursday 07 August 2025  10:20:24 +0000 (0:00:00.039)       0:00:04.566 ******* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Thursday 07 August 2025  10:20:25 +0000 (0:00:00.453)       0:00:05.019 ******* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Thursday 07 August 2025  10:20:25 +0000 (0:00:00.227)       0:00:05.247 ******* 
[WARNING]: skipping installation of amazon.aws==2.2.0 ; amazon.aws==9.4.0
already installed in EE
[WARNING]: skipping installation of community.general==4.6.1 ;
community.general==10.5.0 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.3.0 ; ansible.posix==2.0.0
already installed in EE
[WARNING]: skipping installation of community.vmware==2.10.1 ;
community.vmware==5.5.0 already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Thursday 07 August 2025  10:20:25 +0000 (0:00:00.316)       0:00:05.563 ******* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.456)       0:00:06.019 ******* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.159)       0:00:06.179 ******* 
included: agnosticd_dynamic for localhost

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.017)       0:00:06.196 ******* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.307)       0:00:06.504 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.030)       0:00:06.535 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.026)       0:00:06.561 ******* 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.011)       0:00:06.573 ******* 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.019)       0:00:06.592 ******* 
skipping: [localhost] => (item=us-east-1) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.030)       0:00:06.623 ******* 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.029)       0:00:06.653 ******* 
ok: [localhost]

PLAY [Build inventory] *********************************************************

TASK [Run infra-ec2-create-inventory Role] *************************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.017)       0:00:06.670 ******* 
included: infra-ec2-create-inventory for localhost

TASK [infra-ec2-create-inventory : Report aws region] **************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.016)       0:00:06.686 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Thursday 07 August 2025  10:20:26 +0000 (0:00:00.010)       0:00:06.697 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Thursday 07 August 2025  10:20:27 +0000 (0:00:00.771)       0:00:07.468 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Thursday 07 August 2025  10:20:27 +0000 (0:00:00.011)       0:00:07.480 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Thursday 07 August 2025  10:20:27 +0000 (0:00:00.012)       0:00:07.492 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of hosts] ****
Thursday 07 August 2025  10:20:27 +0000 (0:00:00.029)       0:00:07.522 ******* 
fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable.. No first item, sequence was empty.\\n\\nThe error appears to be in '/runner/project/ansible/roles-infra/infra-ec2-create-inventory/tasks/main.yml': line 37, column 3, but may\\nbe elsewhere in the file depending on the exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n- name: Find the bastion in this batch of hosts\\n  ^ here\\n"}

PLAY RECAP *********************************************************************
localhost                  : ok=32   changed=13   unreachable=0    failed=1    skipped=16   rescued=0    ignored=0   

TASKS RECAP ********************************************************************
Thursday 07 August 2025  10:20:27 +0000 (0:00:00.034)       0:00:07.557 ******* 
=============================================================================== 
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 0.99s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 0.77s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.64s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 0.56s
Install roles from requirements.yml ------------------------------------- 0.55s
Install collections from requirements.yml (EE) -------------------------- 0.46s
Get the list of installed collections (EE) ------------------------------ 0.45s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.32s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.32s
Rewrite requirements, filter out installed collections (EE) ------------- 0.32s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.31s
Create output_dir if it does not exists --------------------------------- 0.26s
Create temporary file for requirements.yml (EE) ------------------------- 0.23s
agnosticd_restore_output_dir : Remove archive file from output_dir ------ 0.16s
Cleanup tempfile (EE) --------------------------------------------------- 0.16s
agnosticd_restore_output_dir : Remove encrypted archive file from output_dir --- 0.16s
Check if requirements.yml exists ---------------------------------------- 0.15s
Include variables files ------------------------------------------------- 0.06s
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 0.04s
Install collections from requirements.yml (Not EE) ---------------------- 0.04s
