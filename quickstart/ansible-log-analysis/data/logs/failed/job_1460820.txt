Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to provision] *************************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.013)       0:00:00.013 ********* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.029)       0:00:00.043 ********* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.017)       0:00:00.061 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.037)       0:00:00.098 ********* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.017)       0:00:00.116 ********* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.250)       0:00:00.367 ********* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Monday 04 August 2025  08:47:44 +0000 (0:00:00.025)       0:00:00.392 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  08:47:44 +0000 (0:00:00.037)       0:00:00.430 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  08:47:45 +0000 (0:00:00.033)       0:00:00.464 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Monday 04 August 2025  08:47:45 +0000 (0:00:00.935)       0:00:01.399 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Monday 04 August 2025  08:47:45 +0000 (0:00:00.017)       0:00:01.416 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Monday 04 August 2025  08:47:45 +0000 (0:00:00.014)       0:00:01.431 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Monday 04 August 2025  08:47:46 +0000 (0:00:00.167)       0:00:01.598 ********* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Monday 04 August 2025  08:47:46 +0000 (0:00:00.163)       0:00:01.761 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Monday 04 August 2025  08:47:46 +0000 (0:00:00.327)       0:00:02.088 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.749)       0:00:02.838 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.327)       0:00:03.165 ********* 
ok: [localhost]

TASK [Include variables files] *************************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.023)       0:00:03.189 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.062)       0:00:03.251 ********* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.016)       0:00:03.268 ********* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.029)       0:00:03.298 ********* 
ok: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.017)       0:00:03.315 ********* 
changed: [localhost]

TASK [Use requirements_path from the config] ***********************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.326)       0:00:03.641 ********* 
skipping: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.013)       0:00:03.655 ********* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.148)       0:00:03.803 ********* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.018)       0:00:03.822 ********* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Monday 04 August 2025  08:47:49 +0000 (0:00:01.001)       0:00:04.823 ********* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.024)       0:00:04.848 ********* 
skipping: [localhost]

TASK [Install dynamic sources] *************************************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.021)       0:00:04.869 ********* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Monday 04 August 2025  08:47:49 +0000 (0:00:00.022)       0:00:04.892 ********* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
ok: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Monday 04 August 2025  08:47:49 +0000 (0:00:00.328)       0:00:05.221 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.016)       0:00:05.237 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.014)       0:00:05.251 ********* 
skipping: [localhost]

PLAY [Step 000 Pre Infrastructure] *********************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.024)       0:00:05.275 ********* 
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure"
}

PLAY [Install Pre Infra  workloads on localhost] *******************************

TASK [Deploying Pre Infra workloads  on localhost] *****************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.026)       0:00:05.302 ********* 
skipping: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Install Pre Infra workloads on  all hosts] *******************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: bastions

PLAY [Install Pre Infra workloads on bastion] **********************************
skipping: no hosts matched

PLAY [Install Pre Infra workloads for windows] *********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: gitlab

PLAY [Install Pre Infra workloads for gitlab] **********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: controllers

PLAY [Install Pre Infra workloads for Automation Controller] *******************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: satellites

PLAY [Install Pre Infra workloads for Satelliltes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: capsules

PLAY [Install Pre Infra workloads for Satelllite Capsules] *********************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: servers

PLAY [Install Pre Infra workloads for Automation Server] ***********************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: nodes

PLAY [Install Pre Infra workloads for nodes] ***********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel7_nodes

PLAY [Install Pre Infra workloads for rhel7 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel8_nodes

PLAY [Install Pre Infra workloads for rhel8 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel9_nodes

PLAY [Install Pre Infra workloads for rhel9 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel10_nodes

PLAY [Install Pre Infra workloads for rhel10 nodes] ****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: centos_nodes

PLAY [Install Pre Infra workloads for centos nodes] ****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhelai_nodes

PLAY [Install Pre Infra workloads for rhelai nodes] ****************************
skipping: no hosts matched

PLAY [Install Pre Infra workloads for network] *********************************
skipping: no hosts matched

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.075)       0:00:05.377 ********* 
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.160)       0:00:05.537 ********* 
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.028)       0:00:05.566 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.030)       0:00:05.596 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.040)       0:00:05.636 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'dns_loadbalancer': True, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'bastion', 'public_dns': True, 'rootfs_size': 50, 'security_groups': ['BastionSG', 'NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,automationcontroller'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': {'name': 'aap2.5-2024-11-06'}, 'name': 'controller', 'public_dns': True, 'rootfs_size': 200, 'security_groups': ['NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'controllers'}, {'key': 'ostype', 'value': 'rhel'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'image': 'RHEL95GOLD-latest', 'name': 'node', 'public_dns': False, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'ServerSG', 'NodeSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'nodes'}, {'key': 'ostype', 'value': 'linux'}]})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'server', 'public_dns': True, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'NodeSG', 'ServerSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'centos_nodes'}, {'key': 'ostype', 'value': 'linux'}], 'unique': True})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.064)       0:00:05.701 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.063)       0:00:05.765 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.859)       0:00:06.625 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:51 +0000 (0:00:00.020)       0:00:06.646 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.026)       0:00:06.672 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'name': 'aap2.5-2024-11-06'})

TASK [infra-images : Lookup image for controller] ******************************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.049)       0:00:06.722 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for controller] ********************
Monday 04 August 2025  08:47:52 +0000 (0:00:01.189)       0:00:07.912 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:52 +0000 (0:00:00.021)       0:00:07.934 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.029)       0:00:07.963 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for node] ************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.050)       0:00:08.014 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for node] **************************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.702)       0:00:08.717 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.020)       0:00:08.737 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.029)       0:00:08.767 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for server] **********************************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.062)       0:00:08.829 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for server] ************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.813)       0:00:09.642 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.023)       0:00:09.666 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.031)       0:00:09.698 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.021)       0:00:09.719 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=controller) => {
    "msg": "controller - aap2.5-2024-11-06 - ami-073ab2ff383abe44b - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=node) => {
    "msg": "node - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=server) => {
    "msg": "server - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-capacity-reservation] **************************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.052)       0:00:09.771 ********* 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.019)       0:00:09.790 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Monday 04 August 2025  08:47:54 +0000 (0:00:00.036)       0:00:09.827 ********* 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.099)       0:00:09.927 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.090)       0:00:10.017 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.035)       0:00:10.053 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.092)       0:00:10.145 ********* 
Reservation created: cr-00ce6fcde109524b0 (us-east-2a)
Reservation created: cr-05bc2724dd466f3d3 (us-east-2a)
Reservation created: cr-0e3e54b1514902b8e (us-east-2a)
Reservation created: cr-0bf8f1c8ae1ffc3fd (us-east-2a)
ok: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Monday 04 August 2025  08:47:55 +0000 (0:00:01.166)       0:00:11.311 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.037)       0:00:11.349 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.036)       0:00:11.386 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Monday 04 August 2025  08:47:55 +0000 (0:00:00.036)       0:00:11.423 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.039)       0:00:11.462 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_availability_zone": "us-east-2a"
    }
}

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.039)       0:00:11.501 ********* 
skipping: [localhost]

TASK [Empty the agnosticd_images and run the detection again] ******************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.033)       0:00:11.535 ********* 
ok: [localhost]

TASK [Run infra-images again to use the proper region selected by the reservations] ***
Monday 04 August 2025  08:47:56 +0000 (0:00:00.018)       0:00:11.554 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.025)       0:00:11.580 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.049)       0:00:11.629 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'dns_loadbalancer': True, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'bastion', 'public_dns': True, 'rootfs_size': 50, 'security_groups': ['BastionSG', 'NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,automationcontroller'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': {'name': 'aap2.5-2024-11-06'}, 'name': 'controller', 'public_dns': True, 'rootfs_size': 200, 'security_groups': ['NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'controllers'}, {'key': 'ostype', 'value': 'rhel'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'image': 'RHEL95GOLD-latest', 'name': 'node', 'public_dns': False, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'ServerSG', 'NodeSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'nodes'}, {'key': 'ostype', 'value': 'linux'}]})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'server', 'public_dns': True, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'NodeSG', 'ServerSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'centos_nodes'}, {'key': 'ostype', 'value': 'linux'}], 'unique': True})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.077)       0:00:11.707 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  08:47:56 +0000 (0:00:00.055)       0:00:11.763 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  08:47:57 +0000 (0:00:00.699)       0:00:12.462 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:57 +0000 (0:00:00.022)       0:00:12.485 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:57 +0000 (0:00:00.027)       0:00:12.513 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'name': 'aap2.5-2024-11-06'})

TASK [infra-images : Lookup image for controller] ******************************
Monday 04 August 2025  08:47:57 +0000 (0:00:00.051)       0:00:12.565 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for controller] ********************
Monday 04 August 2025  08:47:58 +0000 (0:00:01.039)       0:00:13.604 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:58 +0000 (0:00:00.023)       0:00:13.628 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:58 +0000 (0:00:00.028)       0:00:13.656 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for node] ************************************
Monday 04 August 2025  08:47:58 +0000 (0:00:00.052)       0:00:13.708 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for node] **************************
Monday 04 August 2025  08:47:58 +0000 (0:00:00.657)       0:00:14.366 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:58 +0000 (0:00:00.022)       0:00:14.388 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:58 +0000 (0:00:00.029)       0:00:14.418 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for server] **********************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.050)       0:00:14.468 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for server] ************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.719)       0:00:15.188 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:59 +0000 (0:00:00.022)       0:00:15.210 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.029)       0:00:15.240 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.024)       0:00:15.264 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=controller) => {
    "msg": "controller - aap2.5-2024-11-06 - ami-073ab2ff383abe44b - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=node) => {
    "msg": "node - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=server) => {
    "msg": "server - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-open-environment Role] *************************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.072)       0:00:15.336 ********* 
skipping: [localhost]

TASK [Create ssh provision key] ************************************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.019)       0:00:15.355 ********* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.052)       0:00:15.408 ********* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Monday 04 August 2025  08:47:59 +0000 (0:00:00.022)       0:00:15.430 ********* 
skipping: [localhost]

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.019)       0:00:15.449 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.245)       0:00:15.695 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.155)       0:00:15.850 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.157)       0:00:16.007 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.018)       0:00:16.025 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Monday 04 August 2025  08:48:00 +0000 (0:00:00.280)       0:00:16.306 ********* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.014)       0:00:16.320 ********* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  08:48:00 +0000 (0:00:00.027)       0:00:16.347 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.030)       0:00:16.378 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Monday 04 August 2025  08:48:00 +0000 (0:00:00.028)       0:00:16.407 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Monday 04 August 2025  08:48:01 +0000 (0:00:00.268)       0:00:16.675 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.018)       0:00:16.694 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.154)       0:00:16.848 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.023)       0:00:16.872 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [Run infra-cloud-tags role] ***********************************************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.037)       0:00:16.910 ********* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.031)       0:00:16.941 ********* 
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Monday 04 August 2025  08:48:01 +0000 (0:00:00.023)       0:00:16.964 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  08:48:01 +0000 (0:00:00.034)       0:00:16.999 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  08:48:01 +0000 (0:00:00.065)       0:00:17.064 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Monday 04 August 2025  08:48:02 +0000 (0:00:00.805)       0:00:17.870 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Monday 04 August 2025  08:48:02 +0000 (0:00:00.160)       0:00:18.030 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  08:48:02 +0000 (0:00:00.018)       0:00:18.049 ********* 
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.020)       0:00:18.070 ********* 

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.035)       0:00:18.105 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.031)       0:00:18.137 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
Monday 04 August 2025  08:48:02 +0000 (0:00:00.030)       0:00:18.168 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.163)       0:00:18.331 ********* 
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.026)       0:00:18.358 ********* 

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.050)       0:00:18.409 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  08:48:02 +0000 (0:00:00.014)       0:00:18.423 ********* 
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
Monday 04 August 2025  08:48:03 +0000 (0:00:00.022)       0:00:18.446 ********* 
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
Monday 04 August 2025  08:48:03 +0000 (0:00:00.147)       0:00:18.593 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
Monday 04 August 2025  08:48:03 +0000 (0:00:00.068)       0:00:18.662 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
Monday 04 August 2025  08:48:03 +0000 (0:00:00.020)       0:00:18.683 ********* 
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************
Monday 04 August 2025  08:48:03 +0000 (0:00:00.733)       0:00:19.416 ********* 

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
Monday 04 August 2025  08:48:04 +0000 (0:00:00.045)       0:00:19.462 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
Monday 04 August 2025  08:48:04 +0000 (0:00:00.028)       0:00:19.491 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
Monday 04 August 2025  08:48:04 +0000 (0:00:00.165)       0:00:19.657 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
Monday 04 August 2025  08:48:04 +0000 (0:00:00.017)       0:00:19.674 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
Monday 04 August 2025  08:48:04 +0000 (0:00:00.014)       0:00:19.688 ********* 
ok: [localhost] => {
    "cloudformation_template_src": "../configs/ansible-bu-workshop/files/cloud_providers/ec2_cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
Monday 04 August 2025  08:48:04 +0000 (0:00:00.013)       0:00:19.702 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.048)       0:00:19.750 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.012)       0:00:19.762 ********* 
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-e85e0419-33ed-5651-ab94-4f6ae5e5e8d6/ansible-bu-workshop.cczgp.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
Monday 04 August 2025  08:48:04 +0000 (0:00:00.013)       0:00:19.776 ********* 
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.406)       0:00:20.182 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.016)       0:00:20.198 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.154)       0:00:20.353 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.012)       0:00:20.365 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.016)       0:00:20.382 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.017)       0:00:20.399 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.014)       0:00:20.414 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check for !Ref in CF template] *************
Monday 04 August 2025  08:48:04 +0000 (0:00:00.014)       0:00:20.428 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
Monday 04 August 2025  08:48:05 +0000 (0:00:00.293)       0:00:20.722 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : Copy original !Ref CF template back in place] ***
Monday 04 August 2025  08:48:05 +0000 (0:00:00.027)       0:00:20.750 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
Monday 04 August 2025  08:48:05 +0000 (0:00:00.012)       0:00:20.762 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
Monday 04 August 2025  08:48:06 +0000 (0:00:00.761)       0:00:21.523 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************
Monday 04 August 2025  08:48:06 +0000 (0:00:00.014)       0:00:21.538 ********* 

TASK [infra-ec2-template-create : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  08:48:06 +0000 (0:00:00.051)       0:00:21.590 ********* 
skipping: [localhost]

TASK [include_role : infra-cloud-tags] *****************************************
Monday 04 August 2025  08:48:06 +0000 (0:00:00.016)       0:00:21.606 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:48:06 +0000 (0:00:00.019)       0:00:21.625 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
Monday 04 August 2025  08:48:06 +0000 (0:00:00.026)       0:00:21.652 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
Monday 04 August 2025  08:48:06 +0000 (0:00:00.021)       0:00:21.673 ********* 
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
Monday 04 August 2025  08:48:06 +0000 (0:00:00.023)       0:00:21.697 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
Monday 04 August 2025  08:48:06 +0000 (0:00:00.023)       0:00:21.721 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
Monday 04 August 2025  08:48:06 +0000 (0:00:00.019)       0:00:21.740 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
Monday 04 August 2025  08:48:06 +0000 (0:00:00.018)       0:00:21.758 ********* 
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
[DEPRECATION WARNING]: Param 'template' is deprecated. See the module docs for 
more information. This feature will be removed from amazon.aws in a release 
after 2026-05-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  08:50:44 +0000 (0:02:38.580)       0:03:00.339 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  08:50:44 +0000 (0:00:00.019)       0:03:00.358 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
Monday 04 August 2025  08:50:44 +0000 (0:00:00.019)       0:03:00.377 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
Monday 04 August 2025  08:50:44 +0000 (0:00:00.019)       0:03:00.397 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
Monday 04 August 2025  08:50:44 +0000 (0:00:00.018)       0:03:00.416 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
Monday 04 August 2025  08:50:45 +0000 (0:00:00.018)       0:03:00.435 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.019)       0:03:00.454 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
Monday 04 August 2025  08:50:45 +0000 (0:00:00.019)       0:03:00.473 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.037)       0:03:00.510 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.022)       0:03:00.533 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.022)       0:03:00.555 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Save stack deployed for futur runs (idempotent)] ***
Monday 04 August 2025  08:50:45 +0000 (0:00:00.021)       0:03:00.577 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.016)       0:03:00.594 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.018)       0:03:00.613 ********* 
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.020)       0:03:00.633 ********* 
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.033)       0:03:00.667 ********* 
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.020)       0:03:00.687 ********* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.026)       0:03:00.713 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Monday 04 August 2025  08:50:45 +0000 (0:00:00.020)       0:03:00.734 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.848)       0:03:01.582 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.019)       0:03:01.601 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.018)       0:03:01.620 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of hosts] ****
Monday 04 August 2025  08:50:46 +0000 (0:00:00.018)       0:03:01.639 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Monday 04 August 2025  08:50:46 +0000 (0:00:00.028)       0:03:01.668 ********* 
changed: [localhost] => (item=bastion.example.com)
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=server.example.com)
changed: [localhost] => (item=node1.example.com)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Monday 04 August 2025  08:50:46 +0000 (0:00:00.151)       0:03:01.819 ********* 
changed: [localhost] => (item=bastion.example.com)
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=server.example.com)
changed: [localhost] => (item=node1.example.com)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.060)       0:03:01.880 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.018)       0:03:01.898 ********* 
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************
Monday 04 August 2025  08:50:46 +0000 (0:00:00.020)       0:03:01.918 ********* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Monday 04 August 2025  08:50:46 +0000 (0:00:00.035)       0:03:01.954 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Monday 04 August 2025  08:50:46 +0000 (0:00:00.025)       0:03:01.979 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Monday 04 August 2025  08:50:46 +0000 (0:00:00.177)       0:03:02.157 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Monday 04 August 2025  08:50:46 +0000 (0:00:00.176)       0:03:02.333 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Monday 04 August 2025  08:50:47 +0000 (0:00:00.170)       0:03:02.503 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Monday 04 August 2025  08:50:47 +0000 (0:00:00.303)       0:03:02.807 ********* 
skipping: [localhost] => (item=bastion.example.com) 
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=server.example.com)
changed: [localhost] => (item=node1.example.com)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  08:50:47 +0000 (0:00:00.576)       0:03:03.383 ********* 
ok: [localhost]
ok: [bastion.example.com]
ok: [controller.example.com]
ok: [server.example.com]
ok: [node1.example.com]

TASK [Include variables files] *************************************************
Monday 04 August 2025  08:50:47 +0000 (0:00:00.049)       0:03:03.432 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
ok: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
ok: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [node1.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
ok: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
ok: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
ok: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
ok: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
ok: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
ok: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  08:50:48 +0000 (0:00:00.129)       0:03:03.561 ********* 
skipping: [localhost]
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  08:50:48 +0000 (0:00:00.047)       0:03:03.609 ********* 
skipping: [localhost]

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
Monday 04 August 2025  08:50:48 +0000 (0:00:00.073)       0:03:03.682 ********* 
ok: [bastion.example.com]
ok: [controller.example.com]
ok: [server.example.com]
ok: [node1.example.com]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************
Monday 04 August 2025  08:50:48 +0000 (0:00:00.053)       0:03:03.736 ********* 

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
Monday 04 August 2025  08:50:48 +0000 (0:00:00.060)       0:03:03.797 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
Monday 04 August 2025  08:50:55 +0000 (0:00:07.248)       0:03:11.045 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
Monday 04 August 2025  08:50:55 +0000 (0:00:00.039)       0:03:11.085 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
Monday 04 August 2025  08:50:55 +0000 (0:00:00.036)       0:03:11.121 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************
Monday 04 August 2025  08:51:02 +0000 (0:00:06.870)       0:03:17.991 ********* 

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
Monday 04 August 2025  08:51:02 +0000 (0:00:00.076)       0:03:18.068 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
Monday 04 August 2025  08:51:08 +0000 (0:00:05.729)       0:03:23.797 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  08:51:11 +0000 (0:00:02.802)       0:03:26.599 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  08:51:14 +0000 (0:00:02.867)       0:03:29.467 ********* 
changed: [bastion.example.com]
changed: [server.example.com]
changed: [node1.example.com]
ok: [controller.example.com]

TASK [Add authorized_keys] *****************************************************
Monday 04 August 2025  08:51:16 +0000 (0:00:02.156)       0:03:31.623 ********* 

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
Monday 04 August 2025  08:51:16 +0000 (0:00:00.077)       0:03:31.701 ********* 
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [node1.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
changed: [node1.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [server.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [server.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
ok: [controller.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
ok: [controller.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
Monday 04 August 2025  08:51:36 +0000 (0:00:20.112)       0:03:51.814 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 Post Infrastructure] ********************************************

TASK [ansible.builtin.debug] ***************************************************
Monday 04 August 2025  08:51:36 +0000 (0:00:00.089)       0:03:51.903 ********* 
ok: [localhost] => {
    "msg": "Step 002 Post Infrastructure"
}

PLAY [Step 002 Post Infrastructure regreSSHion Hotfix] *************************

TASK [Gathering Facts] *********************************************************
Monday 04 August 2025  08:51:36 +0000 (0:00:00.027)       0:03:51.930 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [Have facts been gathered?] ***********************************************
Monday 04 August 2025  08:51:41 +0000 (0:00:05.087)       0:03:57.018 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [Set sshd LoginGraceTime to 0 in /etc/ssh/sshd_config] ********************
Monday 04 August 2025  08:51:44 +0000 (0:00:02.444)       0:03:59.463 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [Restart SSH service for regreSSHion fix] *********************************
Monday 04 August 2025  08:51:45 +0000 (0:00:01.663)       0:04:01.127 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [controller.example.com]
changed: [server.example.com]

PLAY [Install Post Infra  workloads on localhost] ******************************

TASK [Deploying Post Infra workloads  on localhost] ****************************
Monday 04 August 2025  08:51:48 +0000 (0:00:02.312)       0:04:03.439 ********* 
skipping: [localhost]

PLAY [Install Post Infra workloads on  all hosts] ******************************

TASK [Deploying Post Infra workloads on all hosts] *****************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.066)       0:04:03.506 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

PLAY [Install Post Infra workloads on bastion] *********************************

TASK [Deploying Post Infra workloads on bastion] *******************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.148)       0:04:03.655 ********* 
skipping: [bastion.example.com]

PLAY [Install Post Infra workloads for windows] ********************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for gitlab] *********************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Automation Controller] ******************

TASK [Deploying Post Infra workloads on Automation Controller] *****************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.057)       0:04:03.712 ********* 
skipping: [controller.example.com]

PLAY [Install Post Infra workloads for Satelliltes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Satelllite Capsules] ********************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Automation Server] **********************
skipping: no hosts matched

PLAY [Install Post Infra workloads for nodes] **********************************

TASK [Deploying Post Infra workloads on nodes] *********************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.051)       0:04:03.763 ********* 
skipping: [node1.example.com]

PLAY [Install Post Infra workloads for rhel7 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel8 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel9 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel10 nodes] ***************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for centos nodes] ***************************

TASK [Deploying Post Infra workloads on centos nodes] **************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.055)       0:04:03.819 ********* 
skipping: [server.example.com]

PLAY [Install Post Infra workloads for rhelai nodes] ***************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for network] ********************************
skipping: no hosts matched

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.045)       0:04:03.864 ********* 
skipping: [localhost]

PLAY [Step 003 Pre Software] ***************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.035)       0:04:03.899 ********* 
ok: [localhost] => {
    "msg": "Step 003 Pre Software"
}

TASK [Save user data] **********************************************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.015)       0:04:03.914 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "targethost": "bastion.cczgp.sandbox622.opentlc.com"
    }
}

PLAY [Install Pre Software  workloads on localhost] ****************************

TASK [Deploying Pre Software workloads  on localhost] **************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.046)       0:04:03.961 ********* 
skipping: [localhost]

PLAY [Install Pre Software workloads on  all hosts] ****************************

TASK [Deploying Pre Software workloads on all hosts] ***************************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.065)       0:04:04.027 ********* 

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.175)       0:04:04.203 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : Configure satellite repositories] *********************
Monday 04 August 2025  08:51:48 +0000 (0:00:00.049)       0:04:04.252 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for bastion.example.com, controller.example.com, server.example.com, node1.example.com

TASK [set-repositories : sat | Check subscription-manager package existence] ***
Monday 04 August 2025  08:51:48 +0000 (0:00:00.100)       0:04:04.353 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Install subscription-manager package] ***********
Monday 04 August 2025  08:51:48 +0000 (0:00:00.053)       0:04:04.407 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
Monday 04 August 2025  08:51:49 +0000 (0:00:00.052)       0:04:04.460 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Unregister the system just in case] *************
Monday 04 August 2025  08:51:57 +0000 (0:00:08.691)       0:04:13.151 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for bastion.example.com, controller.example.com, server.example.com, node1.example.com

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
Monday 04 August 2025  08:51:57 +0000 (0:00:00.094)       0:04:13.246 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
Monday 04 August 2025  08:52:01 +0000 (0:00:03.989)       0:04:17.236 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
Monday 04 August 2025  08:52:05 +0000 (0:00:03.510)       0:04:20.747 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Remove satellite Cert] **************************
Monday 04 August 2025  08:52:09 +0000 (0:00:04.429)       0:04:25.176 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Find current repository files] ******************
Monday 04 August 2025  08:52:14 +0000 (0:00:04.732)       0:04:29.909 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Remove current repository files] ****************
Monday 04 August 2025  08:52:15 +0000 (0:00:01.127)       0:04:31.037 ********* 
skipping: [bastion.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]
changed: [controller.example.com] => (item=/etc/yum.repos.d/redhat.repo)

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
Monday 04 August 2025  08:52:17 +0000 (0:00:01.606)       0:04:32.643 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
Monday 04 August 2025  08:52:28 +0000 (0:00:11.711)       0:04:44.355 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
Monday 04 August 2025  08:52:30 +0000 (0:00:01.688)       0:04:46.044 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
Monday 04 August 2025  08:52:30 +0000 (0:00:00.050)       0:04:46.095 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
Monday 04 August 2025  08:52:30 +0000 (0:00:00.041)       0:04:46.137 ********* 
ok: [bastion.example.com]
ok: [controller.example.com]
ok: [server.example.com]
ok: [node1.example.com]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
Monday 04 August 2025  08:52:30 +0000 (0:00:00.051)       0:04:46.189 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Register with activation-key] *******************
Monday 04 August 2025  08:52:34 +0000 (0:00:03.432)       0:04:49.621 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
Monday 04 August 2025  08:52:34 +0000 (0:00:00.049)       0:04:49.670 ********* 
changed: [server.example.com]
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
Monday 04 August 2025  08:52:44 +0000 (0:00:10.137)       0:04:59.807 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
Monday 04 August 2025  08:52:46 +0000 (0:00:02.291)       0:05:02.099 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
Monday 04 August 2025  08:52:46 +0000 (0:00:00.049)       0:05:02.148 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
Monday 04 August 2025  08:52:46 +0000 (0:00:00.049)       0:05:02.198 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Enable repos] ***********************************
Monday 04 August 2025  08:52:46 +0000 (0:00:00.048)       0:05:02.246 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Purge existing repos] ***************************
Monday 04 August 2025  08:52:54 +0000 (0:00:07.748)       0:05:09.995 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
Monday 04 August 2025  08:52:54 +0000 (0:00:00.061)       0:05:10.056 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | Create the certificate and key files] ***********
Monday 04 August 2025  08:52:54 +0000 (0:00:00.049)       0:05:10.106 ********* 
skipping: [bastion.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [bastion.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [controller.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [controller.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.example.com]
skipping: [server.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [controller.example.com]
skipping: [server.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [server.example.com]
skipping: [node1.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [node1.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [node1.example.com]

TASK [set-repositories : sat | Add certificate and key content] ****************
Monday 04 August 2025  08:52:54 +0000 (0:00:00.056)       0:05:10.163 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | create open.repo template on host] **************
Monday 04 August 2025  08:52:54 +0000 (0:00:00.046)       0:05:10.209 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [set-repositories : sat | clean repositories] *****************************
Monday 04 August 2025  08:52:54 +0000 (0:00:00.046)       0:05:10.256 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : Unregister from subscription manager] *****************
Monday 04 August 2025  08:52:58 +0000 (0:00:03.413)       0:05:13.669 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Deactivate DNS lookup in sshd] **********************************
Monday 04 August 2025  08:52:58 +0000 (0:00:00.079)       0:05:13.749 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [common : Update all packages] ********************************************
Monday 04 August 2025  08:52:59 +0000 (0:00:01.498)       0:05:15.248 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Update all packages Legacy] *************************************
Monday 04 August 2025  08:52:59 +0000 (0:00:00.049)       0:05:15.298 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  08:52:59 +0000 (0:00:00.051)       0:05:15.350 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Reboot all VMs] *************************************************
Monday 04 August 2025  08:52:59 +0000 (0:00:00.044)       0:05:15.394 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Update network facts after reboot] ******************************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.043)       0:05:15.437 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Run setup if gather_facts hasn't been run] **********************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.041)       0:05:15.479 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : install common packages for RHEL 7] *****************************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.045)       0:05:15.524 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : install common packages for RHEL 8] *****************************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.063)       0:05:15.588 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Set up python alternatives for convenience] *********************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.054)       0:05:15.643 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : install common packages for RHEL 9] *****************************
Monday 04 August 2025  08:53:00 +0000 (0:00:00.048)       0:05:15.692 ********* 
changed: [controller.example.com]
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]

TASK [common : install extra packages] *****************************************
Monday 04 August 2025  08:56:53 +0000 (0:03:53.155)       0:09:08.848 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Update specified packages] **************************************
Monday 04 August 2025  08:56:53 +0000 (0:00:00.052)       0:09:08.900 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  08:56:53 +0000 (0:00:00.046)       0:09:08.946 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Reboot VMs] *****************************************************
Monday 04 August 2025  08:56:53 +0000 (0:00:00.056)       0:09:09.003 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

TASK [common : Refresh network facts post-reboot] ******************************
Monday 04 August 2025  08:56:53 +0000 (0:00:00.055)       0:09:09.059 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

RUNNING HANDLER [common : restart_sshd] ****************************************
Monday 04 August 2025  08:56:53 +0000 (0:00:00.101)       0:09:09.160 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]

PLAY [Install Pre Software workloads on bastion] *******************************

TASK [Deploying Pre Software workloads on bastion] *****************************
Monday 04 August 2025  08:56:55 +0000 (0:00:01.282)       0:09:10.443 ********* 

TASK [bastion-lite : Generate an SSH key on the Bastion and configure access on all the hosts] ***
Monday 04 August 2025  08:56:55 +0000 (0:00:00.054)       0:09:10.498 ********* 
included: /runner/project/ansible/roles/bastion-lite/tasks/./create_bastion_ssh_key_and_access.yml for bastion.example.com

TASK [bastion-lite : Generate SSH keys] ****************************************
Monday 04 August 2025  08:56:55 +0000 (0:00:00.024)       0:09:10.522 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Fix permission of ssh key] ********************************
Monday 04 August 2025  08:56:55 +0000 (0:00:00.896)       0:09:11.418 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Generate SSH pub key content] *****************************
Monday 04 August 2025  08:56:56 +0000 (0:00:00.512)       0:09:11.931 ********* 
ok: [bastion.example.com]

TASK [bastion-lite : Save all facts for SSH] ***********************************
Monday 04 August 2025  08:56:57 +0000 (0:00:00.513)       0:09:12.444 ********* 
ok: [bastion.example.com]

TASK [bastion-lite : Write SSH pub key] ****************************************
Monday 04 August 2025  08:56:57 +0000 (0:00:00.022)       0:09:12.467 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  08:56:58 +0000 (0:00:01.000)       0:09:13.468 ********* 
changed: [bastion.example.com] => (item=bastion.example.com)
changed: [bastion.example.com -> controller.example.com] => (item=controller.example.com)
changed: [bastion.example.com -> server.example.com] => (item=server.example.com)
changed: [bastion.example.com -> node1.example.com] => (item=node1.example.com)

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  08:57:01 +0000 (0:00:03.204)       0:09:16.673 ********* 
changed: [bastion.example.com] => (item=bastion.example.com)
changed: [bastion.example.com -> controller.example.com] => (item=controller.example.com)
changed: [bastion.example.com -> server.example.com] => (item=server.example.com)
changed: [bastion.example.com -> node1.example.com] => (item=node1.example.com)

TASK [bastion-lite : Generate .ssh/config] *************************************
Monday 04 August 2025  08:57:04 +0000 (0:00:03.226)       0:09:19.899 ********* 
changed: [bastion.example.com]

TASK [Install FTL] *************************************************************
Monday 04 August 2025  08:57:05 +0000 (0:00:00.986)       0:09:20.886 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Ensure system Python3 has selinux library installed] ******
Monday 04 August 2025  08:57:05 +0000 (0:00:00.018)       0:09:20.904 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Install OpenShift Helm 3] *********************************
Monday 04 August 2025  08:57:05 +0000 (0:00:00.017)       0:09:20.922 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Add GUID to /etc/skel/.bashrc] ****************************
Monday 04 August 2025  08:57:05 +0000 (0:00:00.017)       0:09:20.939 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add GUID to ~ec2-user/.bashrc] ****************************
Monday 04 August 2025  08:57:06 +0000 (0:00:00.500)       0:09:21.439 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add CLOUDUSER to /etc/skel/.bashrc] ***********************
Monday 04 August 2025  08:57:06 +0000 (0:00:00.501)       0:09:21.940 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add CLOUDUSER to ~ec2-user/.bashrc] ***********************
Monday 04 August 2025  08:57:07 +0000 (0:00:00.504)       0:09:22.445 ********* 
changed: [bastion.example.com]

TASK [control-user : Create user skel files] ***********************************
Monday 04 August 2025  08:57:07 +0000 (0:00:00.510)       0:09:22.955 ********* 
changed: [bastion.example.com] => (item=.vimrc)

TASK [control-user : Create user lab-user] *************************************
Monday 04 August 2025  08:57:08 +0000 (0:00:00.951)       0:09:23.907 ********* 
included: /runner/project/ansible/roles/control-user/tasks/create-user.yml for bastion.example.com

TASK [control-user : Create user lab-user] *************************************
Monday 04 August 2025  08:57:08 +0000 (0:00:00.023)       0:09:23.931 ********* 
[WARNING]: 'append' is set, but no 'groups' are specified. Use 'groups' for
appending new groups.This will change to an error in Ansible 2.14.
changed: [bastion.example.com]

TASK [control-user : Set ssh user lab-user password] ***************************
Monday 04 August 2025  08:57:09 +0000 (0:00:00.873)       0:09:24.804 ********* 
changed: [bastion.example.com]

TASK [control-user : Setup user's resource directory] **************************
Monday 04 August 2025  08:57:10 +0000 (0:00:00.904)       0:09:25.709 ********* 
included: /runner/project/ansible/roles/control-user/tasks/create-directory.yml for bastion.example.com

TASK [control-user : Create resource directory] ********************************
Monday 04 August 2025  08:57:10 +0000 (0:00:00.022)       0:09:25.731 ********* 
skipping: [bastion.example.com]

TASK [control-user : Create user's custom directory] ***************************
Monday 04 August 2025  08:57:10 +0000 (0:00:00.018)       0:09:25.750 ********* 
skipping: [bastion.example.com]

TASK [control-user : Enable sudoers] *******************************************
Monday 04 August 2025  08:57:10 +0000 (0:00:00.019)       0:09:25.769 ********* 
changed: [bastion.example.com]

TASK [control-user : SSH setup for user] ***************************************
Monday 04 August 2025  08:57:11 +0000 (0:00:00.989)       0:09:26.759 ********* 
included: /runner/project/ansible/roles/control-user/tasks/ssh-config.yml for bastion.example.com

TASK [control-user : create /home/lab-user/.ssh] *******************************
Monday 04 August 2025  08:57:11 +0000 (0:00:00.040)       0:09:26.800 ********* 
changed: [bastion.example.com]

TASK [control-user : copy the environment .pem key] ****************************
Monday 04 August 2025  08:57:11 +0000 (0:00:00.544)       0:09:27.344 ********* 
changed: [bastion.example.com]

TASK [control-user : copy the environment .pub key] ****************************
Monday 04 August 2025  08:57:12 +0000 (0:00:00.989)       0:09:28.334 ********* 
changed: [bastion.example.com]

TASK [control-user : Create authorized keys] ***********************************
Monday 04 August 2025  08:57:13 +0000 (0:00:00.975)       0:09:29.309 ********* 
changed: [bastion.example.com]

TASK [control-user : copy custom ssh key] **************************************
Monday 04 August 2025  08:57:14 +0000 (0:00:00.540)       0:09:29.850 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy ssh config template] *********************************
Monday 04 August 2025  08:57:14 +0000 (0:00:00.023)       0:09:29.873 ********* 
changed: [bastion.example.com]

TASK [control-user : Remove PasswordAuthentication line from 50-cloud-init.conf] ***
Monday 04 August 2025  08:57:15 +0000 (0:00:00.994)       0:09:30.867 ********* 
changed: [bastion.example.com]

TASK [control-user : Enable password ssh authentication] ***********************
Monday 04 August 2025  08:57:15 +0000 (0:00:00.518)       0:09:31.385 ********* 
changed: [bastion.example.com]

TASK [control-user : Disable root password ssh authentication] *****************
Monday 04 August 2025  08:57:16 +0000 (0:00:00.531)       0:09:31.917 ********* 
changed: [bastion.example.com]

TASK [control-user : Restart sshd to read conf changes] ************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.526)       0:09:32.444 ********* 
changed: [bastion.example.com]

TASK [control-user : Copy files] ***********************************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.754)       0:09:33.198 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-files.yml for bastion.example.com

TASK [control-user : Copy user's file to resource dir] *************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.027)       0:09:33.225 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to resource dir] *********************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.020)       0:09:33.245 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's contentto resource dir] ***********************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.019)       0:09:33.265 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy templates] *******************************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.024)       0:09:33.289 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-templates.yml for bastion.example.com

TASK [control-user : Copy user's template to resource dir] *********************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.035)       0:09:33.324 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to home dir] *************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.020)       0:09:33.344 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to path] *****************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.019)       0:09:33.364 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy contents] ********************************************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.026)       0:09:33.391 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-contents.yml for bastion.example.com

TASK [control-user : Copy user's content to resource dir] **********************
Monday 04 August 2025  08:57:17 +0000 (0:00:00.031)       0:09:33.423 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's content to home dir] **************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.026)       0:09:33.450 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's content to path] ******************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.020)       0:09:33.470 ********* 
skipping: [bastion.example.com]

TASK [control-user : Report user data] *****************************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.020)       0:09:33.490 ********* 
included: /runner/project/ansible/roles/control-user/tasks/report-user-data.yml for bastion.example.com

TASK [control-user : Report user data] *****************************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.032)       0:09:33.523 ********* 
ok: [bastion.example.com] => {
    "changed": false,
    "data": {
        "password": "[REDACTED_Secret Keyword_SECRET]",
        "ssh_host": "ec2-18-189-203-23.us-east-2.compute.amazonaws.com",
        "user": "lab-user"
    }
}

TASK [control-user : Report user data ssh key] *********************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.037)       0:09:33.560 ********* 
skipping: [bastion.example.com]

PLAY [Install Pre Software workloads for windows] ******************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for gitlab] *******************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Automation Controller] ****************

TASK [Deploying Pre Software workloads on Automation Controller] ***************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.057)       0:09:33.617 ********* 
skipping: [controller.example.com]

PLAY [Install Pre Software workloads for Satelliltes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Satelllite Capsules] ******************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Automation Server] ********************
skipping: no hosts matched

PLAY [Install Pre Software workloads for nodes] ********************************

TASK [Deploying Pre Software workloads on nodes] *******************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.064)       0:09:33.682 ********* 
skipping: [node1.example.com]

PLAY [Install Pre Software workloads for rhel7 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel8 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel9 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel10 nodes] *************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for centos nodes] *************************

TASK [Deploying Pre Software workloads on centos nodes] ************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.059)       0:09:33.741 ********* 
skipping: [server.example.com]

PLAY [Install Pre Software workloads for rhelai nodes] *************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for network] ******************************
skipping: no hosts matched

PLAY [PreSoftware flight-check] ************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.046)       0:09:33.787 ********* 
ok: [localhost] => {
    "msg": "Pre-Software checks completed successfully"
}

PLAY [Step 004 software] *******************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.028)       0:09:33.815 ********* 
ok: [localhost] => {
    "msg": "Software tasks Started"
}

PLAY [Install Software  workloads on localhost] ********************************

TASK [Deploying Software workloads  on localhost] ******************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.027)       0:09:33.843 ********* 
skipping: [localhost]

PLAY [Install Software workloads on  all hosts] ********************************

TASK [Deploying Software workloads on all hosts] *******************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.070)       0:09:33.914 ********* 
skipping: [bastion.example.com]
skipping: [controller.example.com]
skipping: [server.example.com]
skipping: [node1.example.com]

PLAY [Install Software workloads on bastion] ***********************************

TASK [Deploying Software workloads on bastion] *********************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.124)       0:09:34.038 ********* 
skipping: [bastion.example.com]

PLAY [Install Software workloads for windows] **********************************
skipping: no hosts matched

PLAY [Install Software workloads for gitlab] ***********************************
skipping: no hosts matched

PLAY [Install Software workloads for Automation Controller] ********************

TASK [Deploying Software workloads on Automation Controller] *******************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.054)       0:09:34.093 ********* 

TASK [nginx_with_cert : Set python interpreter for nginx_with_cert] ************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.067)       0:09:34.161 ********* 
skipping: [controller.example.com]

TASK [nginx_with_cert : Nginx | include correct tasks for OS] ******************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.026)       0:09:34.188 ********* 
included: /runner/project/ansible/roles/nginx_with_cert/tasks/nginx/RedHat9.yml for controller.example.com

TASK [nginx_with_cert : nginx/RedHat9 | enable EPEL] ***************************
Monday 04 August 2025  08:57:18 +0000 (0:00:00.030)       0:09:34.218 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : nginx/RedHat9 | install nginx and certbot packages] ****
Monday 04 August 2025  08:57:25 +0000 (0:00:06.490)       0:09:40.708 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : nginx/RedHat9 | remove EPEL after usage] ***************
Monday 04 August 2025  08:58:13 +0000 (0:00:48.175)       0:10:28.883 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | start nginx server] ****************************
Monday 04 August 2025  08:58:20 +0000 (0:00:07.485)       0:10:36.369 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | generate certbot certificate] ******************
Monday 04 August 2025  08:58:22 +0000 (0:00:01.561)       0:10:37.930 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | create nginx certificate directory] ************
Monday 04 August 2025  08:58:36 +0000 (0:00:13.792)       0:10:51.722 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy letsencrypt key] **************************
Monday 04 August 2025  08:58:36 +0000 (0:00:00.677)       0:10:52.400 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy letsencrypt certificate] ******************
Monday 04 August 2025  08:58:37 +0000 (0:00:00.632)       0:10:53.033 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy custom nginx_with_cert nginx configuration file] ***
Monday 04 August 2025  08:58:38 +0000 (0:00:00.742)       0:10:53.775 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | enable selinux boolean to connect with nginx_with_cert] ***
Monday 04 August 2025  08:58:39 +0000 (0:00:01.325)       0:10:55.101 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | restart nginx server] **************************
Monday 04 August 2025  08:58:43 +0000 (0:00:04.204)       0:10:59.306 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : print out user.info] ***********************************
Monday 04 August 2025  08:58:44 +0000 (0:00:01.095)       0:11:00.402 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "msg": "user.info: nginx_web_url: controller.cczgp.sandbox622.opentlc.com\\n"
}

TASK [nginx_with_cert : Save user data] ****************************************
Monday 04 August 2025  08:58:44 +0000 (0:00:00.027)       0:11:00.429 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "data": {
        "nginx_web_url": "controller.cczgp.sandbox622.opentlc.com"
    }
}

TASK [ansible_automation_platform_configuration : Generate OCP bearer token for use in AAP as OCP credential] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.033)       0:11:00.463 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Generate SSH keypair for use in AAP as ssh machine credential] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.017)       0:11:00.480 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Generate SSH keypair for use in AAP as ssh machine credential] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.017)       0:11:00.498 ********* 
included: /runner/project/ansible/roles/ansible_automation_platform_configuration/tasks/aap-configuration.yml for controller.example.com

TASK [ansible_automation_platform_configuration : Create AAP Auth token] *******
Monday 04 August 2025  08:58:45 +0000 (0:00:00.048)       0:11:00.547 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Save token for agnosticd_user_info] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.017)       0:11:00.564 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.dispatch : Validating arguments against arg spec 'main' - An Ansible Role to call other roles to create objects on Ansible Automation Platform.] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.021)       0:11:00.586 ********* 
ok: [controller.example.com]

TASK [Run the following infra.aap_configuration roles: controller_license, gateway_settings, gateway_users, controller_credentials] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.045)       0:11:00.632 ********* 
[WARNING]: Collection ansible.platform does not support Ansible version 2.15.13

TASK [infra.aap_configuration.meta_dependency_check : Print dependency check status] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.116)       0:11:00.748 ********* 
ok: [controller.example.com] => {
    "msg": "Dependency check is deactivated. Required collections presence will not be verified. This might cause failure in the next tasks."
}

TASK [infra.aap_configuration.meta_dependency_check : Check awx.awx is installed] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.022)       0:11:00.771 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.meta_dependency_check : Check ansible.controller is installed] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.017)       0:11:00.788 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.meta_dependency_check : Ensure one is installed] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.018)       0:11:00.807 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Validating arguments against arg spec 'main' - An Ansible Role to deploy a license on Ansible Controller.] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.029)       0:11:00.836 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Use manifest file] **********
Monday 04 August 2025  08:58:45 +0000 (0:00:00.033)       0:11:00.870 ********* 
included: /usr/share/ansible/collections/ansible_collections/infra/aap_configuration/roles/controller_license/tasks/manifest.yml for controller.example.com

TASK [infra.aap_configuration.controller_license : manifest | Ensure manifest is set] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.039)       0:11:00.909 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra.aap_configuration.controller_license : manifest | Move manifest file to temporary location] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.027)       0:11:00.937 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Fetch manifest from URL] ***
Monday 04 August 2025  08:58:45 +0000 (0:00:00.019)       0:11:00.957 ********* 
changed: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Create manifest file from base64 encoded content] ***
Monday 04 August 2025  08:58:46 +0000 (0:00:01.395)       0:11:02.352 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Install the Controller license] ***
Monday 04 August 2025  08:58:46 +0000 (0:00:00.021)       0:11:02.373 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Use subscription pool id or subscription lookup] ***
Monday 04 August 2025  08:58:51 +0000 (0:00:04.542)       0:11:06.915 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.gateway_settings : Validating arguments against arg spec 'main' - An Ansible Role to create settings on automation platform gateway.] ***
Monday 04 August 2025  08:58:51 +0000 (0:00:00.032)       0:11:06.948 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.gateway_settings : Update automation platform gateway Settings] ***
Monday 04 August 2025  08:58:51 +0000 (0:00:00.029)       0:11:06.977 ********* 
changed: [controller.example.com]

TASK [infra.aap_configuration.gateway_users : Validating arguments against arg spec 'main' - An Ansible Role to create users on automation platform gateway.] ***
Monday 04 August 2025  08:58:54 +0000 (0:00:03.323)       0:11:10.300 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.gateway_users : Users | Configuration] ***********
Monday 04 August 2025  08:58:54 +0000 (0:00:00.033)       0:11:10.334 ********* 
ok: [controller.example.com] => (item=Create/Update the Gateway user lab-user)

TASK [infra.aap_configuration.gateway_users : Users | Wait for finish the configuration] ***
Monday 04 August 2025  08:58:56 +0000 (0:00:01.135)       0:11:11.469 ********* 
FAILED - RETRYING: [controller.example.com]: Users | Wait for finish the configuration (30 retries left).
FAILED - RETRYING: [controller.example.com]: Users | Wait for finish the configuration (29 retries left).
FAILED - RETRYING: [controller.example.com]: Users | Wait for finish the configuration (28 retries left).
changed: [controller.example.com] => (item=Create/Update Gateway user lab-user | Wait for finish the Gateway user creation)

TASK [infra.aap_configuration.controller_credentials : Validating arguments against arg spec 'main' - An Ansible Role to create credentials on Ansible Controller.] ***
Monday 04 August 2025  08:59:02 +0000 (0:00:06.772)       0:11:18.242 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Managing Credentials] ***
Monday 04 August 2025  08:59:02 +0000 (0:00:00.038)       0:11:18.281 ********* 
ok: [controller.example.com] => (item=None)
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Flag for errors (check mode only)] ***
Monday 04 August 2025  08:59:04 +0000 (0:00:01.229)       0:11:19.510 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Managing Controller Credentials | Wait for finish the credential management] ***
Monday 04 August 2025  08:59:04 +0000 (0:00:00.024)       0:11:19.534 ********* 
FAILED - RETRYING: [controller.example.com]: Managing Controller Credentials | Wait for finish the credential management (30 retries left).
FAILED - RETRYING: [controller.example.com]: Managing Controller Credentials | Wait for finish the credential management (29 retries left).
FAILED - RETRYING: [controller.example.com]: Managing Controller Credentials | Wait for finish the credential management (28 retries left).
changed: [controller.example.com] => (item=None)
changed: [controller.example.com]

TASK [infra.aap_configuration.dispatch : Fail the playbook if there were errors (check mode only)] ***
Monday 04 August 2025  08:59:10 +0000 (0:00:06.680)       0:11:26.214 ********* 
skipping: [controller.example.com]

PLAY [Install Software workloads for Satelliltes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for Satelllite Capsules] **********************
skipping: no hosts matched

PLAY [Install Software workloads for Automation Server] ************************
skipping: no hosts matched

PLAY [Install Software workloads for nodes] ************************************

TASK [Deploying Software workloads on nodes] ***********************************
Monday 04 August 2025  08:59:10 +0000 (0:00:00.126)       0:11:26.341 ********* 
skipping: [node1.example.com]

PLAY [Install Software workloads for rhel7 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel8 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel9 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel10 nodes] *****************************
skipping: no hosts matched

PLAY [Install Software workloads for centos nodes] *****************************

TASK [Deploying Software workloads on centos nodes] ****************************
Monday 04 August 2025  08:59:10 +0000 (0:00:00.062)       0:11:26.403 ********* 

TASK [server_customization : Install] ******************************************
Monday 04 August 2025  08:59:11 +0000 (0:00:00.052)       0:11:26.455 ********* 
fatal: [server.example.com]: FAILED! => {"changed": false, "failures": [], "msg": "Depsolve Error occurred: \\n Problem: package ansible-rulebook-1.0.8-2.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms requires python3.9dist(ansible-runner), but none of the providers can be installed\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.4-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.2-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.5-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.6-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package ansible-navigator-25.5.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms requires (python3.11dist(ansible-runner) < 3 with python3.11dist(ansible-runner) >= 2.3.1), but none of the providers can be installed\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.4-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.2-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.5-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.6-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - cannot install the best candidate for the job", "rc": 1, "results": []}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.example.com        : ok=67   changed=43   unreachable=0    failed=0    skipped=54   rescued=0    ignored=0   
controller.example.com     : ok=63   changed=28   unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
localhost                  : ok=125  changed=22   unreachable=0    failed=0    skipped=77   rescued=0    ignored=0   
node1.example.com          : ok=33   changed=20   unreachable=0    failed=0    skipped=39   rescued=0    ignored=0   
server.example.com         : ok=33   changed=20   unreachable=0    failed=1    skipped=38   rescued=0    ignored=0   

TASKS RECAP ********************************************************************
Monday 04 August 2025  08:59:16 +0000 (0:00:05.570)       0:11:32.026 ********* 
=============================================================================== 
common : install common packages for RHEL 9 --------------------------- 233.16s
infra-ec2-template-create : Launch CloudFormation template (local) ---- 158.58s
nginx_with_cert : nginx/RedHat9 | install nginx and certbot packages --- 48.18s
ssh_authorized_keys : Add all authorized keys -------------------------- 20.11s
nginx_with_cert : Nginx | generate certbot certificate ----------------- 13.79s
set-repositories : sat | Install Satellite CA certificate package ------ 11.71s
set-repositories : sat | Register with activation-key with HA ---------- 10.14s
set-repositories : sat | Remove rh-amazon-rhui-client package ----------- 8.69s
set-repositories : sat | Enable repos ----------------------------------- 7.75s
nginx_with_cert : nginx/RedHat9 | remove EPEL after usage --------------- 7.49s
infra-ec2-wait_for_linux_hosts : wait for linux host to be available ---- 7.25s
infra-ec2-wait_for_linux_hosts : ping ----------------------------------- 6.87s
infra.aap_configuration.gateway_users : Users | Wait for finish the configuration --- 6.77s
infra.aap_configuration.controller_credentials : Managing Controller Credentials | Wait for finish the credential management --- 6.68s
nginx_with_cert : nginx/RedHat9 | enable EPEL --------------------------- 6.49s
infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns ---- 5.73s
server_customization : Install ------------------------------------------ 5.57s
Gathering Facts --------------------------------------------------------- 5.09s
set-repositories : sat | Remove satellite Cert -------------------------- 4.73s
infra.aap_configuration.controller_license : manifest | Install the Controller license --- 4.54s
