/usr/local/lib/python3.9/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.
  "cipher": algorithms.TripleDES,
/usr/local/lib/python3.9/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.
  "class": algorithms.TripleDES,
Vault password (gpte_vault_0): 

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [Set output_dir if not defined] *******************************************
skipping: [localhost]

TASK [Stat output_dir] *********************************************************
ok: [localhost]

TASK [Create output_dir if it does not exists] *********************************
changed: [localhost]

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Set passthrough user data] ***********************************************
skipping: [localhost]

PLAY [Step 0000 Find Include Vars files] ***************************************

TASK [Stat default variables files (both yaml/yml extensions)] *****************
ok: [localhost] => (item=['cloud_providers/ec2_default_vars', 'yaml'])
ok: [localhost] => (item=['cloud_providers/ec2_default_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars.ec2', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars.ec2', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars_ec2', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars_ec2', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_secret_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_secret_vars', 'yml'])

TASK [Stat variables files] ****************************************************
ok: [localhost] => (item=/secret/file/not/passed)

PLAY [Step 0000 Include vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
ok: [localhost]

TASK [Include variables files] *************************************************
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
ok: [localhost] => (item=configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
ok: [localhost] => (item=configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
ok: [localhost]

TASK [set_fact] ****************************************************************
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
[WARNING]: skipping installation of community.general==8.4.0 ;
community.general==9.2.0 already installed in EE
[WARNING]: skipping installation of community.crypto==2.18.0 ;
community.crypto==2.21.1 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of kubernetes.core==3.0.1 ;
kubernetes.core==5.0.0 already installed in EE
[WARNING]: skipping installation of amazon.aws==7.4.0 ; amazon.aws==8.1.0
already installed in EE
[WARNING]: skipping installation of community.vmware==4.2.0 ;
community.vmware==4.5.0 already installed in EE
[WARNING]: skipping installation of google.cloud==1.3.0 ; google.cloud==1.3.0
already installed in EE
[WARNING]: skipping installation of openstack.cloud==2.2.0 ;
openstack.cloud==2.2.0 already installed in EE
[WARNING]: skipping installation of community.okd==3.0.1 ; community.okd==4.0.0
already installed in EE
[WARNING]: skipping installation of kubevirt.core==1.2.2 ; kubevirt.core==2.0.0
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
changed: [localhost]

TASK [Install dynamic sources] *************************************************

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
skipping: [localhost]

PLAY [Step 0000 Setup output_dir] **********************************************

TASK [Attempt to restore output_dir contents] **********************************

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
ok: [localhost]

PLAY [Step 000 - Pre Infrastructure] *******************************************

TASK [debug] *******************************************************************
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure"
}

TASK [Ensure variables are set] ************************************************
ok: [localhost] => {
    "changed": false,
    "msg": "ocp4_pull_secret variable is defined"
}

TASK [Run add user to GCP project role] ****************************************
skipping: [localhost]

TASK [Create GCP Credentials File] *********************************************
skipping: [localhost]

TASK [Get Google Cloud SDK] ****************************************************
skipping: [localhost]

TASK [Generate windows Administrator password if not already defined] **********
skipping: [localhost]

TASK [set_fact generated_windows_password (just generated)] ********************
skipping: [localhost]

TASK [Run infra-aws-capacity-reservation] **************************************

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [Set availability zone for bastion, masters and workers] ******************
skipping: [localhost]

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************

TASK [infra-images : include_tasks] ********************************************
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'alt_name': ['clientvm'], 'image': 'RHEL93GOLD-latest', 'flavor': {'ec2': 't3a.medium'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,clientvms'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'Purpose', 'value': 'production'}, {'key': 'project', 'value': 'ocp4-cluster-vjqvx'}, {'key': 'user', 'value': 'lab-user'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.3.*_HVM-*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.3.0_HVM-20240229-x86_64-27-Access2-GP3 - ami-03d966b7245c660ec - Red Hat BYOL Linux"
}

TASK [Run infra-aws-capacity-reservation] **************************************

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
skipping: [localhost]

TASK [Run infra-aws-open-environment Role] *************************************

TASK [infra-aws-open-environment : Create Open Environment resources] **********
included: /runner/project/ansible/roles-infra/infra-aws-open-environment/tasks/create_resources.yaml for localhost

TASK [include_role : infra-cloud-tags] *****************************************

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
ok: [localhost]

TASK [infra-aws-open-environment : Save generated password] ********************
ok: [localhost]

TASK [infra-aws-open-environment : Launch CloudFormation template to create Open Environment] ***
changed: [localhost]

TASK [infra-aws-open-environment : get AWS credentials from stack outputs] *****
ok: [localhost]

TASK [infra-aws-open-environment : Print information to user] ******************
included: /runner/project/ansible/roles-infra/infra-aws-open-environment/tasks/print_user_info.yaml for localhost

TASK [infra-aws-open-environment : Print Open Environment information to user] ***
ok: [localhost] => {
    "changed": false,
    "msg": "user.info: \\nYour AWS credentials are:\\n\\n`AWS_ACCESS_KEY_ID: [REDACTED_AWS Access Key_SECRET]`\\n\\n` DO NOT expose these AWS credentials in GIT repos or anywhere else that could be public! If detected, your environment will be deleted without warning.*\\n\\nTop level route53 domain: .sandbox918.opentlc.com\\n\\nWeb Console Access: https://135950933769.signin.aws.amazon.com/console\\n\\nWeb Console Credentials: open-environment-vjqvx-admin / UmZoyAtsOdT1\\n\\nRefer to the following pages regarding the AWS CLI and APIs:\\n\\n** AWS CLI Installation: https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html\\n\\n** AWS Config Basics: https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html\\n\\n** AWS API Getting Started: https://aws.amazon.com/developers/getting-started/\\n\\n*WARNING*\\n\\n** *We monitor usage and we will be charging back to your cost center.*\\n** *Reports from the cloud provider of misuse or account compromise will result in immediate deletion of your environment without any warning to you and referral to Red Hat INFOSEC.*\\n** *Do not post your credentials in github/email/web pages/etc.*\\n** *NOTE: Most account compromises occur when accidentally checking credentials into github.*\\n"
}

TASK [infra-aws-open-environment : Record sandbox information as user data] ****
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_access_key_id": "[REDACTED_AWS Access Key_SECRET]",
        "aws_default_region": "us-east-2",
        "aws_route53_domain": ".sandbox918.opentlc.com",
        "aws_secret_access_key": "[REDACTED_Base64 High Entropy String_SECRET]"
    }
}

TASK [infra-aws-open-environment : Record sandbox web console access as user data] ***
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_web_console_password": "[REDACTED_Secret Keyword_SECRET]",
        "aws_web_console_url": "https://135950933769.signin.aws.amazon.com/console",
        "aws_web_console_user_name": "open-environment-vjqvx-admin"
    }
}

TASK [infra-aws-open-environment : Destroy Open Environment resources] *********
skipping: [localhost]

TASK [Create ssh provision key] ************************************************

TASK [create_ssh_provision_key : include_tasks] ********************************
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [include_role : infra-cloud-tags] *****************************************
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
included: /runner/project/ansible/roles-infra/infra-ec2-template-generate/tasks/locate_availability_zones.yml for localhost

TASK [infra-ec2-template-generate : Get all the instance types] ****************
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
ok: [localhost]

TASK [infra-ec2-template-generate : Check if the AWS CLI has the 'describe-instance-type-offerings' feature] ***
ok: [localhost]

TASK [infra-ec2-template-generate : Get all subnets or networks in 'instances'] ***
ok: [localhost]

TASK [infra-ec2-template-generate : include_tasks] *****************************
included: /runner/project/ansible/roles-infra/infra-ec2-template-generate/tasks/locate_availability_zones_tasks.yml for localhost

TASK [infra-ec2-template-generate : Get the possible AZs] **********************
ok: [localhost] => (item=t3a.medium)

TASK [infra-ec2-template-generate : debug] *************************************
skipping: [localhost]

TASK [infra-ec2-template-generate : Fail if return code is not 0] **************
skipping: [localhost] => (item=['aws', 'ec2', 'describe-instance-type-offerings', '--location-type', 'availability-zone', '--filters', 'Name=instance-type,Values=t3a.medium', '--query', 'InstanceTypeOfferings[].Location', '--output', 'json']) 
skipping: [localhost]

TASK [infra-ec2-template-generate : Set fact of the possible Availability Zones] ***
ok: [localhost]

TASK [infra-ec2-template-generate : Calculate intersection of all AZs and set_fact] ***
ok: [localhost] => (item=['us-east-2b', 'us-east-2c', 'us-east-2a'])

TASK [infra-ec2-template-generate : Abort if no AZ is found] *******************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-ec2-template-generate : Print possible availability zones] *********
ok: [localhost] => {
    "infra_ec2_template_generate_possible_azs": [
        "us-east-2b",
        "us-east-2c",
        "us-east-2a"
    ]
}

TASK [infra-ec2-template-generate : Select the first AZ in the possible AZs and set fact aws_availability_zone] ***
ok: [localhost]

TASK [infra-ec2-template-generate : Debug] *************************************
ok: [localhost] => {
    "aws_availability_zone": "us-east-2b"
}

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
skipping: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
ok: [localhost] => {
    "cloudformation_template_src": "templates/cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-d085ee4d-4fb8-5f0a-9281-288cef5e7d98/ocp4-cluster.vjqvx.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
skipping: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************

TASK [include_role : infra-cloud-tags] *****************************************
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
[DEPRECATION WARNING]: Param 'template' is deprecated. See the module docs for 
more information. This feature will be removed from amazon.aws in a release 
after 2026-05-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
ok: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************

TASK [infra-ec2-create-inventory : Report aws region] **************************
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
ok: [localhost] => (item=bastion.vjqvx.internal)

TASK [infra-ec2-create-inventory : add_host] ***********************************
changed: [localhost] => (item=bastion.vjqvx.internal)

TASK [infra-ec2-create-inventory : add_host] ***********************************
changed: [localhost] => (item=bastion.vjqvx.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
skipping: [localhost] => (item=bastion.vjqvx.internal) 
skipping: [localhost]

PLAY [Step 0000 Find Include Vars files] ***************************************

TASK [Stat default variables files (both yaml/yml extensions)] *****************
ok: [localhost] => (item=['cloud_providers/ec2_default_vars', 'yaml'])
ok: [localhost] => (item=['cloud_providers/ec2_default_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars.ec2', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars.ec2', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars_ec2', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/default_vars_ec2', 'yml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_secret_vars', 'yaml'])
ok: [localhost] => (item=['configs/ocp4-cluster/env_secret_vars', 'yml'])

TASK [Stat variables files] ****************************************************
ok: [localhost] => (item=/secret/file/not/passed)

PLAY [Step 0000 Include vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
ok: [localhost]
ok: [bastion.vjqvx.internal]

TASK [Include variables files] *************************************************
skipping: [localhost] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
ok: [localhost] => (item=configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
ok: [bastion.vjqvx.internal] => (item=configs/ocp4-cluster/default_vars.yml)
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
ok: [localhost] => (item=configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
skipping: [localhost] => (item=skipped) 
ok: [bastion.vjqvx.internal] => (item=configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
skipping: [bastion.vjqvx.internal] => (item=skipped) 
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
ok: [bastion.vjqvx.internal]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
ok: [bastion.vjqvx.internal]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
skipping: [bastion.vjqvx.internal]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
skipping: [bastion.vjqvx.internal]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
ok: [bastion.vjqvx.internal]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
changed: [bastion.vjqvx.internal]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
ok: [bastion.vjqvx.internal]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
changed: [bastion.vjqvx.internal]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
changed: [bastion.vjqvx.internal]

TASK [Add authorized_keys] *****************************************************

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
changed: [bastion.vjqvx.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.vjqvx.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.vjqvx.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [bastion.vjqvx.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [bastion.vjqvx.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
skipping: [bastion.vjqvx.internal]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 - Post Infrastructure] ******************************************

TASK [All-Cloud Post Infrastructure] *******************************************
ok: [localhost] => {
    "changed": false,
    "data": {
        "guid": "vjqvx"
    }
}

TASK [OpenShift Floating IPs on OpenStack] *************************************
skipping: [localhost]

TASK [Create secret for SSH Key] ***********************************************
skipping: [localhost]

TASK [get Route53User credentials from stack outputs] **************************
ok: [localhost]

TASK [Set FQDN for the bastion VM] *********************************************
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
skipping: [localhost]

TASK [Print Host Information] **************************************************
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
skipping: [localhost]

PLAY [Step 003 - Pre Software] *************************************************

TASK [debug] *******************************************************************
ok: [localhost] => {
    "msg": "Step 003 - Pre Software"
}

PLAY [Configure all hosts with repositories, common files and set environment key] ***

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
ok: [bastion.vjqvx.internal]

TASK [set-repositories : Configure satellite repositories] *********************
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for bastion.vjqvx.internal

TASK [set-repositories : sat | Check subscription-manager package existence] ***
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Install subscription-manager package] ***********
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Unregister the system just in case] *************
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for bastion.vjqvx.internal

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
fatal: [bastion.vjqvx.internal]: FAILED! => {"changed": true, "cmd": ["subscription-manager", "unregister"], "delta": "0:00:00.496404", "end": "2025-08-04 04:56:08.411334", "msg": "non-zero return code", "rc": 1, "start": "2025-08-04 04:56:07.914930", "stderr": "This system is currently not registered.", "stderr_lines": ["This system is currently not registered."], "stdout": "", "stdout_lines": []}
...ignoring

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Remove satellite Cert] **************************
ok: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Find current repository files] ******************
ok: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Remove current repository files] ****************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
ok: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Register with activation-key] *******************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Enable repos] ***********************************
changed: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Purge existing repos] ***************************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Create the certificate and key files] ***********
skipping: [bastion.vjqvx.internal] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [bastion.vjqvx.internal] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | Add certificate and key content] ****************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | create open.repo template on host] **************
skipping: [bastion.vjqvx.internal]

TASK [set-repositories : sat | clean repositories] *****************************
changed: [bastion.vjqvx.internal]

TASK [set-repositories : Unregister from subscription manager] *****************
skipping: [bastion.vjqvx.internal]

TASK [common : Deactivate DNS lookup in sshd] **********************************
changed: [bastion.vjqvx.internal]

TASK [common : Update all packages] ********************************************
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
[WARNING]: sftp transfer mechanism failed on [bastion.vjqvx.internal]. Use
ANSIBLE_DEBUG=1 to see detailed information
[WARNING]: scp transfer mechanism failed on [bastion.vjqvx.internal]. Use
ANSIBLE_DEBUG=1 to see detailed information
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j987694568336.7522 started=1 finished=0
ASYNC OK on bastion.vjqvx.internal: jid=j987694568336.7522
changed: [bastion.vjqvx.internal]

TASK [common : Determine if reboot is needed] **********************************
ok: [bastion.vjqvx.internal]

TASK [common : Reboot all VMs] *************************************************
changed: [bastion.vjqvx.internal]

TASK [common : Update network facts after reboot] ******************************
ok: [bastion.vjqvx.internal]

TASK [common : Run setup if gather_facts hasn't been run] **********************
skipping: [bastion.vjqvx.internal]

TASK [common : install common packages for RHEL 7] *****************************
skipping: [bastion.vjqvx.internal]

TASK [common : install common packages for RHEL 8] *****************************
skipping: [bastion.vjqvx.internal]

TASK [common : Set up python alternatives for convenience] *********************
skipping: [bastion.vjqvx.internal]

TASK [common : install common packages for RHEL 9] *****************************
changed: [bastion.vjqvx.internal]

TASK [common : install extra packages] *****************************************
skipping: [bastion.vjqvx.internal]

TASK [common : Update specified packages] **************************************
skipping: [bastion.vjqvx.internal]

TASK [common : Determine if reboot is needed] **********************************
skipping: [bastion.vjqvx.internal]

TASK [common : Reboot VMs] *****************************************************
skipping: [bastion.vjqvx.internal]

TASK [common : Refresh network facts post-reboot] ******************************
skipping: [bastion.vjqvx.internal]

TASK [set_env_authorized_key : create /root/.ssh] ******************************
ok: [bastion.vjqvx.internal]

TASK [set_env_authorized_key : copy the environment .pem key] ******************
changed: [bastion.vjqvx.internal]

TASK [set_env_authorized_key : copy the environment .pub key] ******************
changed: [bastion.vjqvx.internal]

TASK [set_env_authorized_key : Set authorized key from file] *******************
changed: [bastion.vjqvx.internal]

TASK [set_env_authorized_key : Generate host .ssh/config Template] *************
changed: [bastion.vjqvx.internal -> localhost]

TASK [set_env_authorized_key : copy over host .ssh/config Template] ************
changed: [bastion.vjqvx.internal]

TASK [Add GUID to /etc/skel/.bashrc] *******************************************
changed: [bastion.vjqvx.internal]

RUNNING HANDLER [common : restart_sshd] ****************************************
changed: [bastion.vjqvx.internal]

PLAY [Step 003.1 - Configuring Bastion Hosts] **********************************

TASK [Gathering Facts] *********************************************************
ok: [bastion.vjqvx.internal]

TASK [bastion-lite : Generate an SSH key on the Bastion and configure access on all the hosts] ***
included: /runner/project/ansible/roles/bastion-lite/tasks/./create_bastion_ssh_key_and_access.yml for bastion.vjqvx.internal

TASK [bastion-lite : Generate SSH keys] ****************************************
changed: [bastion.vjqvx.internal]

TASK [bastion-lite : Fix permission of ssh key] ********************************
changed: [bastion.vjqvx.internal]

TASK [bastion-lite : Generate SSH pub key content] *****************************
ok: [bastion.vjqvx.internal]

TASK [bastion-lite : Save all facts for SSH] ***********************************
ok: [bastion.vjqvx.internal]

TASK [bastion-lite : Write SSH pub key] ****************************************
changed: [bastion.vjqvx.internal]

TASK [bastion-lite : Add bastion access to all hosts] **************************
changed: [bastion.vjqvx.internal] => (item=bastion.vjqvx.internal)

TASK [bastion-lite : Add bastion access to all hosts] **************************
changed: [bastion.vjqvx.internal] => (item=bastion.vjqvx.internal)

TASK [bastion-lite : Generate .ssh/config] *************************************
changed: [bastion.vjqvx.internal]

TASK [Install FTL] *************************************************************
skipping: [bastion.vjqvx.internal]

TASK [bastion-lite : Ensure system Python3 has selinux library installed] ******
skipping: [bastion.vjqvx.internal]

TASK [bastion-lite : Install OpenShift Helm 3] *********************************
skipping: [bastion.vjqvx.internal]

TASK [bastion-lite : Add GUID to /etc/skel/.bashrc] ****************************
ok: [bastion.vjqvx.internal]

TASK [bastion-lite : Add GUID to ~ec2-user/.bashrc] ****************************
changed: [bastion.vjqvx.internal]

TASK [bastion-lite : Add CLOUDUSER to /etc/skel/.bashrc] ***********************
changed: [bastion.vjqvx.internal]

TASK [bastion-lite : Add CLOUDUSER to ~ec2-user/.bashrc] ***********************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Generate student_password if not defined] *********
skipping: [bastion.vjqvx.internal]

TASK [bastion-student-user : Check that student_password was passed to the role] ***
skipping: [bastion.vjqvx.internal]

TASK [bastion-student-user : Create user] **************************************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Add student public key] ***************************
skipping: [bastion.vjqvx.internal]

TASK [bastion-student-user : Add env authorized public key to student user] ****
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Enable password authentication] *******************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Remove PasswordAuthentication line from 50-cloud-init.conf] ***
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Disable root password authentication] *************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Allow passwordless sudo] **************************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Restart sshd] *************************************
changed: [bastion.vjqvx.internal]

TASK [bastion-student-user : Print access info] ********************************
skipping: [bastion.vjqvx.internal]

TASK [bastion-student-user : Set access data] **********************************
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "data": {
        "bastion_public_hostname": "ec2-3-141-151-17.us-east-2.compute.amazonaws.com",
        "bastion_ssh_password": "[REDACTED_Secret Keyword_SECRET]",
        "bastion_ssh_user_name": "lab-user"
    }
}

TASK [prepare student user for using Ansible within the environment] ***********
skipping: [bastion.vjqvx.internal]

TASK [Copy SSH private key to student user .ssh directory] *********************
changed: [bastion.vjqvx.internal]

TASK [Copy SSH public key to student user .ssh directory] **********************
changed: [bastion.vjqvx.internal]

TASK [Copy SSH config to student user .ssh directory] **************************
changed: [bastion.vjqvx.internal]

PLAY [Create a Python3 VirtualEnv for use in the k8s Ansible tasks] ************

TASK [Setup k8s virtualenv (EL9)] **********************************************

TASK [host_virtualenv : Check host_virtualenv_path is defined] *****************
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host_virtualenv : Gather basic ansible facts to determine pkg_mgr] *******
skipping: [bastion.vjqvx.internal]

TASK [host_virtualenv : Install virtualenv package prerequisites] **************
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Install virtualenv module system-wide for compatibility with previous behavior] ***
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Make virtualenv path] **********************************
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Write /opt/virtualenvs/k8s/host_virtualenv-requirements.txt] ***
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Set up virtualenv with updated pip] ********************
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Install requirements in virtualenv] ********************
changed: [bastion.vjqvx.internal]

TASK [host_virtualenv : Ownership of files in virtualenv path] *****************
skipping: [bastion.vjqvx.internal]

TASK [Setup k8s virtualenv (EL8)] **********************************************
skipping: [bastion.vjqvx.internal]

TASK [Install git] *************************************************************
ok: [bastion.vjqvx.internal]

PLAY [PreSoftware flight-check] ************************************************

TASK [debug] *******************************************************************
ok: [localhost] => {
    "msg": "Pre-Software checks completed successfully"
}

PLAY [Step 004 - Software] *****************************************************

TASK [Debug ocp4-cluster software playbook] ************************************
ok: [bastion.vjqvx.internal] => {
    "msg": "ocp4-cluster Software playbook"
}

PLAY [Step 004.1 - Host preparation for OpenShift 4 deployment] ****************

TASK [Call Role to provision OCP4 install host] ********************************

TASK [host-ocp4-provisioner : Ensure directory /etc/ansible exists] ************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Get awscli bundle] *******************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Unzip awscliv2.zip] ******************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Install awscli] **********************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : cleanup archive and tmp files] *******************
changed: [bastion.vjqvx.internal] => (item=/tmp/aws)
changed: [bastion.vjqvx.internal] => (item=/tmp/awscliv2.zip)

TASK [host-ocp4-provisioner : Create .aws directory] ***************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Add aws credentials for sandboxes] ***************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Add aws credentials for shared account] **********
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : Install slirp4netns] *****************************
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-provisioner : update max_user_namespaces in sysctl] ************
changed: [bastion.vjqvx.internal]

PLAY [Step 004.2 - Install OpenShift] ******************************************

TASK [Call Role to install OpenShift] ******************************************

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (specific version)] ***
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (latest stable)] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Ensure ocp4_installer_url and ocp4_client_url are set] ***
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host-ocp4-installer : Get the OpenShift Installer] ***********************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get the OpenShift CLI] *****************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : set internal network name] *************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : print internal network name] ***********************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : set ocp machine cidr] ******************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : print ocp machine cidr] ****************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : find internal network's subnet id] *****************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : set internal network subnetid] *********************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : print internal network's subnet id] ****************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Generate SSH keys] *********************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Generate SSH pub key] ******************************
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Slurp public key] **********************************
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Create cluster directory] **************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Check if version specific install-config.j2 exists] ***
ok: [bastion.vjqvx.internal -> localhost]

TASK [host-ocp4-installer : Use version-specific template for install-config-yaml] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Use default template for install-config-yaml] ******
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Generate config install-config.yaml] ***************
[DEPRECATION WARNING]: Use 'ansible.utils.nthhost' module instead. This feature
 will be removed from ansible.netcommon in a release after 2024-01-01. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Make a copy of the cluster install config] *********
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Create openshift-install manifests] ****************
included: /runner/project/ansible/roles/host-ocp4-installer/create-manifests.yml for bastion.vjqvx.internal

TASK [host-ocp4-installer : Run openshift-install create manifests] ************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Create install workaround manifests/cluster-network-03-config.yml for OVN] ***
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Create install workaround manifests/99-scsi-device-detection-machineconfig.yml] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : make sure manifests dir exists] ********************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Download Project Calico Manifest archive file to ec2-user home dir] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Extract Project Calico manifest files] *************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : verify permissions on Calico manifest files are set to 775] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : remove downloaded file] ****************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Run the installer] *********************************
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC POLL on bastion.vjqvx.internal: jid=j1660600305.16981 started=1 finished=0
ASYNC OK on bastion.vjqvx.internal: jid=j1660600305.16981
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Setup OpenStack external network during install] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Gzip Install log] **********************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get Install log] ***********************************
changed: [bastion.vjqvx.internal]

TASK [Save output_dir archive] *************************************************

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for bastion.vjqvx.internal

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for bastion.vjqvx.internal

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
changed: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
ok: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
changed: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
skipping: [bastion.vjqvx.internal]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for bastion.vjqvx.internal

TASK [include_role : infra-cloud-tags] *****************************************

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
skipping: [bastion.vjqvx.internal]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
ok: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for bastion.vjqvx.internal

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
changed: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
changed: [bastion.vjqvx.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get all instances for GUID] ************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Add GUID and env-type metadata to instances] *******
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Add additional metadata to instances] **************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Fetch kube config] *********************************
changed: [bastion.vjqvx.internal] => (item=kubeconfig)
changed: [bastion.vjqvx.internal] => (item=kubeadmin-password)

TASK [host-ocp4-installer : Make sure .kube directory exists for ec2-user] *****
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists for root] *********
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /home/ec2-user/.kube/config] ***
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /root/.kube/config] *****
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists in /home/lab-user] ***
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Copy /home/ec2-user/cluster-vjqvx/auth/kubeconfig to /home/lab-user/.kube] ***
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Create OpenShift Bash completion file] *************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get kubeadmin password] ****************************
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Set user data for kubeadmin password] **************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get console route] *********************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get Webconsole URL] ********************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get API URL] ***************************************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Get OpenShift Ingress Domain] **********************
changed: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Set facts for OpenShift console and API] ***********
ok: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Set user data for OpenShift access] ****************
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "data": {
        "openshift_api_url": "https://api.cluster-vjqvx.vjqvx.sandbox918.opentlc.com:6443",
        "openshift_client_download_url": "https://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.16.9/openshift-client-linux-4.16.9.tar.gz",
        "openshift_cluster_ingress_domain": "apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com",
        "openshift_console_url": "https://console-openshift-console.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com"
    }
}

TASK [host-ocp4-installer : Show user messages for OpenShift access] ***********
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "msg": "user.info: OpenShift Console: https://console-openshift-console.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com\\nOpenShift API for command line 'oc' client: https://api.cluster-vjqvx.vjqvx.sandbox918.opentlc.com:6443\\nDownload oc client from https://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.16.9/openshift-client-linux-4.16.9.tar.gz"
}

TASK [host-ocp4-installer : Find ingress_port_ID] ******************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : debug] *********************************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : debug] *********************************************
skipping: [bastion.vjqvx.internal]

TASK [host-ocp4-installer : Attach ocp_ingress_fip to ingress_port_ID] *********
skipping: [bastion.vjqvx.internal]

PLAY [Step 005 - Post software] ************************************************

TASK [debug] *******************************************************************
ok: [bastion.vjqvx.internal] => {
    "msg": "Post-Software Steps starting"
}

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
ok: [bastion.vjqvx.internal]

TASK [Setup cluster-admin service account] *************************************
skipping: [bastion.vjqvx.internal]

TASK [Create AWS credentials file with Route53 credentials for certificate renewals] ***
skipping: [bastion.vjqvx.internal]

PLAY [Install workloads] *******************************************************

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
ok: [bastion.vjqvx.internal]

TASK [Deploy ocp-infra workloads] **********************************************

TASK [ocp4-workload-workshop-admin-storage : Running Pre Workload Tasks] *******
included: /runner/project/ansible/roles/ocp4-workload-workshop-admin-storage/tasks/./pre_workload.yml for bastion.vjqvx.internal

TASK [ocp4-workload-workshop-admin-storage : extract api_url] ******************
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : set_fact] *************************
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : extract master_url] ***************
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : set_fact] *************************
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : Get the default route subdomain of the cluster] ***
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : Set the default route subdomain of the cluster as a fact] ***
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : cat the kubeadmin-password] *******
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : set_fact] *************************
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : set bastion_fqdn] *****************
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : debug] ****************************
ok: [bastion.vjqvx.internal] => {
    "msg": [
        "https://api.cluster-vjqvx.vjqvx.sandbox918.opentlc.com:6443",
        "https://console-openshift-console.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com",
        "apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com",
        "system:admin",
        "bastion.vjqvx.sandbox918.opentlc.com",
        "bwEr3-iqERF-WHYaJ-ih3sx"
    ]
}

TASK [ocp4-workload-workshop-admin-storage : pre_workload tasks complete] ******
ok: [bastion.vjqvx.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4-workload-workshop-admin-storage : Running Workload Tasks] ***********
included: /runner/project/ansible/roles/ocp4-workload-workshop-admin-storage/tasks/./workload.yml for bastion.vjqvx.internal

TASK [ocp4-workload-workshop-admin-storage : create the variable template file] ***
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : copy the openshift template to the remote host] ***
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : create the Project] ***************
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : deploy the labguide with the params file] ***
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : add kubeadmin to RoleBinding admin enabling route access] ***
[WARNING]: unknown field "roleRef.apiVersion"
changed: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : fetch the created route for output] ***
ok: [bastion.vjqvx.internal]

TASK [ocp4-workload-workshop-admin-storage : Provide workshop information] *****
ok: [bastion.vjqvx.internal] => (item=) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "",
    "msg": "user.info: "
}
ok: [bastion.vjqvx.internal] => (item=Access the workshop at https://dashboard-lab-ocp-cns.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "Access the workshop at https://dashboard-lab-ocp-cns.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com",
    "msg": "user.info: Access the workshop at https://dashboard-lab-ocp-cns.apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com"
}
ok: [bastion.vjqvx.internal] => (item=Login with 'kubeadmin' and 'bwEr3-iqERF-WHYaJ-ih3sx') => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "Login with 'kubeadmin' and 'bwEr3-iqERF-WHYaJ-ih3sx'",
    "msg": "user.info: Login with 'kubeadmin' and 'bwEr3-iqERF-WHYaJ-ih3sx'"
}
ok: [bastion.vjqvx.internal] => (item=) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "",
    "msg": "user.info: "
}
ok: [bastion.vjqvx.internal] => (item=Workshop may not be accessible until rollout finishes shortly.) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "Workshop may not be accessible until rollout finishes shortly.",
    "msg": "user.info: Workshop may not be accessible until rollout finishes shortly."
}

TASK [ocp4-workload-workshop-admin-storage : workload tasks complete] **********
ok: [bastion.vjqvx.internal] => {
    "msg": "Workload Tasks completed successfully."
}

TASK [ocp4-workload-workshop-admin-storage : Running Post Workload Tasks] ******
included: /runner/project/ansible/roles/ocp4-workload-workshop-admin-storage/tasks/./post_workload.yml for bastion.vjqvx.internal

TASK [ocp4-workload-workshop-admin-storage : post_workload tasks complete] *****
ok: [bastion.vjqvx.internal] => {
    "msg": "Post-Workload Tasks completed successfully."
}

TASK [ocp4-workload-workshop-admin-storage : Running Workload removal Tasks] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Running Pre Workload Tasks] *****************
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_cert_manager/tasks/./pre_workload.yml for bastion.vjqvx.internal

TASK [ocp4_workload_cert_manager : Pre_workload tasks complete] ****************
ok: [bastion.vjqvx.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_cert_manager : Running Workload Tasks] *********************
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_cert_manager/tasks/./workload.yml for bastion.vjqvx.internal

TASK [ocp4_workload_cert_manager : Setting up workload for user] ***************
ok: [bastion.vjqvx.internal] => {
    "msg": "Setting up workload for user ocp_username = system:admin"
}

TASK [Install Red Hat Cert Manager Operator] ***********************************

TASK [install_operator : openshift-cert-manager-operator - Install the operator] ***
included: /runner/project/ansible/roles/install_operator/tasks/install.yml for bastion.vjqvx.internal

TASK [install_operator : Check that operator name has been provided] ***********
ok: [bastion.vjqvx.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [install_operator : Ensure Namespace exists (openshift-cert-manager-operator)] ***
changed: [bastion.vjqvx.internal]

TASK [install_operator : Ensure OperatorGroup exists (openshift-cert-manager-operator)] ***
changed: [bastion.vjqvx.internal]

TASK [install_operator : Create CatalogSource for use with catalog snapshot (openshift-cert-manager-operator)] ***
skipping: [bastion.vjqvx.internal]

TASK [install_operator : Set subscription channel to provided channel (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal]

TASK [install_operator : Get cluster version] **********************************
skipping: [bastion.vjqvx.internal]

TASK [install_operator : Get PackageManifest for the operator (openshift-cert-manager-operator)] ***
skipping: [bastion.vjqvx.internal]

TASK [install_operator : Set operator channel (openshift-cert-manager-operator)] ***
skipping: [bastion.vjqvx.internal]

TASK [install_operator : Print operator channel to be installed (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal] => {
    "msg": "Operator channel to be installed: stable-v1"
}

TASK [install_operator : Create operator subscription (openshift-cert-manager-operator)] ***
changed: [bastion.vjqvx.internal]

TASK [install_operator : Wait until InstallPlan is created (openshift-cert-manager-operator)] ***
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (50 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (49 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (48 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (47 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (46 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (45 retries left).
FAILED - RETRYING: [bastion.vjqvx.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (44 retries left).
ok: [bastion.vjqvx.internal]

TASK [install_operator : Set InstallPlan name (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal]

TASK [install_operator : Print InstallPlan (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal] => {
    "msg": "InstallPlan: install-rl2bj"
}

TASK [install_operator : Get InstallPlan (openshift-cert-manager-operator)] ****
ok: [bastion.vjqvx.internal]

TASK [install_operator : Approve InstallPlan if necessary (openshift-cert-manager-operator)] ***
skipping: [bastion.vjqvx.internal]

TASK [install_operator : Get Installed CSV (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal]

TASK [install_operator : Print CSV version to be installed (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal] => {
    "msg": "Starting CSV: "
}

TASK [install_operator : Wait until CSV is installed (openshift-cert-manager-operator)] ***
ok: [bastion.vjqvx.internal]

TASK [install_operator : openshift-cert-manager-operator - Remove the operator] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Create CertManager] *************************
changed: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Determine API server URL] *******************
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Determine cluster wildcard domain] **********
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set DNS facts] ******************************
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Print API and Wildcard Domain] **************
ok: [bastion.vjqvx.internal] => {
    "msg": "API: api.cluster-vjqvx.vjqvx.sandbox918.opentlc.com, Wildcard Domain: apps.cluster-vjqvx.vjqvx.sandbox918.opentlc.com"
}

TASK [ocp4_workload_cert_manager : Wait until Cert Manager is ready] ***********
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up cert manager prerequisites for EC2] ***
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_cert_manager/tasks/cert_manager_ec2.yml for bastion.vjqvx.internal

TASK [ocp4_workload_cert_manager : Get HostedZoneID] ***************************
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set HostedZoneID fact] **********************
ok: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Print HostedZoneID] *************************
ok: [bastion.vjqvx.internal] => {
    "msg": "HostedZoneID: Z02555943VXJXQB5RC43M"
}

TASK [ocp4_workload_cert_manager : Create AWS credentials secret for cert manager] ***
changed: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up cert manager prerequisites for Azure] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up cert manager prerequisites for GCP] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up cert manager prerequisites for OpenStack] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up cert manager prerequisites for VMC] ***
skipping: [bastion.vjqvx.internal]

TASK [ocp4_workload_cert_manager : Set up ClusterIssuer and request certificates] ***
failed: [bastion.vjqvx.internal] (item=clusterissuer.yaml.j2) => {"ansible_loop_var": "item", "changed": false, "item": "clusterissuer.yaml.j2", "msg": "Failed to create object: b'{\\"kind\\":\\"Status\\",\\"apiVersion\\":\\"v1\\",\\"metadata\\":{},\\"status\\":\\"Failure\\",\\"message\\":\\"Internal error occurred: failed calling webhook \\\\\\\\\\"webhook.cert-manager.io\\\\\\\\\\": failed to call webhook: Post \\\\\\\\\\"https://cert-manager-webhook.cert-manager.svc:443/validate?timeout=30s\\\\\\\\\\": tls: failed to verify certificate: x509: certificate signed by unknown authority\\",\\"reason\\":\\"InternalError\\",\\"details\\":{\\"causes\\":[{\\"message\\":\\"failed calling webhook \\\\\\\\\\"webhook.cert-manager.io\\\\\\\\\\": failed to call webhook: Post \\\\\\\\\\"https://cert-manager-webhook.cert-manager.svc:443/validate?timeout=30s\\\\\\\\\\": tls: failed to verify certificate: x509: certificate signed by unknown authority\\"}]},\\"code\\":500}\\\\n'", "reason": "Internal Server Error"}
changed: [bastion.vjqvx.internal] => (item=certificate-ingress.yaml.j2)
changed: [bastion.vjqvx.internal] => (item=certificate-api.yaml.j2)
[WARNING]: unknown field "spec.isCa"

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.vjqvx.internal     : ok=183  changed=98   unreachable=0    failed=1    skipped=79   rescued=0    ignored=1   
localhost                  : ok=112  changed=24   unreachable=0    failed=0    skipped=75   rescued=0    ignored=1   
