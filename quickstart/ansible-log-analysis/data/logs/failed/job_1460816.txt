Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to provision] *************************************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.013)       0:00:00.013 ********* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.028)       0:00:00.041 ********* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.017)       0:00:00.058 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.034)       0:00:00.093 ********* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.017)       0:00:00.111 ********* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Monday 04 August 2025  08:47:33 +0000 (0:00:00.237)       0:00:00.348 ********* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Monday 04 August 2025  08:47:33 +0000 (0:00:00.023)       0:00:00.372 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  08:47:33 +0000 (0:00:00.036)       0:00:00.408 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  08:47:33 +0000 (0:00:00.037)       0:00:00.446 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Monday 04 August 2025  08:47:34 +0000 (0:00:00.896)       0:00:01.343 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Monday 04 August 2025  08:47:34 +0000 (0:00:00.017)       0:00:01.360 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Monday 04 August 2025  08:47:34 +0000 (0:00:00.013)       0:00:01.374 ********* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Monday 04 August 2025  08:47:35 +0000 (0:00:00.153)       0:00:01.528 ********* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Monday 04 August 2025  08:47:35 +0000 (0:00:00.174)       0:00:01.702 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Monday 04 August 2025  08:47:35 +0000 (0:00:00.312)       0:00:02.015 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.728)       0:00:02.744 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.356)       0:00:03.100 ********* 
ok: [localhost]

TASK [Include variables files] *************************************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.021)       0:00:03.122 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.060)       0:00:03.182 ********* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.016)       0:00:03.198 ********* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.028)       0:00:03.226 ********* 
ok: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Monday 04 August 2025  08:47:36 +0000 (0:00:00.014)       0:00:03.241 ********* 
changed: [localhost]

TASK [Use requirements_path from the config] ***********************************
Monday 04 August 2025  08:47:37 +0000 (0:00:00.297)       0:00:03.538 ********* 
skipping: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Monday 04 August 2025  08:47:37 +0000 (0:00:00.012)       0:00:03.551 ********* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Monday 04 August 2025  08:47:37 +0000 (0:00:00.161)       0:00:03.713 ********* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Monday 04 August 2025  08:47:37 +0000 (0:00:00.015)       0:00:03.728 ********* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.941)       0:00:04.669 ********* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.023)       0:00:04.693 ********* 
skipping: [localhost]

TASK [Install dynamic sources] *************************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.019)       0:00:04.713 ********* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Monday 04 August 2025  08:47:38 +0000 (0:00:00.018)       0:00:04.731 ********* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
ok: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Monday 04 August 2025  08:47:38 +0000 (0:00:00.313)       0:00:05.044 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.017)       0:00:05.062 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.018)       0:00:05.080 ********* 
skipping: [localhost]

PLAY [Step 000 Pre Infrastructure] *********************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.028)       0:00:05.109 ********* 
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure"
}

PLAY [Install Pre Infra  workloads on localhost] *******************************

TASK [Deploying Pre Infra workloads  on localhost] *****************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.027)       0:00:05.137 ********* 
skipping: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Install Pre Infra workloads on  all hosts] *******************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: bastions

PLAY [Install Pre Infra workloads on bastion] **********************************
skipping: no hosts matched

PLAY [Install Pre Infra workloads for windows] *********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: gitlab

PLAY [Install Pre Infra workloads for gitlab] **********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: controllers

PLAY [Install Pre Infra workloads for Automation Controller] *******************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: satellites

PLAY [Install Pre Infra workloads for Satelliltes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: capsules

PLAY [Install Pre Infra workloads for Satelllite Capsules] *********************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: servers

PLAY [Install Pre Infra workloads for Automation Server] ***********************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: nodes

PLAY [Install Pre Infra workloads for nodes] ***********************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel7_nodes

PLAY [Install Pre Infra workloads for rhel7 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel8_nodes

PLAY [Install Pre Infra workloads for rhel8 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel9_nodes

PLAY [Install Pre Infra workloads for rhel9 nodes] *****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhel10_nodes

PLAY [Install Pre Infra workloads for rhel10 nodes] ****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: centos_nodes

PLAY [Install Pre Infra workloads for centos nodes] ****************************
skipping: no hosts matched
[WARNING]: Could not match supplied host pattern, ignoring: rhelai_nodes

PLAY [Install Pre Infra workloads for rhelai nodes] ****************************
skipping: no hosts matched

PLAY [Install Pre Infra workloads for network] *********************************
skipping: no hosts matched

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.060)       0:00:05.197 ********* 
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.170)       0:00:05.368 ********* 
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.029)       0:00:05.398 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.018)       0:00:05.417 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:38 +0000 (0:00:00.031)       0:00:05.448 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'dns_loadbalancer': True, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'bastion', 'public_dns': True, 'rootfs_size': 50, 'security_groups': ['BastionSG', 'NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,automationcontroller'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': {'name': 'aap2.5-2024-11-06'}, 'name': 'controller', 'public_dns': True, 'rootfs_size': 200, 'security_groups': ['NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'controllers'}, {'key': 'ostype', 'value': 'rhel'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'image': 'RHEL95GOLD-latest', 'name': 'node', 'public_dns': False, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'ServerSG', 'NodeSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'nodes'}, {'key': 'ostype', 'value': 'linux'}]})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'server', 'public_dns': True, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'NodeSG', 'ServerSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'centos_nodes'}, {'key': 'ostype', 'value': 'linux'}], 'unique': True})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:39 +0000 (0:00:00.054)       0:00:05.503 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  08:47:39 +0000 (0:00:00.053)       0:00:05.556 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  08:47:39 +0000 (0:00:00.869)       0:00:06.426 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:39 +0000 (0:00:00.019)       0:00:06.446 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:40 +0000 (0:00:00.026)       0:00:06.472 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'name': 'aap2.5-2024-11-06'})

TASK [infra-images : Lookup image for controller] ******************************
Monday 04 August 2025  08:47:40 +0000 (0:00:00.047)       0:00:06.520 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for controller] ********************
Monday 04 August 2025  08:47:41 +0000 (0:00:01.150)       0:00:07.670 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:41 +0000 (0:00:00.019)       0:00:07.690 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:41 +0000 (0:00:00.027)       0:00:07.718 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for node] ************************************
Monday 04 August 2025  08:47:41 +0000 (0:00:00.049)       0:00:07.767 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for node] **************************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.729)       0:00:08.496 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:42 +0000 (0:00:00.021)       0:00:08.518 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.029)       0:00:08.547 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for server] **********************************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.055)       0:00:08.603 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for server] ************************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.767)       0:00:09.371 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:42 +0000 (0:00:00.020)       0:00:09.391 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.028)       0:00:09.419 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  08:47:42 +0000 (0:00:00.017)       0:00:09.437 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=controller) => {
    "msg": "controller - aap2.5-2024-11-06 - ami-073ab2ff383abe44b - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=node) => {
    "msg": "node - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=server) => {
    "msg": "server - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-capacity-reservation] **************************************
Monday 04 August 2025  08:47:43 +0000 (0:00:00.050)       0:00:09.487 ********* 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:43 +0000 (0:00:00.020)       0:00:09.507 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Monday 04 August 2025  08:47:43 +0000 (0:00:00.092)       0:00:09.600 ********* 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:43 +0000 (0:00:00.091)       0:00:09.691 ********* 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  08:47:43 +0000 (0:00:00.037)       0:00:09.728 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Monday 04 August 2025  08:47:43 +0000 (0:00:00.034)       0:00:09.763 ********* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Monday 04 August 2025  08:47:43 +0000 (0:00:00.079)       0:00:09.843 ********* 
Reservation created: cr-080d49e201d5b9edb (us-east-2b)
Reservation created: cr-0d300e9c61c5327f3 (us-east-2b)
Reservation created: cr-0128fa04b0b33624e (us-east-2b)
Reservation created: cr-01d2c6185e5d6b73a (us-east-2b)
ok: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Monday 04 August 2025  08:47:44 +0000 (0:00:01.186)       0:00:11.029 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Monday 04 August 2025  08:47:44 +0000 (0:00:00.032)       0:00:11.061 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Monday 04 August 2025  08:47:44 +0000 (0:00:00.038)       0:00:11.100 ********* 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.038)       0:00:11.138 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.041)       0:00:11.180 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_availability_zone": "us-east-2b"
    }
}

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.039)       0:00:11.220 ********* 
skipping: [localhost]

TASK [Empty the agnosticd_images and run the detection again] ******************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.031)       0:00:11.252 ********* 
ok: [localhost]

TASK [Run infra-images again to use the proper region selected by the reservations] ***
Monday 04 August 2025  08:47:44 +0000 (0:00:00.018)       0:00:11.271 ********* 

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.024)       0:00:11.296 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.036)       0:00:11.332 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'dns_loadbalancer': True, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'bastion', 'public_dns': True, 'rootfs_size': 50, 'security_groups': ['BastionSG', 'NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,automationcontroller'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': {'name': 'aap2.5-2024-11-06'}, 'name': 'controller', 'public_dns': True, 'rootfs_size': 200, 'security_groups': ['NodeSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'controllers'}, {'key': 'ostype', 'value': 'rhel'}, {'key': 'instance_filter', 'value': 'ansible-bu-workshop-ansible-bu-workshop@opentlc.com'}], 'unique': True})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'image': 'RHEL95GOLD-latest', 'name': 'node', 'public_dns': False, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'ServerSG', 'NodeSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'nodes'}, {'key': 'ostype', 'value': 'linux'}]})
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'count': 1, 'flavor': {'ec2': 't3a.large'}, 'floating_ip': True, 'image': 'RHEL95GOLD-latest', 'name': 'server', 'public_dns': True, 'rootfs_size': '50', 'security_groups': ['DefaultSG', 'NodeSG', 'ServerSG', 'WebSG'], 'tags': [{'key': 'AnsibleGroup', 'value': 'centos_nodes'}, {'key': 'ostype', 'value': 'linux'}], 'unique': True})

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:44 +0000 (0:00:00.090)       0:00:11.423 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Monday 04 August 2025  08:47:45 +0000 (0:00:00.054)       0:00:11.477 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Monday 04 August 2025  08:47:45 +0000 (0:00:00.745)       0:00:12.223 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:45 +0000 (0:00:00.022)       0:00:12.245 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:45 +0000 (0:00:00.029)       0:00:12.274 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'name': 'aap2.5-2024-11-06'})

TASK [infra-images : Lookup image for controller] ******************************
Monday 04 August 2025  08:47:45 +0000 (0:00:00.057)       0:00:12.331 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for controller] ********************
Monday 04 August 2025  08:47:47 +0000 (0:00:01.172)       0:00:13.504 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:47 +0000 (0:00:00.024)       0:00:13.528 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.032)       0:00:13.561 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for node] ************************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.060)       0:00:13.621 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for node] **************************
Monday 04 August 2025  08:47:47 +0000 (0:00:00.802)       0:00:14.424 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:47 +0000 (0:00:00.024)       0:00:14.449 ********* 
ok: [localhost]

TASK [infra-images : include_tasks] ********************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.030)       0:00:14.479 ********* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.5.*_HVM_*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for server] **********************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.056)       0:00:14.536 ********* 
ok: [localhost]

TASK [infra-images : Fail if no image found for server] ************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.705)       0:00:15.242 ********* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Monday 04 August 2025  08:47:48 +0000 (0:00:00.023)       0:00:15.266 ********* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.031)       0:00:15.297 ********* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.023)       0:00:15.320 ********* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=controller) => {
    "msg": "controller - aap2.5-2024-11-06 - ami-073ab2ff383abe44b - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=node) => {
    "msg": "node - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}
ok: [localhost] => (item=server) => {
    "msg": "server - RHEL-9.5.0_HVM_GA-20241029-x86_64-0-Access2-GP3 - ami-0e1686a22fb17852d - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-open-environment Role] *************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.081)       0:00:15.402 ********* 
skipping: [localhost]

TASK [Create ssh provision key] ************************************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.017)       0:00:15.420 ********* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Monday 04 August 2025  08:47:48 +0000 (0:00:00.040)       0:00:15.461 ********* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.015)       0:00:15.477 ********* 
skipping: [localhost]

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.016)       0:00:15.493 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.245)       0:00:15.738 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.175)       0:00:15.914 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.162)       0:00:16.076 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.023)       0:00:16.099 ********* 
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Monday 04 August 2025  08:47:49 +0000 (0:00:00.313)       0:00:16.413 ********* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Monday 04 August 2025  08:47:49 +0000 (0:00:00.015)       0:00:16.429 ********* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  08:47:49 +0000 (0:00:00.028)       0:00:16.458 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.025)       0:00:16.483 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.022)       0:00:16.506 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Monday 04 August 2025  08:47:50 +0000 (0:00:00.291)       0:00:16.797 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.020)       0:00:16.818 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.176)       0:00:16.995 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.019)       0:00:17.014 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [Run infra-cloud-tags role] ***********************************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.028)       0:00:17.043 ********* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.028)       0:00:17.072 ********* 
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Monday 04 August 2025  08:47:50 +0000 (0:00:00.027)       0:00:17.099 ********* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  08:47:50 +0000 (0:00:00.047)       0:00:17.147 ********* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Monday 04 August 2025  08:47:50 +0000 (0:00:00.073)       0:00:17.221 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Monday 04 August 2025  08:47:51 +0000 (0:00:00.909)       0:00:18.130 ********* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Monday 04 August 2025  08:47:51 +0000 (0:00:00.166)       0:00:18.296 ********* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Monday 04 August 2025  08:47:51 +0000 (0:00:00.018)       0:00:18.315 ********* 
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.019)       0:00:18.335 ********* 

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.040)       0:00:18.375 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
Monday 04 August 2025  08:47:51 +0000 (0:00:00.029)       0:00:18.405 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
Monday 04 August 2025  08:47:51 +0000 (0:00:00.027)       0:00:18.432 ********* 
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.155)       0:00:18.588 ********* 
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.032)       0:00:18.620 ********* 

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.041)       0:00:18.661 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.013)       0:00:18.675 ********* 
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.019)       0:00:18.694 ********* 
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.148)       0:00:18.843 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.023)       0:00:18.866 ********* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
Monday 04 August 2025  08:47:52 +0000 (0:00:00.022)       0:00:18.888 ********* 
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.811)       0:00:19.700 ********* 

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.051)       0:00:19.752 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.031)       0:00:19.783 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.182)       0:00:19.965 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.016)       0:00:19.982 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
Monday 04 August 2025  08:47:53 +0000 (0:00:00.013)       0:00:19.995 ********* 
ok: [localhost] => {
    "cloudformation_template_src": "../configs/ansible-bu-workshop/files/cloud_providers/ec2_cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
Monday 04 August 2025  08:47:53 +0000 (0:00:00.014)       0:00:20.010 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.067)       0:00:20.078 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
Monday 04 August 2025  08:47:53 +0000 (0:00:00.014)       0:00:20.092 ********* 
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-cac88ac5-1eaa-5749-ad48-0f7e29a4fe90/ansible-bu-workshop.p4whr.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
Monday 04 August 2025  08:47:53 +0000 (0:00:00.017)       0:00:20.110 ********* 
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.402)       0:00:20.512 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.015)       0:00:20.528 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.169)       0:00:20.697 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.013)       0:00:20.711 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.012)       0:00:20.723 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.013)       0:00:20.737 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.014)       0:00:20.751 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check for !Ref in CF template] *************
Monday 04 August 2025  08:47:54 +0000 (0:00:00.013)       0:00:20.765 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
Monday 04 August 2025  08:47:54 +0000 (0:00:00.296)       0:00:21.061 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : Copy original !Ref CF template back in place] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.028)       0:00:21.090 ********* 
skipping: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
Monday 04 August 2025  08:47:54 +0000 (0:00:00.014)       0:00:21.104 ********* 
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.988)       0:00:22.092 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************
Monday 04 August 2025  08:47:55 +0000 (0:00:00.016)       0:00:22.108 ********* 

TASK [infra-ec2-template-create : Retrieve stack_deployed from provision-user-data.yaml] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.065)       0:00:22.174 ********* 
skipping: [localhost]

TASK [include_role : infra-cloud-tags] *****************************************
Monday 04 August 2025  08:47:55 +0000 (0:00:00.018)       0:00:22.193 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:47:55 +0000 (0:00:00.018)       0:00:22.211 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.019)       0:00:22.231 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
Monday 04 August 2025  08:47:55 +0000 (0:00:00.018)       0:00:22.249 ********* 
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
Monday 04 August 2025  08:47:55 +0000 (0:00:00.021)       0:00:22.271 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.019)       0:00:22.291 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
Monday 04 August 2025  08:47:55 +0000 (0:00:00.019)       0:00:22.311 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
Monday 04 August 2025  08:47:55 +0000 (0:00:00.018)       0:00:22.329 ********* 
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
[DEPRECATION WARNING]: Param 'template' is deprecated. See the module docs for 
more information. This feature will be removed from amazon.aws in a release 
after 2026-05-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  08:50:34 +0000 (0:02:38.707)       0:03:01.037 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.018)       0:03:01.055 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.018)       0:03:01.074 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.017)       0:03:01.091 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.017)       0:03:01.109 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
Monday 04 August 2025  08:50:34 +0000 (0:00:00.017)       0:03:01.126 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.017)       0:03:01.144 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
Monday 04 August 2025  08:50:34 +0000 (0:00:00.017)       0:03:01.161 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.027)       0:03:01.189 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.021)       0:03:01.211 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.024)       0:03:01.235 ********* 
ok: [localhost]

TASK [infra-ec2-template-create : Save stack deployed for futur runs (idempotent)] ***
Monday 04 August 2025  08:50:34 +0000 (0:00:00.022)       0:03:01.258 ********* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.019)       0:03:01.277 ********* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.020)       0:03:01.297 ********* 
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.020)       0:03:01.318 ********* 
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.031)       0:03:01.350 ********* 
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.022)       0:03:01.372 ********* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.025)       0:03:01.398 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Monday 04 August 2025  08:50:34 +0000 (0:00:00.018)       0:03:01.417 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Monday 04 August 2025  08:50:35 +0000 (0:00:00.797)       0:03:02.214 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Monday 04 August 2025  08:50:35 +0000 (0:00:00.017)       0:03:02.232 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Monday 04 August 2025  08:50:35 +0000 (0:00:00.017)       0:03:02.249 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of hosts] ****
Monday 04 August 2025  08:50:35 +0000 (0:00:00.018)       0:03:02.267 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Monday 04 August 2025  08:50:35 +0000 (0:00:00.028)       0:03:02.296 ********* 
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=node1.example.com)
changed: [localhost] => (item=bastion.example.com)
changed: [localhost] => (item=server.example.com)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Monday 04 August 2025  08:50:35 +0000 (0:00:00.129)       0:03:02.425 ********* 
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=node1.example.com)
changed: [localhost] => (item=bastion.example.com)
changed: [localhost] => (item=server.example.com)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Monday 04 August 2025  08:50:36 +0000 (0:00:00.069)       0:03:02.494 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Monday 04 August 2025  08:50:36 +0000 (0:00:00.020)       0:03:02.514 ********* 
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************
Monday 04 August 2025  08:50:36 +0000 (0:00:00.025)       0:03:02.540 ********* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Monday 04 August 2025  08:50:36 +0000 (0:00:00.037)       0:03:02.577 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Monday 04 August 2025  08:50:36 +0000 (0:00:00.022)       0:03:02.599 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Monday 04 August 2025  08:50:36 +0000 (0:00:00.178)       0:03:02.778 ********* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Monday 04 August 2025  08:50:36 +0000 (0:00:00.165)       0:03:02.944 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Monday 04 August 2025  08:50:36 +0000 (0:00:00.176)       0:03:03.121 ********* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Monday 04 August 2025  08:50:36 +0000 (0:00:00.294)       0:03:03.415 ********* 
changed: [localhost] => (item=controller.example.com)
changed: [localhost] => (item=node1.example.com)
skipping: [localhost] => (item=bastion.example.com) 
changed: [localhost] => (item=server.example.com)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.601)       0:03:04.016 ********* 
ok: [localhost]
ok: [controller.example.com]
ok: [node1.example.com]
ok: [bastion.example.com]
ok: [server.example.com]

TASK [Include variables files] *************************************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.049)       0:03:04.065 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_vars.yml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
ok: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
ok: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
ok: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
ok: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
ok: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars.yml)
ok: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
ok: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [node1.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
ok: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
ok: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
skipping: [controller.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yaml) 
skipping: [server.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 
skipping: [bastion.example.com] => (item=/runner/project/ansible/configs/ansible-bu-workshop/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.121)       0:03:04.187 ********* 
skipping: [localhost]
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.052)       0:03:04.239 ********* 
skipping: [localhost]

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.083)       0:03:04.323 ********* 
ok: [controller.example.com]
ok: [node1.example.com]
ok: [bastion.example.com]
ok: [server.example.com]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************
Monday 04 August 2025  08:50:37 +0000 (0:00:00.041)       0:03:04.364 ********* 

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
Monday 04 August 2025  08:50:37 +0000 (0:00:00.048)       0:03:04.413 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
Monday 04 August 2025  08:50:51 +0000 (0:00:13.323)       0:03:17.736 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
Monday 04 August 2025  08:50:51 +0000 (0:00:00.037)       0:03:17.774 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
Monday 04 August 2025  08:50:51 +0000 (0:00:00.034)       0:03:17.809 ********* 
ok: [bastion.example.com]
ok: [node1.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************
Monday 04 August 2025  08:50:59 +0000 (0:00:08.381)       0:03:26.190 ********* 

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
Monday 04 August 2025  08:50:59 +0000 (0:00:00.061)       0:03:26.251 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
Monday 04 August 2025  08:51:08 +0000 (0:00:08.606)       0:03:34.857 ********* 
ok: [node1.example.com]
ok: [server.example.com]
ok: [bastion.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  08:51:15 +0000 (0:00:06.731)       0:03:41.589 ********* 
changed: [node1.example.com]
changed: [bastion.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
Monday 04 August 2025  08:51:19 +0000 (0:00:03.972)       0:03:45.562 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
ok: [controller.example.com]

TASK [Add authorized_keys] *****************************************************
Monday 04 August 2025  08:51:22 +0000 (0:00:03.233)       0:03:48.795 ********* 

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
Monday 04 August 2025  08:51:22 +0000 (0:00:00.093)       0:03:48.889 ********* 
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [node1.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [server.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [bastion.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [node1.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [server.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [node1.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
changed: [server.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
changed: [bastion.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
ok: [controller.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
ok: [controller.example.com] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
ok: [controller.example.com] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
Monday 04 August 2025  08:51:41 +0000 (0:00:19.143)       0:04:08.033 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 Post Infrastructure] ********************************************

TASK [ansible.builtin.debug] ***************************************************
Monday 04 August 2025  08:51:41 +0000 (0:00:00.095)       0:04:08.128 ********* 
ok: [localhost] => {
    "msg": "Step 002 Post Infrastructure"
}

PLAY [Step 002 Post Infrastructure regreSSHion Hotfix] *************************

TASK [Gathering Facts] *********************************************************
Monday 04 August 2025  08:51:41 +0000 (0:00:00.030)       0:04:08.159 ********* 
ok: [node1.example.com]
ok: [server.example.com]
ok: [bastion.example.com]
ok: [controller.example.com]

TASK [Have facts been gathered?] ***********************************************
Monday 04 August 2025  08:51:47 +0000 (0:00:05.368)       0:04:13.527 ********* 
ok: [node1.example.com]
ok: [bastion.example.com]
ok: [server.example.com]
ok: [controller.example.com]

TASK [Set sshd LoginGraceTime to 0 in /etc/ssh/sshd_config] ********************
Monday 04 August 2025  08:51:51 +0000 (0:00:04.043)       0:04:17.570 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
ok: [controller.example.com]

TASK [Restart SSH service for regreSSHion fix] *********************************
Monday 04 August 2025  08:51:54 +0000 (0:00:02.900)       0:04:20.471 ********* 
changed: [node1.example.com]
changed: [bastion.example.com]
changed: [server.example.com]
changed: [controller.example.com]

PLAY [Install Post Infra  workloads on localhost] ******************************

TASK [Deploying Post Infra workloads  on localhost] ****************************
Monday 04 August 2025  08:51:56 +0000 (0:00:02.555)       0:04:23.027 ********* 
skipping: [localhost]

PLAY [Install Post Infra workloads on  all hosts] ******************************

TASK [Deploying Post Infra workloads on all hosts] *****************************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.064)       0:04:23.091 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

PLAY [Install Post Infra workloads on bastion] *********************************

TASK [Deploying Post Infra workloads on bastion] *******************************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.134)       0:04:23.226 ********* 
skipping: [bastion.example.com]

PLAY [Install Post Infra workloads for windows] ********************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for gitlab] *********************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Automation Controller] ******************

TASK [Deploying Post Infra workloads on Automation Controller] *****************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.054)       0:04:23.280 ********* 
skipping: [controller.example.com]

PLAY [Install Post Infra workloads for Satelliltes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Satelllite Capsules] ********************
skipping: no hosts matched

PLAY [Install Post Infra workloads for Automation Server] **********************
skipping: no hosts matched

PLAY [Install Post Infra workloads for nodes] **********************************

TASK [Deploying Post Infra workloads on nodes] *********************************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.053)       0:04:23.334 ********* 
skipping: [node1.example.com]

PLAY [Install Post Infra workloads for rhel7 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel8 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel9 nodes] ****************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for rhel10 nodes] ***************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for centos nodes] ***************************

TASK [Deploying Post Infra workloads on centos nodes] **************************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.069)       0:04:23.404 ********* 
skipping: [server.example.com]

PLAY [Install Post Infra workloads for rhelai nodes] ***************************
skipping: no hosts matched

PLAY [Install Post Infra workloads for network] ********************************
skipping: no hosts matched

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
Monday 04 August 2025  08:51:56 +0000 (0:00:00.050)       0:04:23.454 ********* 
skipping: [localhost]

PLAY [Step 003 Pre Software] ***************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.029)       0:04:23.484 ********* 
ok: [localhost] => {
    "msg": "Step 003 Pre Software"
}

TASK [Save user data] **********************************************************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.012)       0:04:23.497 ********* 
ok: [localhost] => {
    "changed": false,
    "data": {
        "targethost": "bastion.p4whr.sandbox3271.opentlc.com"
    }
}

PLAY [Install Pre Software  workloads on localhost] ****************************

TASK [Deploying Pre Software workloads  on localhost] **************************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.040)       0:04:23.538 ********* 
skipping: [localhost]

PLAY [Install Pre Software workloads on  all hosts] ****************************

TASK [Deploying Pre Software workloads on all hosts] ***************************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.065)       0:04:23.603 ********* 

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.127)       0:04:23.731 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : Configure satellite repositories] *********************
Monday 04 August 2025  08:51:57 +0000 (0:00:00.049)       0:04:23.780 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for controller.example.com, node1.example.com, bastion.example.com, server.example.com

TASK [set-repositories : sat | Check subscription-manager package existence] ***
Monday 04 August 2025  08:51:57 +0000 (0:00:00.101)       0:04:23.882 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Install subscription-manager package] ***********
Monday 04 August 2025  08:51:57 +0000 (0:00:00.066)       0:04:23.949 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
Monday 04 August 2025  08:51:57 +0000 (0:00:00.048)       0:04:23.997 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Unregister the system just in case] *************
Monday 04 August 2025  08:52:03 +0000 (0:00:06.224)       0:04:30.221 ********* 
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for controller.example.com, node1.example.com, bastion.example.com, server.example.com

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
Monday 04 August 2025  08:52:03 +0000 (0:00:00.085)       0:04:30.307 ********* 
changed: [node1.example.com]
changed: [bastion.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
Monday 04 August 2025  08:52:07 +0000 (0:00:03.788)       0:04:34.096 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
Monday 04 August 2025  08:52:10 +0000 (0:00:03.168)       0:04:37.265 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Remove satellite Cert] **************************
Monday 04 August 2025  08:52:15 +0000 (0:00:04.445)       0:04:41.710 ********* 
ok: [node1.example.com]
ok: [bastion.example.com]
ok: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Find current repository files] ******************
Monday 04 August 2025  08:52:20 +0000 (0:00:04.947)       0:04:46.658 ********* 
ok: [node1.example.com]
ok: [server.example.com]
ok: [bastion.example.com]
ok: [controller.example.com]

TASK [set-repositories : sat | Remove current repository files] ****************
Monday 04 August 2025  08:52:21 +0000 (0:00:01.558)       0:04:48.216 ********* 
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]
changed: [controller.example.com] => (item=/etc/yum.repos.d/redhat.repo)

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
Monday 04 August 2025  08:52:23 +0000 (0:00:01.392)       0:04:49.609 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
Monday 04 August 2025  08:52:34 +0000 (0:00:11.176)       0:05:00.786 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
Monday 04 August 2025  08:52:36 +0000 (0:00:01.705)       0:05:02.491 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
Monday 04 August 2025  08:52:36 +0000 (0:00:00.048)       0:05:02.539 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
Monday 04 August 2025  08:52:36 +0000 (0:00:00.041)       0:05:02.581 ********* 
ok: [controller.example.com]
ok: [node1.example.com]
ok: [bastion.example.com]
ok: [server.example.com]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
Monday 04 August 2025  08:52:36 +0000 (0:00:00.051)       0:05:02.632 ********* 
changed: [bastion.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Register with activation-key] *******************
Monday 04 August 2025  08:52:39 +0000 (0:00:03.547)       0:05:06.180 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
Monday 04 August 2025  08:52:39 +0000 (0:00:00.053)       0:05:06.233 ********* 
changed: [node1.example.com]
changed: [bastion.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
Monday 04 August 2025  08:52:50 +0000 (0:00:10.500)       0:05:16.734 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
Monday 04 August 2025  08:52:53 +0000 (0:00:02.977)       0:05:19.712 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
Monday 04 August 2025  08:52:53 +0000 (0:00:00.058)       0:05:19.770 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
Monday 04 August 2025  08:52:53 +0000 (0:00:00.059)       0:05:19.830 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Enable repos] ***********************************
Monday 04 August 2025  08:52:53 +0000 (0:00:00.046)       0:05:19.876 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
changed: [controller.example.com]

TASK [set-repositories : sat | Purge existing repos] ***************************
Monday 04 August 2025  08:53:01 +0000 (0:00:08.408)       0:05:28.285 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
Monday 04 August 2025  08:53:01 +0000 (0:00:00.043)       0:05:28.329 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | Create the certificate and key files] ***********
Monday 04 August 2025  08:53:01 +0000 (0:00:00.042)       0:05:28.371 ********* 
skipping: [controller.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [controller.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [node1.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [node1.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [controller.example.com]
skipping: [bastion.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [node1.example.com]
skipping: [bastion.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.example.com]
skipping: [server.example.com] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [server.example.com] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [server.example.com]

TASK [set-repositories : sat | Add certificate and key content] ****************
Monday 04 August 2025  08:53:01 +0000 (0:00:00.053)       0:05:28.424 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | create open.repo template on host] **************
Monday 04 August 2025  08:53:02 +0000 (0:00:00.046)       0:05:28.471 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [set-repositories : sat | clean repositories] *****************************
Monday 04 August 2025  08:53:02 +0000 (0:00:00.052)       0:05:28.524 ********* 
changed: [node1.example.com]
changed: [bastion.example.com]
changed: [server.example.com]
changed: [controller.example.com]

TASK [set-repositories : Unregister from subscription manager] *****************
Monday 04 August 2025  08:53:05 +0000 (0:00:03.711)       0:05:32.236 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Deactivate DNS lookup in sshd] **********************************
Monday 04 August 2025  08:53:05 +0000 (0:00:00.072)       0:05:32.308 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]
ok: [controller.example.com]

TASK [common : Update all packages] ********************************************
Monday 04 August 2025  08:53:07 +0000 (0:00:01.632)       0:05:33.941 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Update all packages Legacy] *************************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.046)       0:05:33.988 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.049)       0:05:34.038 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Reboot all VMs] *************************************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.056)       0:05:34.094 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Update network facts after reboot] ******************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.046)       0:05:34.140 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Run setup if gather_facts hasn't been run] **********************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.045)       0:05:34.185 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : install common packages for RHEL 7] *****************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.052)       0:05:34.238 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : install common packages for RHEL 8] *****************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.066)       0:05:34.304 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Set up python alternatives for convenience] *********************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.081)       0:05:34.386 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : install common packages for RHEL 9] *****************************
Monday 04 August 2025  08:53:07 +0000 (0:00:00.054)       0:05:34.440 ********* 
changed: [controller.example.com]
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]

TASK [common : install extra packages] *****************************************
Monday 04 August 2025  08:56:16 +0000 (0:03:08.051)       0:08:42.491 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Update specified packages] **************************************
Monday 04 August 2025  08:56:16 +0000 (0:00:00.055)       0:08:42.547 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Determine if reboot is needed] **********************************
Monday 04 August 2025  08:56:16 +0000 (0:00:00.054)       0:08:42.601 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Reboot VMs] *****************************************************
Monday 04 August 2025  08:56:16 +0000 (0:00:00.048)       0:08:42.650 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

TASK [common : Refresh network facts post-reboot] ******************************
Monday 04 August 2025  08:56:16 +0000 (0:00:00.059)       0:08:42.709 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

RUNNING HANDLER [common : restart_sshd] ****************************************
Monday 04 August 2025  08:56:16 +0000 (0:00:00.103)       0:08:42.813 ********* 
changed: [node1.example.com]
changed: [server.example.com]
changed: [bastion.example.com]

PLAY [Install Pre Software workloads on bastion] *******************************

TASK [Deploying Pre Software workloads on bastion] *****************************
Monday 04 August 2025  08:56:17 +0000 (0:00:01.162)       0:08:43.976 ********* 

TASK [bastion-lite : Generate an SSH key on the Bastion and configure access on all the hosts] ***
Monday 04 August 2025  08:56:17 +0000 (0:00:00.052)       0:08:44.028 ********* 
included: /runner/project/ansible/roles/bastion-lite/tasks/./create_bastion_ssh_key_and_access.yml for bastion.example.com

TASK [bastion-lite : Generate SSH keys] ****************************************
Monday 04 August 2025  08:56:17 +0000 (0:00:00.023)       0:08:44.052 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Fix permission of ssh key] ********************************
Monday 04 August 2025  08:56:18 +0000 (0:00:00.867)       0:08:44.919 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Generate SSH pub key content] *****************************
Monday 04 August 2025  08:56:19 +0000 (0:00:00.797)       0:08:45.717 ********* 
ok: [bastion.example.com]

TASK [bastion-lite : Save all facts for SSH] ***********************************
Monday 04 August 2025  08:56:20 +0000 (0:00:00.804)       0:08:46.522 ********* 
ok: [bastion.example.com]

TASK [bastion-lite : Write SSH pub key] ****************************************
Monday 04 August 2025  08:56:20 +0000 (0:00:00.024)       0:08:46.546 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  08:56:22 +0000 (0:00:02.334)       0:08:48.881 ********* 
changed: [bastion.example.com -> controller.example.com] => (item=controller.example.com)
changed: [bastion.example.com -> node1.example.com] => (item=node1.example.com)
changed: [bastion.example.com] => (item=bastion.example.com)
changed: [bastion.example.com -> server.example.com] => (item=server.example.com)

TASK [bastion-lite : Add bastion access to all hosts] **************************
Monday 04 August 2025  08:56:25 +0000 (0:00:03.464)       0:08:52.345 ********* 
changed: [bastion.example.com -> controller.example.com] => (item=controller.example.com)
changed: [bastion.example.com -> node1.example.com] => (item=node1.example.com)
changed: [bastion.example.com] => (item=bastion.example.com)
changed: [bastion.example.com -> server.example.com] => (item=server.example.com)

TASK [bastion-lite : Generate .ssh/config] *************************************
Monday 04 August 2025  08:56:29 +0000 (0:00:03.164)       0:08:55.510 ********* 
changed: [bastion.example.com]

TASK [Install FTL] *************************************************************
Monday 04 August 2025  08:56:30 +0000 (0:00:01.316)       0:08:56.826 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Ensure system Python3 has selinux library installed] ******
Monday 04 August 2025  08:56:30 +0000 (0:00:00.019)       0:08:56.846 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Install OpenShift Helm 3] *********************************
Monday 04 August 2025  08:56:30 +0000 (0:00:00.019)       0:08:56.866 ********* 
skipping: [bastion.example.com]

TASK [bastion-lite : Add GUID to /etc/skel/.bashrc] ****************************
Monday 04 August 2025  08:56:30 +0000 (0:00:00.019)       0:08:56.885 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add GUID to ~ec2-user/.bashrc] ****************************
Monday 04 August 2025  08:56:31 +0000 (0:00:00.648)       0:08:57.534 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add CLOUDUSER to /etc/skel/.bashrc] ***********************
Monday 04 August 2025  08:56:31 +0000 (0:00:00.628)       0:08:58.162 ********* 
changed: [bastion.example.com]

TASK [bastion-lite : Add CLOUDUSER to ~ec2-user/.bashrc] ***********************
Monday 04 August 2025  08:56:32 +0000 (0:00:00.665)       0:08:58.828 ********* 
changed: [bastion.example.com]

TASK [control-user : Create user skel files] ***********************************
Monday 04 August 2025  08:56:33 +0000 (0:00:00.695)       0:08:59.524 ********* 
changed: [bastion.example.com] => (item=.vimrc)

TASK [control-user : Create user lab-user] *************************************
Monday 04 August 2025  08:56:34 +0000 (0:00:01.214)       0:09:00.738 ********* 
included: /runner/project/ansible/roles/control-user/tasks/create-user.yml for bastion.example.com

TASK [control-user : Create user lab-user] *************************************
Monday 04 August 2025  08:56:34 +0000 (0:00:00.023)       0:09:00.761 ********* 
[WARNING]: 'append' is set, but no 'groups' are specified. Use 'groups' for
appending new groups.This will change to an error in Ansible 2.14.
changed: [bastion.example.com]

TASK [control-user : Set ssh user lab-user password] ***************************
Monday 04 August 2025  08:56:35 +0000 (0:00:00.923)       0:09:01.685 ********* 
changed: [bastion.example.com]

TASK [control-user : Setup user's resource directory] **************************
Monday 04 August 2025  08:56:36 +0000 (0:00:01.056)       0:09:02.742 ********* 
included: /runner/project/ansible/roles/control-user/tasks/create-directory.yml for bastion.example.com

TASK [control-user : Create resource directory] ********************************
Monday 04 August 2025  08:56:36 +0000 (0:00:00.022)       0:09:02.764 ********* 
skipping: [bastion.example.com]

TASK [control-user : Create user's custom directory] ***************************
Monday 04 August 2025  08:56:36 +0000 (0:00:00.018)       0:09:02.783 ********* 
skipping: [bastion.example.com]

TASK [control-user : Enable sudoers] *******************************************
Monday 04 August 2025  08:56:36 +0000 (0:00:00.019)       0:09:02.802 ********* 
changed: [bastion.example.com]

TASK [control-user : SSH setup for user] ***************************************
Monday 04 August 2025  08:56:37 +0000 (0:00:01.265)       0:09:04.068 ********* 
included: /runner/project/ansible/roles/control-user/tasks/ssh-config.yml for bastion.example.com

TASK [control-user : create /home/lab-user/.ssh] *******************************
Monday 04 August 2025  08:56:37 +0000 (0:00:00.031)       0:09:04.100 ********* 
changed: [bastion.example.com]

TASK [control-user : copy the environment .pem key] ****************************
Monday 04 August 2025  08:56:38 +0000 (0:00:00.641)       0:09:04.742 ********* 
changed: [bastion.example.com]

TASK [control-user : copy the environment .pub key] ****************************
Monday 04 August 2025  08:56:39 +0000 (0:00:01.415)       0:09:06.157 ********* 
changed: [bastion.example.com]

TASK [control-user : Create authorized keys] ***********************************
Monday 04 August 2025  08:56:41 +0000 (0:00:01.446)       0:09:07.604 ********* 
changed: [bastion.example.com]

TASK [control-user : copy custom ssh key] **************************************
Monday 04 August 2025  08:56:41 +0000 (0:00:00.692)       0:09:08.296 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy ssh config template] *********************************
Monday 04 August 2025  08:56:41 +0000 (0:00:00.020)       0:09:08.316 ********* 
changed: [bastion.example.com]

TASK [control-user : Remove PasswordAuthentication line from 50-cloud-init.conf] ***
Monday 04 August 2025  08:56:43 +0000 (0:00:01.376)       0:09:09.693 ********* 
changed: [bastion.example.com]

TASK [control-user : Enable password ssh authentication] ***********************
Monday 04 August 2025  08:56:43 +0000 (0:00:00.693)       0:09:10.386 ********* 
changed: [bastion.example.com]

TASK [control-user : Disable root password ssh authentication] *****************
Monday 04 August 2025  08:56:44 +0000 (0:00:00.683)       0:09:11.069 ********* 
changed: [bastion.example.com]

TASK [control-user : Restart sshd to read conf changes] ************************
Monday 04 August 2025  08:56:45 +0000 (0:00:00.675)       0:09:11.744 ********* 
changed: [bastion.example.com]

TASK [control-user : Copy files] ***********************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.995)       0:09:12.740 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-files.yml for bastion.example.com

TASK [control-user : Copy user's file to resource dir] *************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.028)       0:09:12.769 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to resource dir] *********************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.788 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's contentto resource dir] ***********************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.808 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy templates] *******************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.827 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-templates.yml for bastion.example.com

TASK [control-user : Copy user's template to resource dir] *********************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.027)       0:09:12.855 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to home dir] *************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.020)       0:09:12.875 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's template to path] *****************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.895 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy contents] ********************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.914 ********* 
included: /runner/project/ansible/roles/control-user/tasks/copy-contents.yml for bastion.example.com

TASK [control-user : Copy user's content to resource dir] **********************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.027)       0:09:12.942 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's content to home dir] **************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.019)       0:09:12.961 ********* 
skipping: [bastion.example.com]

TASK [control-user : Copy user's content to path] ******************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.021)       0:09:12.983 ********* 
skipping: [bastion.example.com]

TASK [control-user : Report user data] *****************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.030)       0:09:13.013 ********* 
included: /runner/project/ansible/roles/control-user/tasks/report-user-data.yml for bastion.example.com

TASK [control-user : Report user data] *****************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.038)       0:09:13.051 ********* 
ok: [bastion.example.com] => {
    "changed": false,
    "data": {
        "password": "[REDACTED_Secret Keyword_SECRET]",
        "ssh_host": "ec2-18-190-85-29.us-east-2.compute.amazonaws.com",
        "user": "lab-user"
    }
}

TASK [control-user : Report user data ssh key] *********************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.035)       0:09:13.087 ********* 
skipping: [bastion.example.com]

PLAY [Install Pre Software workloads for windows] ******************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for gitlab] *******************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Automation Controller] ****************

TASK [Deploying Pre Software workloads on Automation Controller] ***************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.048)       0:09:13.135 ********* 
skipping: [controller.example.com]

PLAY [Install Pre Software workloads for Satelliltes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Satelllite Capsules] ******************
skipping: no hosts matched

PLAY [Install Pre Software workloads for Automation Server] ********************
skipping: no hosts matched

PLAY [Install Pre Software workloads for nodes] ********************************

TASK [Deploying Pre Software workloads on nodes] *******************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.052)       0:09:13.187 ********* 
skipping: [node1.example.com]

PLAY [Install Pre Software workloads for rhel7 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel8 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel9 nodes] **************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for rhel10 nodes] *************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for centos nodes] *************************

TASK [Deploying Pre Software workloads on centos nodes] ************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.056)       0:09:13.244 ********* 
skipping: [server.example.com]

PLAY [Install Pre Software workloads for rhelai nodes] *************************
skipping: no hosts matched

PLAY [Install Pre Software workloads for network] ******************************
skipping: no hosts matched

PLAY [PreSoftware flight-check] ************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.057)       0:09:13.302 ********* 
ok: [localhost] => {
    "msg": "Pre-Software checks completed successfully"
}

PLAY [Step 004 software] *******************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.032)       0:09:13.335 ********* 
ok: [localhost] => {
    "msg": "Software tasks Started"
}

PLAY [Install Software  workloads on localhost] ********************************

TASK [Deploying Software workloads  on localhost] ******************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.029)       0:09:13.364 ********* 
skipping: [localhost]

PLAY [Install Software workloads on  all hosts] ********************************

TASK [Deploying Software workloads on all hosts] *******************************
Monday 04 August 2025  08:56:46 +0000 (0:00:00.064)       0:09:13.429 ********* 
skipping: [controller.example.com]
skipping: [node1.example.com]
skipping: [bastion.example.com]
skipping: [server.example.com]

PLAY [Install Software workloads on bastion] ***********************************

TASK [Deploying Software workloads on bastion] *********************************
Monday 04 August 2025  08:56:47 +0000 (0:00:00.144)       0:09:13.574 ********* 
skipping: [bastion.example.com]

PLAY [Install Software workloads for windows] **********************************
skipping: no hosts matched

PLAY [Install Software workloads for gitlab] ***********************************
skipping: no hosts matched

PLAY [Install Software workloads for Automation Controller] ********************

TASK [Deploying Software workloads on Automation Controller] *******************
Monday 04 August 2025  08:56:47 +0000 (0:00:00.052)       0:09:13.626 ********* 

TASK [nginx_with_cert : Set python interpreter for nginx_with_cert] ************
Monday 04 August 2025  08:56:47 +0000 (0:00:00.054)       0:09:13.680 ********* 
skipping: [controller.example.com]

TASK [nginx_with_cert : Nginx | include correct tasks for OS] ******************
Monday 04 August 2025  08:56:47 +0000 (0:00:00.022)       0:09:13.703 ********* 
included: /runner/project/ansible/roles/nginx_with_cert/tasks/nginx/RedHat9.yml for controller.example.com

TASK [nginx_with_cert : nginx/RedHat9 | enable EPEL] ***************************
Monday 04 August 2025  08:56:47 +0000 (0:00:00.027)       0:09:13.731 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : nginx/RedHat9 | install nginx and certbot packages] ****
Monday 04 August 2025  08:56:53 +0000 (0:00:06.229)       0:09:19.960 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : nginx/RedHat9 | remove EPEL after usage] ***************
Monday 04 August 2025  08:57:24 +0000 (0:00:31.069)       0:09:51.030 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | start nginx server] ****************************
Monday 04 August 2025  08:57:30 +0000 (0:00:05.935)       0:09:56.965 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | generate certbot certificate] ******************
Monday 04 August 2025  08:57:31 +0000 (0:00:01.369)       0:09:58.335 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | create nginx certificate directory] ************
Monday 04 August 2025  08:57:45 +0000 (0:00:13.401)       0:10:11.736 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy letsencrypt key] **************************
Monday 04 August 2025  08:57:45 +0000 (0:00:00.722)       0:10:12.459 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy letsencrypt certificate] ******************
Monday 04 August 2025  08:57:46 +0000 (0:00:00.636)       0:10:13.096 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | copy custom nginx_with_cert nginx configuration file] ***
Monday 04 August 2025  08:57:47 +0000 (0:00:00.700)       0:10:13.796 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | enable selinux boolean to connect with nginx_with_cert] ***
Monday 04 August 2025  08:57:48 +0000 (0:00:01.315)       0:10:15.111 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : Nginx | restart nginx server] **************************
Monday 04 August 2025  08:57:52 +0000 (0:00:04.202)       0:10:19.314 ********* 
changed: [controller.example.com]

TASK [nginx_with_cert : print out user.info] ***********************************
Monday 04 August 2025  08:57:53 +0000 (0:00:00.997)       0:10:20.311 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "msg": "user.info: nginx_web_url: controller.p4whr.sandbox3271.opentlc.com\\n"
}

TASK [nginx_with_cert : Save user data] ****************************************
Monday 04 August 2025  08:57:53 +0000 (0:00:00.028)       0:10:20.339 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "data": {
        "nginx_web_url": "controller.p4whr.sandbox3271.opentlc.com"
    }
}

TASK [ansible_automation_platform_configuration : Generate OCP bearer token for use in AAP as OCP credential] ***
Monday 04 August 2025  08:57:53 +0000 (0:00:00.034)       0:10:20.374 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Generate SSH keypair for use in AAP as ssh machine credential] ***
Monday 04 August 2025  08:57:53 +0000 (0:00:00.022)       0:10:20.397 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Generate SSH keypair for use in AAP as ssh machine credential] ***
Monday 04 August 2025  08:57:53 +0000 (0:00:00.020)       0:10:20.417 ********* 
included: /runner/project/ansible/roles/ansible_automation_platform_configuration/tasks/aap-configuration.yml for controller.example.com

TASK [ansible_automation_platform_configuration : Create AAP Auth token] *******
Monday 04 August 2025  08:57:54 +0000 (0:00:00.054)       0:10:20.472 ********* 
skipping: [controller.example.com]

TASK [ansible_automation_platform_configuration : Save token for agnosticd_user_info] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.018)       0:10:20.491 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.dispatch : Validating arguments against arg spec 'main' - An Ansible Role to call other roles to create objects on Ansible Automation Platform.] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.017)       0:10:20.508 ********* 
ok: [controller.example.com]

TASK [Run the following infra.aap_configuration roles: controller_license, gateway_settings, gateway_users, controller_credentials] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.031)       0:10:20.539 ********* 
[WARNING]: Collection ansible.platform does not support Ansible version 2.15.13

TASK [infra.aap_configuration.meta_dependency_check : Print dependency check status] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.149)       0:10:20.688 ********* 
ok: [controller.example.com] => {
    "msg": "Dependency check is deactivated. Required collections presence will not be verified. This might cause failure in the next tasks."
}

TASK [infra.aap_configuration.meta_dependency_check : Check awx.awx is installed] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.025)       0:10:20.713 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.meta_dependency_check : Check ansible.controller is installed] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.017)       0:10:20.730 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.meta_dependency_check : Ensure one is installed] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.015)       0:10:20.746 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Validating arguments against arg spec 'main' - An Ansible Role to deploy a license on Ansible Controller.] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.020)       0:10:20.767 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Use manifest file] **********
Monday 04 August 2025  08:57:54 +0000 (0:00:00.025)       0:10:20.792 ********* 
included: /usr/share/ansible/collections/ansible_collections/infra/aap_configuration/roles/controller_license/tasks/manifest.yml for controller.example.com

TASK [infra.aap_configuration.controller_license : manifest | Ensure manifest is set] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.033)       0:10:20.826 ********* 
ok: [controller.example.com] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra.aap_configuration.controller_license : manifest | Move manifest file to temporary location] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.026)       0:10:20.853 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Fetch manifest from URL] ***
Monday 04 August 2025  08:57:54 +0000 (0:00:00.021)       0:10:20.874 ********* 
changed: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Create manifest file from base64 encoded content] ***
Monday 04 August 2025  08:57:55 +0000 (0:00:01.315)       0:10:22.189 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_license : manifest | Install the Controller license] ***
Monday 04 August 2025  08:57:55 +0000 (0:00:00.020)       0:10:22.210 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_license : Use subscription pool id or subscription lookup] ***
Monday 04 August 2025  08:58:00 +0000 (0:00:04.253)       0:10:26.464 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.gateway_settings : Validating arguments against arg spec 'main' - An Ansible Role to create settings on automation platform gateway.] ***
Monday 04 August 2025  08:58:00 +0000 (0:00:00.030)       0:10:26.494 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.gateway_settings : Update automation platform gateway Settings] ***
Monday 04 August 2025  08:58:00 +0000 (0:00:00.029)       0:10:26.523 ********* 
changed: [controller.example.com]

TASK [infra.aap_configuration.gateway_users : Validating arguments against arg spec 'main' - An Ansible Role to create users on automation platform gateway.] ***
Monday 04 August 2025  08:58:04 +0000 (0:00:04.284)       0:10:30.808 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.gateway_users : Users | Configuration] ***********
Monday 04 August 2025  08:58:04 +0000 (0:00:00.031)       0:10:30.839 ********* 
ok: [controller.example.com] => (item=Create/Update the Gateway user lab-user)

TASK [infra.aap_configuration.gateway_users : Users | Wait for finish the configuration] ***
Monday 04 August 2025  08:58:05 +0000 (0:00:01.055)       0:10:31.895 ********* 
FAILED - RETRYING: [controller.example.com]: Users | Wait for finish the configuration (30 retries left).
FAILED - RETRYING: [controller.example.com]: Users | Wait for finish the configuration (29 retries left).
changed: [controller.example.com] => (item=Create/Update Gateway user lab-user | Wait for finish the Gateway user creation)

TASK [infra.aap_configuration.controller_credentials : Validating arguments against arg spec 'main' - An Ansible Role to create credentials on Ansible Controller.] ***
Monday 04 August 2025  08:58:10 +0000 (0:00:05.108)       0:10:37.003 ********* 
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Managing Credentials] ***
Monday 04 August 2025  08:58:10 +0000 (0:00:00.033)       0:10:37.037 ********* 
ok: [controller.example.com] => (item=None)
ok: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Flag for errors (check mode only)] ***
Monday 04 August 2025  08:58:11 +0000 (0:00:00.949)       0:10:37.986 ********* 
skipping: [controller.example.com]

TASK [infra.aap_configuration.controller_credentials : Managing Controller Credentials | Wait for finish the credential management] ***
Monday 04 August 2025  08:58:11 +0000 (0:00:00.021)       0:10:38.008 ********* 
FAILED - RETRYING: [controller.example.com]: Managing Controller Credentials | Wait for finish the credential management (30 retries left).
FAILED - RETRYING: [controller.example.com]: Managing Controller Credentials | Wait for finish the credential management (29 retries left).
changed: [controller.example.com] => (item=None)
changed: [controller.example.com]

TASK [infra.aap_configuration.dispatch : Fail the playbook if there were errors (check mode only)] ***
Monday 04 August 2025  08:58:16 +0000 (0:00:04.614)       0:10:42.622 ********* 
skipping: [controller.example.com]

PLAY [Install Software workloads for Satelliltes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for Satelllite Capsules] **********************
skipping: no hosts matched

PLAY [Install Software workloads for Automation Server] ************************
skipping: no hosts matched

PLAY [Install Software workloads for nodes] ************************************

TASK [Deploying Software workloads on nodes] ***********************************
Monday 04 August 2025  08:58:16 +0000 (0:00:00.065)       0:10:42.688 ********* 
skipping: [node1.example.com]

PLAY [Install Software workloads for rhel7 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel8 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel9 nodes] ******************************
skipping: no hosts matched

PLAY [Install Software workloads for rhel10 nodes] *****************************
skipping: no hosts matched

PLAY [Install Software workloads for centos nodes] *****************************

TASK [Deploying Software workloads on centos nodes] ****************************
Monday 04 August 2025  08:58:16 +0000 (0:00:00.062)       0:10:42.750 ********* 

TASK [server_customization : Install] ******************************************
Monday 04 August 2025  08:58:16 +0000 (0:00:00.042)       0:10:42.793 ********* 
fatal: [server.example.com]: FAILED! => {"changed": false, "failures": [], "msg": "Depsolve Error occurred: \\n Problem: package ansible-rulebook-1.0.8-2.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms requires python3.9dist(ansible-runner), but none of the providers can be installed\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.4-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.2-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.5-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.0-1.el9ap provided by python3-ansible-runner-2.3.6-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package ansible-navigator-25.5.0-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms requires (python3.11dist(ansible-runner) < 3 with python3.11dist(ansible-runner) >= 2.3.1), but none of the providers can be installed\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.4-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.2-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.5-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - package python3.11-ansible-runner-2.4.1-1.el9ap.noarch from ansible-developer-1.2-for-rhel-9-x86_64-rpms obsoletes python3-ansible-runner < 2.4.1-1.el9ap provided by python3-ansible-runner-2.3.6-1.el9ap.noarch from ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms\\n  - cannot install the best candidate for the job", "rc": 1, "results": []}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.example.com        : ok=67   changed=43   unreachable=0    failed=0    skipped=54   rescued=0    ignored=0   
controller.example.com     : ok=63   changed=28   unreachable=0    failed=0    skipped=50   rescued=0    ignored=0   
localhost                  : ok=125  changed=22   unreachable=0    failed=0    skipped=77   rescued=0    ignored=0   
node1.example.com          : ok=33   changed=20   unreachable=0    failed=0    skipped=39   rescued=0    ignored=0   
server.example.com         : ok=33   changed=20   unreachable=0    failed=1    skipped=38   rescued=0    ignored=0   

TASKS RECAP ********************************************************************
Monday 04 August 2025  08:58:20 +0000 (0:00:04.405)       0:10:47.198 ********* 
=============================================================================== 
common : install common packages for RHEL 9 --------------------------- 188.05s
infra-ec2-template-create : Launch CloudFormation template (local) ---- 158.71s
nginx_with_cert : nginx/RedHat9 | install nginx and certbot packages --- 31.07s
ssh_authorized_keys : Add all authorized keys -------------------------- 19.14s
nginx_with_cert : Nginx | generate certbot certificate ----------------- 13.40s
infra-ec2-wait_for_linux_hosts : wait for linux host to be available --- 13.32s
set-repositories : sat | Install Satellite CA certificate package ------ 11.18s
set-repositories : sat | Register with activation-key with HA ---------- 10.50s
infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns ---- 8.61s
set-repositories : sat | Enable repos ----------------------------------- 8.41s
infra-ec2-wait_for_linux_hosts : ping ----------------------------------- 8.38s
infra-ec2-linux-set-hostname : stat ------------------------------------- 6.73s
nginx_with_cert : nginx/RedHat9 | enable EPEL --------------------------- 6.23s
set-repositories : sat | Remove rh-amazon-rhui-client package ----------- 6.22s
nginx_with_cert : nginx/RedHat9 | remove EPEL after usage --------------- 5.94s
Gathering Facts --------------------------------------------------------- 5.37s
infra.aap_configuration.gateway_users : Users | Wait for finish the configuration --- 5.11s
set-repositories : sat | Remove satellite Cert -------------------------- 4.95s
infra.aap_configuration.controller_credentials : Managing Controller Credentials | Wait for finish the credential management --- 4.61s
set-repositories : sat | Update CA Trust Bundle ------------------------- 4.45s
