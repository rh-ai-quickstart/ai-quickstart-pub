Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.012)       0:00:00.012 ********* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.028)       0:00:00.040 ********* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.014)       0:00:00.055 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.025)       0:00:00.081 ********* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.014)       0:00:00.095 ********* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Monday 04 August 2025  15:13:11 +0000 (0:00:00.272)       0:00:00.367 ********* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Monday 04 August 2025  15:13:11 +0000 (0:00:00.026)       0:00:00.394 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  15:13:11 +0000 (0:00:00.038)       0:00:00.432 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  15:13:11 +0000 (0:00:00.113)       0:00:00.546 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Monday 04 August 2025  15:13:15 +0000 (0:00:04.027)       0:00:04.573 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Monday 04 August 2025  15:13:15 +0000 (0:00:00.023)       0:00:04.597 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Monday 04 August 2025  15:13:17 +0000 (0:00:02.281)       0:00:06.879 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Monday 04 August 2025  15:13:18 +0000 (0:00:00.181)       0:00:07.060 ********* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Monday 04 August 2025  15:13:18 +0000 (0:00:00.251)       0:00:07.312 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Monday 04 August 2025  15:13:18 +0000 (0:00:00.480)       0:00:07.793 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Monday 04 August 2025  15:13:19 +0000 (0:00:00.817)       0:00:08.610 ********* 
ok: [localhost] => (item=user-info.yaml)
ok: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  15:13:19 +0000 (0:00:00.367)       0:00:08.978 ********* 
ok: [localhost]

TASK [Include variables files] *************************************************
Monday 04 August 2025  15:13:19 +0000 (0:00:00.025)       0:00:09.004 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.092)       0:00:09.096 ********* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.019)       0:00:09.115 ********* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.035)       0:00:09.151 ********* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.028)       0:00:09.179 ********* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.037)       0:00:09.216 ********* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.033)       0:00:09.250 ********* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.171)       0:00:09.421 ********* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Monday 04 August 2025  15:13:20 +0000 (0:00:00.030)       0:00:09.452 ********* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Monday 04 August 2025  15:13:21 +0000 (0:00:00.640)       0:00:10.092 ********* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Monday 04 August 2025  15:13:21 +0000 (0:00:00.036)       0:00:10.128 ********* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Monday 04 August 2025  15:13:21 +0000 (0:00:00.040)       0:00:10.169 ********* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Monday 04 August 2025  15:13:21 +0000 (0:00:00.541)       0:00:10.711 ********* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Monday 04 August 2025  15:13:21 +0000 (0:00:00.256)       0:00:10.967 ********* 
[WARNING]: skipping installation of kubernetes.core==3.0.1 ;
kubernetes.core==3.0.1 already installed in EE
[WARNING]: skipping installation of amazon.aws==6.4.0 ; amazon.aws==7.6.0
already installed in EE
[WARNING]: skipping installation of community.general==7.4.0 ;
community.general==8.6.0 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of community.okd==2.3.0 ; community.okd==3.0.1
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Monday 04 August 2025  15:13:22 +0000 (0:00:00.322)       0:00:11.290 ********* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Monday 04 August 2025  15:13:22 +0000 (0:00:00.599)       0:00:11.889 ********* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.168)       0:00:12.058 ********* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Monday 04 August 2025  15:13:23 +0000 (0:00:00.023)       0:00:12.082 ********* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Monday 04 August 2025  15:13:23 +0000 (0:00:00.393)       0:00:12.475 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.029)       0:00:12.505 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.026)       0:00:12.532 ********* 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.026)       0:00:12.559 ********* 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.022)       0:00:12.581 ********* 
skipping: [localhost] => (item=ap-southeast-1) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.035)       0:00:12.616 ********* 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.035)       0:00:12.652 ********* 
ok: [localhost]

PLAY [Destroy environment on AWS] **********************************************

TASK [Run infra-ec2-create-inventory role] *************************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.033)       0:00:12.685 ********* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.022)       0:00:12.707 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Monday 04 August 2025  15:13:23 +0000 (0:00:00.032)       0:00:12.739 ********* 
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: botocore.exceptions.ClientError: An error occurred (AuthFailure) when calling the DescribeInstances operation: AWS was not able to validate the provided access credentials
[WARNING]: Both option access_key and its alias aws_access_key are set.
[WARNING]: Both option secret_key and its alias aws_secret_key are set.
fatal: [localhost]: FAILED! => {"boto3_version": "1.34.104", "botocore_version": "1.34.104", "changed": false, "error": {"code": "AuthFailure", "message": "AWS was not able to validate the provided access credentials"}, "msg": "Failed to list ec2 instances: An error occurred (AuthFailure) when calling the DescribeInstances operation: AWS was not able to validate the provided access credentials", "response_metadata": {"http_headers": {"cache-control": "no-cache, no-store", "content-type": "text/xml;charset=UTF-8", "date": "Mon, 04 Aug 2025 15:13:24 GMT", "server": "AmazonEC2", "strict-transport-security": "max-age=31536000; includeSubDomains", "transfer-encoding": "chunked", "vary": "accept-encoding", "x-amzn-requestid": "28920727-04a4-445c-8012-1498e3042737"}, "http_status_code": 401, "request_id": "28920727-04a4-445c-8012-1498e3042737", "retry_attempts": 0}}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
localhost                  : ok=26   changed=13   unreachable=0    failed=1    skipped=15   rescued=0    ignored=0   
Monday 04 August 2025  15:13:25 +0000 (0:00:01.389)       0:00:14.129 ********* 
=============================================================================== 
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 4.03s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 2.28s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 1.39s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.82s
Install roles from requirements.yml ------------------------------------- 0.64s
Install collections from requirements.yml (EE) -------------------------- 0.60s
Get the list of installed collections (EE) ------------------------------ 0.54s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.48s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.39s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.37s
Rewrite requirements, filter out installed collections (EE) ------------- 0.32s
Create output_dir if it does not exists --------------------------------- 0.27s
Create temporary file for requirements.yml (EE) ------------------------- 0.26s
agnosticd_restore_output_dir : Remove encrypted archive file from output_dir --- 0.25s
agnosticd_restore_output_dir : Remove archive file from output_dir ------ 0.18s
Check if requirements.yml exists ---------------------------------------- 0.17s
Cleanup tempfile (EE) --------------------------------------------------- 0.17s
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 0.11s
Include variables files ------------------------------------------------- 0.09s
Get installed collections (EE) ------------------------------------------ 0.04s
