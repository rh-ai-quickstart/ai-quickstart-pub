Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to provision] *************************************************
Tuesday 05 August 2025  01:04:32 +0000 (0:00:00.011)       0:00:00.012 ******** 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Tuesday 05 August 2025  01:04:32 +0000 (0:00:00.028)       0:00:00.040 ******** 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Tuesday 05 August 2025  01:04:32 +0000 (0:00:00.016)       0:00:00.056 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Tuesday 05 August 2025  01:04:32 +0000 (0:00:00.026)       0:00:00.083 ******** 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Tuesday 05 August 2025  01:04:32 +0000 (0:00:00.017)       0:00:00.100 ******** 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Tuesday 05 August 2025  01:04:33 +0000 (0:00:00.248)       0:00:00.349 ******** 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Tuesday 05 August 2025  01:04:33 +0000 (0:00:00.029)       0:00:00.378 ******** 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Tuesday 05 August 2025  01:04:33 +0000 (0:00:00.039)       0:00:00.417 ******** 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Tuesday 05 August 2025  01:04:33 +0000 (0:00:00.054)       0:00:00.472 ******** 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.801)       0:00:01.274 ******** 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.015)       0:00:01.290 ******** 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.014)       0:00:01.305 ******** 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.170)       0:00:01.475 ******** 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.172)       0:00:01.648 ******** 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Tuesday 05 August 2025  01:04:34 +0000 (0:00:00.329)       0:00:01.977 ******** 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Tuesday 05 August 2025  01:04:35 +0000 (0:00:00.721)       0:00:02.699 ******** 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Tuesday 05 August 2025  01:04:35 +0000 (0:00:00.334)       0:00:03.033 ******** 
ok: [localhost]

TASK [Include variables files] *************************************************
Tuesday 05 August 2025  01:04:35 +0000 (0:00:00.021)       0:00:03.054 ******** 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Tuesday 05 August 2025  01:04:35 +0000 (0:00:00.062)       0:00:03.117 ******** 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Tuesday 05 August 2025  01:04:35 +0000 (0:00:00.023)       0:00:03.141 ******** 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.034)       0:00:03.175 ******** 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.015)       0:00:03.190 ******** 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.013)       0:00:03.203 ******** 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.015)       0:00:03.219 ******** 
ok: [localhost]

TASK [set_fact] ****************************************************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.153)       0:00:03.372 ******** 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Tuesday 05 August 2025  01:04:36 +0000 (0:00:00.022)       0:00:03.394 ******** 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Tuesday 05 August 2025  01:04:37 +0000 (0:00:00.865)       0:00:04.260 ******** 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Tuesday 05 August 2025  01:04:37 +0000 (0:00:00.023)       0:00:04.284 ******** 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Tuesday 05 August 2025  01:04:37 +0000 (0:00:00.026)       0:00:04.310 ******** 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Tuesday 05 August 2025  01:04:37 +0000 (0:00:00.495)       0:00:04.806 ******** 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Tuesday 05 August 2025  01:04:37 +0000 (0:00:00.263)       0:00:05.069 ******** 
[WARNING]: skipping installation of community.general==9.2.0 ;
community.general==8.6.0 already installed in EE
[WARNING]: skipping installation of community.crypto==2.21.1 ;
community.crypto==2.19.1 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of kubernetes.core==5.0.0 ;
kubernetes.core==3.0.1 already installed in EE
[WARNING]: skipping installation of amazon.aws==8.1.0 ; amazon.aws==7.6.0
already installed in EE
[WARNING]: skipping installation of community.vmware==4.5.0 ;
community.vmware==4.3.0 already installed in EE
[WARNING]: skipping installation of google.cloud==1.3.0 ; google.cloud==1.3.0
already installed in EE
[WARNING]: skipping installation of openstack.cloud==2.2.0 ;
openstack.cloud==2.2.0 already installed in EE
[WARNING]: skipping installation of community.okd==4.0.0 ; community.okd==3.0.1
already installed in EE
[WARNING]: skipping installation of kubevirt.core==2.0.0 ; kubevirt.core==1.3.2
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Tuesday 05 August 2025  01:04:38 +0000 (0:00:00.318)       0:00:05.388 ******** 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Tuesday 05 August 2025  01:04:42 +0000 (0:00:04.719)       0:00:10.108 ******** 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.169)       0:00:10.277 ******** 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.022)       0:00:10.299 ******** 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.330)       0:00:10.630 ******** 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.017)       0:00:10.648 ******** 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.013)       0:00:10.662 ******** 
skipping: [localhost]

PLAY [Step 000 - Pre Infrastructure] *******************************************

TASK [Print debug message] *****************************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.026)       0:00:10.688 ******** 
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure"
}

TASK [Ensure variables are set] ************************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.013)       0:00:10.701 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "ocp4_pull_secret variable is defined"
}

TASK [Run add user to GCP project role] ****************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.028)       0:00:10.729 ******** 
skipping: [localhost]

TASK [Create GCP Credentials File] *********************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.011)       0:00:10.741 ******** 
skipping: [localhost]

TASK [Get Google Cloud SDK] ****************************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.011)       0:00:10.752 ******** 
skipping: [localhost]

TASK [Generate windows Administrator password if not already defined] **********
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.011)       0:00:10.764 ******** 
skipping: [localhost]

TASK [Set fact generated_windows_password (just generated)] ********************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.011)       0:00:10.775 ******** 
skipping: [localhost]

TASK [Run infra-aws-capacity-reservation] **************************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.011)       0:00:10.787 ******** 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.018)       0:00:10.806 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.031)       0:00:10.837 ******** 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.079)       0:00:10.917 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.042)       0:00:10.960 ******** 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.034)       0:00:10.994 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Tuesday 05 August 2025  01:04:43 +0000 (0:00:00.071)       0:00:11.066 ******** 
Reservation created: cr-0de73a331cdc23a5c (us-east-2b)
Reservation created: cr-0c8b8c066871e5b88 (us-east-2c)
Reservation created: cr-059d9a194ac98b922 (us-east-2b)
Reservation created: cr-0790dc4e3df34565e (us-east-2c)
ok: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:01.391)       0:00:12.458 ******** 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.032)       0:00:12.490 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.031)       0:00:12.521 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.030)       0:00:12.551 ******** 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.039)       0:00:12.590 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.031)       0:00:12.622 ******** 
skipping: [localhost]

TASK [Set availability zone for bastion, masters and workers] ******************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.039)       0:00:12.662 ******** 
ok: [localhost]

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.048)       0:00:12.711 ******** 
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.155)       0:00:12.866 ******** 
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.041)       0:00:12.908 ******** 

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.025)       0:00:12.933 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.030)       0:00:12.964 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'alt_name': ['clientvm'], 'image': 'RHEL93GOLD-latest', 'flavor': {'ec2': 't3.medium'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,clientvms'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'Purpose', 'value': 'prod'}, {'key': 'project', 'value': 'ocp4-cluster-6jhr6'}, {'key': 'user', 'value': 'lab-user'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.034)       0:00:12.998 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.3.*_HVM-*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Tuesday 05 August 2025  01:04:45 +0000 (0:00:00.047)       0:00:13.046 ******** 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.873)       0:00:13.919 ******** 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.021)       0:00:13.941 ******** 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.027)       0:00:13.968 ******** 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.018)       0:00:13.987 ******** 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.3.0_HVM-20240229-x86_64-27-Access2-GP3 - ami-03d966b7245c660ec - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-capacity-reservation] **************************************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.028)       0:00:14.015 ******** 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.017)       0:00:14.033 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/pre_checks.yaml for localhost

TASK [infra-aws-capacity-reservation : Ensure mandatory variables are set] *****
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.029)       0:00:14.063 ******** 
ok: [localhost] => (item=agnosticd_aws_capacity_reservations dictionary is empty)
ok: [localhost] => (item=agnosticd_aws_capacity_reservation_regions list is empty)

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:46 +0000 (0:00:00.068)       0:00:14.131 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-capacity-reservation/tasks/create.yaml for localhost

TASK [infra-aws-capacity-reservation : Retrieve stack_deployed from provision-user-data.yaml] ***
Tuesday 05 August 2025  01:04:47 +0000 (0:00:00.044)       0:00:14.176 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Retrieve the region from user-data.yaml] ***
Tuesday 05 August 2025  01:04:47 +0000 (0:00:00.031)       0:00:14.207 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Create on-demand capacity reservations and save result] ***
Tuesday 05 August 2025  01:04:47 +0000 (0:00:00.030)       0:00:14.238 ******** 
Reservation canceled: cr-059d9a194ac98b922  (us-east-2)
Reservation canceled: cr-0790dc4e3df34565e  (us-east-2)
Reservation canceled: cr-0c8b8c066871e5b88  (us-east-2)
Reservation canceled: cr-0de73a331cdc23a5c  (us-east-2)
Reservation created: cr-04653a4da87f31191 (us-east-2b)
Reservation created: cr-0b4c21caf0c1dcb4f (us-east-2c)
Reservation created: cr-0865afc468738207e (us-east-2c)
Reservation created: cr-05f5759b3ca9fbb4a (us-east-2c)
changed: [localhost]

TASK [infra-aws-capacity-reservation : Set AZ and region] **********************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:02.171)       0:00:16.409 ******** 
ok: [localhost]

TASK [infra-aws-capacity-reservation : Ensure aws_region is not passed as extra vars and different] ***
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.031)       0:00:16.440 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-aws-capacity-reservation : Set default aws_availability_zone (single AZ)] ***
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.030)       0:00:16.471 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : Save region in user-data] ***************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.028)       0:00:16.499 ******** 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_region": "us-east-2"
    }
}

TASK [infra-aws-capacity-reservation : Save AZ in user-data] *******************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.036)       0:00:16.536 ******** 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.028)       0:00:16.564 ******** 
skipping: [localhost]

TASK [Empty the agnosticd_images and run the detection again] ******************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.027)       0:00:16.592 ******** 
ok: [localhost]

TASK [Run infra-images again to use the proper region selected by the reservations] ***
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.017)       0:00:16.609 ******** 

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.023)       0:00:16.633 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.038)       0:00:16.672 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'alt_name': ['clientvm'], 'image': 'RHEL93GOLD-latest', 'flavor': {'ec2': 't3.medium'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions,clientvms'}, {'key': 'ostype', 'value': 'linux'}, {'key': 'Purpose', 'value': 'prod'}, {'key': 'project', 'value': 'ocp4-cluster-6jhr6'}, {'key': 'user', 'value': 'lab-user'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.041)       0:00:16.713 ******** 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.3.*_HVM-*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Tuesday 05 August 2025  01:04:49 +0000 (0:00:00.051)       0:00:16.765 ******** 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.732)       0:00:17.497 ******** 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.024)       0:00:17.522 ******** 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.029)       0:00:17.551 ******** 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.024)       0:00:17.576 ******** 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.3.0_HVM-20240229-x86_64-27-Access2-GP3 - ami-03d966b7245c660ec - Red Hat BYOL Linux - us-east-2"
}

TASK [Run infra-aws-open-environment Role] *************************************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.033)       0:00:17.609 ******** 

TASK [infra-aws-open-environment : Create Open Environment resources] **********
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.028)       0:00:17.638 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-open-environment/tasks/create_resources.yaml for localhost

TASK [include_role : infra-cloud-tags] *****************************************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.026)       0:00:17.664 ******** 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.036)       0:00:17.700 ******** 
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.024)       0:00:17.725 ******** 
ok: [localhost]

TASK [infra-aws-open-environment : Save generated password] ********************
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.033)       0:00:17.759 ******** 
ok: [localhost]

TASK [infra-aws-open-environment : Launch CloudFormation template to create Open Environment] ***
Tuesday 05 August 2025  01:04:50 +0000 (0:00:00.083)       0:00:17.842 ******** 
changed: [localhost]

TASK [infra-aws-open-environment : get AWS credentials from stack outputs] *****
Tuesday 05 August 2025  01:05:37 +0000 (0:00:46.308)       0:01:04.151 ******** 
ok: [localhost]

TASK [infra-aws-open-environment : Print information to user] ******************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.019)       0:01:04.171 ******** 
included: /runner/project/ansible/roles-infra/infra-aws-open-environment/tasks/print_user_info.yaml for localhost

TASK [infra-aws-open-environment : Print Open Environment information to user] ***
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.022)       0:01:04.193 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "user.info: \\nYour AWS credentials are:\\n\\n`AWS_ACCESS_KEY_ID: [REDACTED_AWS Access Key_SECRET]`\\n\\n` DO NOT expose these AWS credentials in GIT repos or anywhere else that could be public! If detected, your environment will be deleted without warning.*\\n\\nTop level route53 domain: .sandbox1861.opentlc.com\\n\\nWeb Console Access: https://879790640925.signin.aws.amazon.com/console\\n\\nWeb Console Credentials: open-environment-6jhr6-admin / 2y61NYko6QtR\\n\\nRefer to the following pages regarding the AWS CLI and APIs:\\n\\n** AWS CLI Installation: https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html\\n\\n** AWS Config Basics: https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html\\n\\n** AWS API Getting Started: https://aws.amazon.com/developers/getting-started/\\n\\n*WARNING*\\n\\n** *We monitor usage and we will be charging back to your cost center.*\\n** *Reports from the cloud provider of misuse or account compromise will result in immediate deletion of your environment without any warning to you and referral to Red Hat INFOSEC.*\\n** *Do not post your credentials in github/email/web pages/etc.*\\n** *NOTE: Most account compromises occur when accidentally checking credentials into github.*\\n"
}

TASK [infra-aws-open-environment : Record sandbox information as user data] ****
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.034)       0:01:04.228 ******** 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_access_key_id": "[REDACTED_AWS Access Key_SECRET]",
        "aws_default_region": "us-east-2",
        "aws_route53_domain": ".sandbox1861.opentlc.com",
        "aws_sandbox_account_id": "879790640925",
        "aws_secret_access_key": "[REDACTED_AWS Access Key_SECRET]"
    }
}

TASK [infra-aws-open-environment : Record sandbox web console access as user data] ***
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.049)       0:01:04.278 ******** 
ok: [localhost] => {
    "changed": false,
    "data": {
        "aws_web_console_password": "[REDACTED_Secret Keyword_SECRET]",
        "aws_web_console_url": "https://879790640925.signin.aws.amazon.com/console",
        "aws_web_console_user_name": "open-environment-6jhr6-admin"
    }
}

TASK [infra-aws-open-environment : Destroy Open Environment resources] *********
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.038)       0:01:04.317 ******** 
skipping: [localhost]

TASK [Create ssh provision key] ************************************************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.016)       0:01:04.333 ******** 

TASK [create_ssh_provision_key : include_tasks] ********************************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.041)       0:01:04.374 ******** 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.016)       0:01:04.390 ******** 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.019)       0:01:04.410 ******** 
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.227)       0:01:04.637 ******** 
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.190)       0:01:04.827 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.161)       0:01:04.989 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Tuesday 05 August 2025  01:05:37 +0000 (0:00:00.027)       0:01:05.017 ******** 
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.325)       0:01:05.342 ******** 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.014)       0:01:05.356 ******** 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.026)       0:01:05.383 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.024)       0:01:05.407 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.022)       0:01:05.430 ******** 
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.184)       0:01:05.614 ******** 
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.018)       0:01:05.633 ******** 
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.174)       0:01:05.808 ******** 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.022)       0:01:05.830 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [Run infra-cloud-tags role] ***********************************************
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.032)       0:01:05.862 ******** 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.021)       0:01:05.883 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Tuesday 05 August 2025  01:05:38 +0000 (0:00:00.094)       0:01:05.978 ******** 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.847)       0:01:06.825 ******** 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.186)       0:01:07.011 ******** 
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.023)       0:01:07.035 ******** 

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.035)       0:01:07.070 ******** 
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.028)       0:01:07.099 ******** 
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
Tuesday 05 August 2025  01:05:39 +0000 (0:00:00.027)       0:01:07.127 ******** 
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.174)       0:01:07.301 ******** 
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.031)       0:01:07.333 ******** 

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.037)       0:01:07.370 ******** 
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.013)       0:01:07.384 ******** 
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.020)       0:01:07.404 ******** 
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.179)       0:01:07.583 ******** 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.019)       0:01:07.602 ******** 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
Tuesday 05 August 2025  01:05:40 +0000 (0:00:00.018)       0:01:07.620 ******** 
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.763)       0:01:08.384 ******** 

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.090)       0:01:08.474 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.033)       0:01:08.508 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.173)       0:01:08.681 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.013)       0:01:08.695 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.017)       0:01:08.712 ******** 
ok: [localhost] => {
    "cloudformation_template_src": "templates/cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.015)       0:01:08.727 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.078)       0:01:08.806 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.015)       0:01:08.822 ******** 
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-33a1843a-85d5-5085-bbe6-9d24b3d7a39e/ocp4-cluster.6jhr6.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
Tuesday 05 August 2025  01:05:41 +0000 (0:00:00.015)       0:01:08.838 ******** 
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.449)       0:01:09.287 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.017)       0:01:09.305 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.177)       0:01:09.482 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.015)       0:01:09.498 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.016)       0:01:09.515 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.018)       0:01:09.533 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.019)       0:01:09.552 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check for !Ref in CF template] *************
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.015)       0:01:09.568 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.267)       0:01:09.835 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : Copy original !Ref CF template back in place] ***
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.026)       0:01:09.862 ******** 
skipping: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
Tuesday 05 August 2025  01:05:42 +0000 (0:00:00.014)       0:01:09.876 ******** 
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.834)       0:01:10.711 ******** 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.017)       0:01:10.728 ******** 

TASK [infra-ec2-template-create : Retrieve stack_deployed from provision-user-data.yaml] ***
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.078)       0:01:10.807 ******** 
skipping: [localhost]

TASK [include_role : infra-cloud-tags] *****************************************
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.019)       0:01:10.826 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.019)       0:01:10.846 ******** 
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.020)       0:01:10.867 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.020)       0:01:10.887 ******** 
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.023)       0:01:10.910 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.023)       0:01:10.933 ******** 
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.022)       0:01:10.956 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
Tuesday 05 August 2025  01:05:43 +0000 (0:00:00.021)       0:01:10.978 ******** 
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
[DEPRECATION WARNING]: Param 'template' is deprecated. See the module docs for 
more information. This feature will be removed from amazon.aws in a release 
after 2026-05-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Tuesday 05 August 2025  01:08:41 +0000 (0:02:57.865)       0:04:08.843 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.019)       0:04:08.862 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.020)       0:04:08.883 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.025)       0:04:08.908 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.026)       0:04:08.934 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.021)       0:04:08.956 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.020)       0:04:08.976 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.018)       0:04:08.995 ******** 
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.025)       0:04:09.021 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.018)       0:04:09.040 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.018)       0:04:09.058 ******** 
ok: [localhost]

TASK [infra-ec2-template-create : Save stack deployed for futur runs (idempotent)] ***
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.020)       0:04:09.079 ******** 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.016)       0:04:09.095 ******** 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.018)       0:04:09.114 ******** 
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
Tuesday 05 August 2025  01:08:41 +0000 (0:00:00.024)       0:04:09.139 ******** 
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.043)       0:04:09.183 ******** 
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.022)       0:04:09.206 ******** 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.030)       0:04:09.236 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.019)       0:04:09.256 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.696)       0:04:09.952 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.018)       0:04:09.971 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.019)       0:04:09.990 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.019)       0:04:10.010 ******** 
ok: [localhost] => (item=bastion.6jhr6.internal)

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.028)       0:04:10.038 ******** 
changed: [localhost] => (item=bastion.6jhr6.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.045)       0:04:10.084 ******** 
changed: [localhost] => (item=bastion.6jhr6.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.028)       0:04:10.112 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Tuesday 05 August 2025  01:08:42 +0000 (0:00:00.018)       0:04:10.131 ******** 
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.025)       0:04:10.157 ******** 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.044)       0:04:10.201 ******** 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.023)       0:04:10.225 ******** 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.161)       0:04:10.387 ******** 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.178)       0:04:10.565 ******** 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.188)       0:04:10.754 ******** 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.283)       0:04:11.037 ******** 
skipping: [localhost] => (item=bastion.6jhr6.internal) 
skipping: [localhost]

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.039)       0:04:11.077 ******** 
ok: [localhost]
ok: [bastion.6jhr6.internal]

TASK [Include variables files] *************************************************
Tuesday 05 August 2025  01:08:43 +0000 (0:00:00.030)       0:04:11.108 ******** 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 
ok: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [bastion.6jhr6.internal] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Tuesday 05 August 2025  01:08:44 +0000 (0:00:00.087)       0:04:11.195 ******** 
skipping: [localhost]
skipping: [bastion.6jhr6.internal]

TASK [Set passthrough user data] ***********************************************
Tuesday 05 August 2025  01:08:44 +0000 (0:00:00.026)       0:04:11.221 ******** 
skipping: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
Tuesday 05 August 2025  01:08:44 +0000 (0:00:00.042)       0:04:11.264 ******** 
ok: [bastion.6jhr6.internal]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************
Tuesday 05 August 2025  01:08:44 +0000 (0:00:00.021)       0:04:11.285 ******** 

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
Tuesday 05 August 2025  01:08:44 +0000 (0:00:00.019)       0:04:11.304 ******** 
ok: [bastion.6jhr6.internal]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
Tuesday 05 August 2025  01:08:45 +0000 (0:00:01.031)       0:04:12.335 ******** 
skipping: [bastion.6jhr6.internal]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
Tuesday 05 August 2025  01:08:45 +0000 (0:00:00.018)       0:04:12.354 ******** 
skipping: [bastion.6jhr6.internal]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
Tuesday 05 August 2025  01:08:45 +0000 (0:00:00.016)       0:04:12.370 ******** 
ok: [bastion.6jhr6.internal]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************
Tuesday 05 August 2025  01:08:45 +0000 (0:00:00.520)       0:04:12.891 ******** 

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
Tuesday 05 August 2025  01:08:45 +0000 (0:00:00.021)       0:04:12.912 ******** 
changed: [bastion.6jhr6.internal]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
Tuesday 05 August 2025  01:08:46 +0000 (0:00:00.949)       0:04:13.862 ******** 
ok: [bastion.6jhr6.internal]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
Tuesday 05 August 2025  01:08:47 +0000 (0:00:00.442)       0:04:14.304 ******** 
changed: [bastion.6jhr6.internal]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
Tuesday 05 August 2025  01:08:47 +0000 (0:00:00.437)       0:04:14.742 ******** 
changed: [bastion.6jhr6.internal]

TASK [Add authorized_keys] *****************************************************
Tuesday 05 August 2025  01:08:48 +0000 (0:00:00.441)       0:04:15.184 ******** 

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
Tuesday 05 August 2025  01:08:48 +0000 (0:00:00.030)       0:04:15.214 ******** 
changed: [bastion.6jhr6.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.6jhr6.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.6jhr6.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [bastion.6jhr6.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [bastion.6jhr6.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
Tuesday 05 August 2025  01:08:50 +0000 (0:00:02.543)       0:04:17.758 ******** 
skipping: [bastion.6jhr6.internal]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 - Post Infrastructure] ******************************************

TASK [All-Cloud Post Infrastructure] *******************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.032)       0:04:17.790 ******** 
ok: [localhost] => {
    "changed": false,
    "data": {
        "guid": "6jhr6"
    }
}

TASK [OpenShift Floating IPs on OpenStack] *************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.023)       0:04:17.814 ******** 
skipping: [localhost]

TASK [Create secret for SSH Key] ***********************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.016)       0:04:17.830 ******** 
skipping: [localhost]

TASK [Save Route53User credentials from stack outputs] *************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.015)       0:04:17.846 ******** 
ok: [localhost]

TASK [Set FQDN for the bastion VM] *********************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.023)       0:04:17.870 ******** 
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.015)       0:04:17.886 ******** 
skipping: [localhost]

TASK [Set FQDN for each Windows VM] ********************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.017)       0:04:17.903 ******** 
skipping: [localhost]

TASK [Print Host Information] **************************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.023)       0:04:17.927 ******** 
skipping: [localhost]

PLAY [Step 002 Post Infrastructure regreSSHion hotfix] *************************

TASK [Gathering Facts] *********************************************************
Tuesday 05 August 2025  01:08:50 +0000 (0:00:00.032)       0:04:17.960 ******** 
ok: [bastion.6jhr6.internal]

TASK [Have facts been gathered?] ***********************************************
Tuesday 05 August 2025  01:08:51 +0000 (0:00:01.184)       0:04:19.144 ******** 
ok: [bastion.6jhr6.internal]

TASK [Set sshd LoginGraceTime to 0 in /etc/ssh/sshd_config] ********************
Tuesday 05 August 2025  01:08:52 +0000 (0:00:00.563)       0:04:19.707 ******** 
changed: [bastion.6jhr6.internal]

TASK [Restart SSH service for regreSSHion fix] *********************************
Tuesday 05 August 2025  01:08:52 +0000 (0:00:00.431)       0:04:20.139 ******** 
changed: [bastion.6jhr6.internal]

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
Tuesday 05 August 2025  01:08:53 +0000 (0:00:00.907)       0:04:21.046 ******** 
skipping: [localhost]

PLAY [Step 003 - Pre Software] *************************************************

TASK [Print debug message] *****************************************************
Tuesday 05 August 2025  01:08:53 +0000 (0:00:00.028)       0:04:21.075 ******** 
ok: [localhost] => {
    "msg": "Step 003 - Pre Software"
}

PLAY [Step 003.1 Configure all hosts with repositories, common files and set environment key] ***

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
Tuesday 05 August 2025  01:08:53 +0000 (0:00:00.040)       0:04:21.116 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : Configure satellite repositories] *********************
Tuesday 05 August 2025  01:08:53 +0000 (0:00:00.020)       0:04:21.136 ******** 
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for bastion.6jhr6.internal

TASK [set-repositories : sat | Check subscription-manager package existence] ***
Tuesday 05 August 2025  01:08:54 +0000 (0:00:00.136)       0:04:21.272 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Install subscription-manager package] ***********
Tuesday 05 August 2025  01:08:54 +0000 (0:00:00.022)       0:04:21.294 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
Tuesday 05 August 2025  01:08:54 +0000 (0:00:00.022)       0:04:21.317 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Unregister the system just in case] *************
Tuesday 05 August 2025  01:08:57 +0000 (0:00:03.357)       0:04:24.674 ******** 
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for bastion.6jhr6.internal

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
Tuesday 05 August 2025  01:08:57 +0000 (0:00:00.030)       0:04:24.704 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
Tuesday 05 August 2025  01:08:58 +0000 (0:00:00.806)       0:04:25.510 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
Tuesday 05 August 2025  01:08:59 +0000 (0:00:00.781)       0:04:26.291 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Remove satellite Cert] **************************
Tuesday 05 August 2025  01:09:00 +0000 (0:00:01.387)       0:04:27.679 ******** 
ok: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Find current repository files] ******************
Tuesday 05 August 2025  01:09:01 +0000 (0:00:00.967)       0:04:28.646 ******** 
ok: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Remove current repository files] ****************
Tuesday 05 August 2025  01:09:02 +0000 (0:00:00.581)       0:04:29.227 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
Tuesday 05 August 2025  01:09:02 +0000 (0:00:00.013)       0:04:29.241 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
Tuesday 05 August 2025  01:09:05 +0000 (0:00:03.390)       0:04:32.631 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.555)       0:04:33.187 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.021)       0:04:33.208 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.021)       0:04:33.230 ******** 
ok: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.026)       0:04:33.257 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Register with activation-key] *******************
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.815)       0:04:34.072 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
Tuesday 05 August 2025  01:09:06 +0000 (0:00:00.022)       0:04:34.095 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
Tuesday 05 August 2025  01:09:13 +0000 (0:00:06.220)       0:04:40.315 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
Tuesday 05 August 2025  01:09:14 +0000 (0:00:00.900)       0:04:41.216 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
Tuesday 05 August 2025  01:09:14 +0000 (0:00:00.020)       0:04:41.237 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
Tuesday 05 August 2025  01:09:14 +0000 (0:00:00.021)       0:04:41.258 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Enable repos] ***********************************
Tuesday 05 August 2025  01:09:14 +0000 (0:00:00.024)       0:04:41.282 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Purge existing repos] ***************************
Tuesday 05 August 2025  01:09:17 +0000 (0:00:03.392)       0:04:44.674 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
Tuesday 05 August 2025  01:09:17 +0000 (0:00:00.020)       0:04:44.695 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Create the certificate and key files] ***********
Tuesday 05 August 2025  01:09:17 +0000 (0:00:00.026)       0:04:44.721 ******** 
skipping: [bastion.6jhr6.internal] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [bastion.6jhr6.internal] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | Add certificate and key content] ****************
Tuesday 05 August 2025  01:09:17 +0000 (0:00:00.031)       0:04:44.753 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | create open.repo template on host] **************
Tuesday 05 August 2025  01:09:17 +0000 (0:00:00.025)       0:04:44.779 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set-repositories : sat | clean repositories] *****************************
Tuesday 05 August 2025  01:09:17 +0000 (0:00:00.022)       0:04:44.801 ******** 
changed: [bastion.6jhr6.internal]

TASK [set-repositories : Unregister from subscription manager] *****************
Tuesday 05 August 2025  01:09:18 +0000 (0:00:01.059)       0:04:45.860 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Deactivate DNS lookup in sshd] **********************************
Tuesday 05 August 2025  01:09:18 +0000 (0:00:00.024)       0:04:45.885 ******** 
changed: [bastion.6jhr6.internal]

TASK [common : Update all packages] ********************************************
Tuesday 05 August 2025  01:09:19 +0000 (0:00:00.451)       0:04:46.337 ******** 
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
[WARNING]: sftp transfer mechanism failed on [bastion.6jhr6.internal]. Use
ANSIBLE_DEBUG=1 to see detailed information
[WARNING]: scp transfer mechanism failed on [bastion.6jhr6.internal]. Use
ANSIBLE_DEBUG=1 to see detailed information
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j796940848302.7972 started=1 finished=0
ASYNC OK on bastion.6jhr6.internal: jid=j796940848302.7972
changed: [bastion.6jhr6.internal]

TASK [common : Update all packages Legacy] *************************************
Tuesday 05 August 2025  01:15:27 +0000 (0:06:08.118)       0:10:54.455 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Determine if reboot is needed] **********************************
Tuesday 05 August 2025  01:15:27 +0000 (0:00:00.023)       0:10:54.479 ******** 
ok: [bastion.6jhr6.internal]

TASK [common : Reboot all VMs] *************************************************
Tuesday 05 August 2025  01:15:28 +0000 (0:00:01.189)       0:10:55.668 ******** 
changed: [bastion.6jhr6.internal]

TASK [common : Update network facts after reboot] ******************************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:31.738)       0:11:27.407 ******** 
ok: [bastion.6jhr6.internal]

TASK [common : Run setup if gather_facts hasn't been run] **********************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:00.662)       0:11:28.069 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : install common packages for RHEL 7] *****************************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:00.021)       0:11:28.091 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : install common packages for RHEL 8] *****************************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:00.017)       0:11:28.108 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Set up python alternatives for convenience] *********************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:00.017)       0:11:28.126 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : install common packages for RHEL 9] *****************************
Tuesday 05 August 2025  01:16:00 +0000 (0:00:00.017)       0:11:28.143 ******** 
changed: [bastion.6jhr6.internal]

TASK [common : install extra packages] *****************************************
Tuesday 05 August 2025  01:17:12 +0000 (0:01:11.769)       0:12:39.913 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Update specified packages] **************************************
Tuesday 05 August 2025  01:17:12 +0000 (0:00:00.023)       0:12:39.936 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Determine if reboot is needed] **********************************
Tuesday 05 August 2025  01:17:12 +0000 (0:00:00.022)       0:12:39.959 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Reboot VMs] *****************************************************
Tuesday 05 August 2025  01:17:12 +0000 (0:00:00.028)       0:12:39.988 ******** 
skipping: [bastion.6jhr6.internal]

TASK [common : Refresh network facts post-reboot] ******************************
Tuesday 05 August 2025  01:17:12 +0000 (0:00:00.024)       0:12:40.012 ******** 
skipping: [bastion.6jhr6.internal]

TASK [set_env_authorized_key : create /root/.ssh] ******************************
Tuesday 05 August 2025  01:17:12 +0000 (0:00:00.030)       0:12:40.043 ******** 
ok: [bastion.6jhr6.internal]

TASK [set_env_authorized_key : copy the environment .pem key] ******************
Tuesday 05 August 2025  01:17:13 +0000 (0:00:00.423)       0:12:40.466 ******** 
changed: [bastion.6jhr6.internal]

TASK [set_env_authorized_key : copy the environment .pub key] ******************
Tuesday 05 August 2025  01:17:14 +0000 (0:00:00.782)       0:12:41.249 ******** 
changed: [bastion.6jhr6.internal]

TASK [set_env_authorized_key : Set authorized key from file] *******************
Tuesday 05 August 2025  01:17:14 +0000 (0:00:00.780)       0:12:42.030 ******** 
changed: [bastion.6jhr6.internal]

TASK [set_env_authorized_key : Generate host .ssh/config Template] *************
Tuesday 05 August 2025  01:17:15 +0000 (0:00:00.476)       0:12:42.507 ******** 
changed: [bastion.6jhr6.internal -> localhost]

TASK [set_env_authorized_key : copy over host .ssh/config Template] ************
Tuesday 05 August 2025  01:17:15 +0000 (0:00:00.318)       0:12:42.825 ******** 
changed: [bastion.6jhr6.internal]

TASK [Add GUID to /etc/skel/.bashrc] *******************************************
Tuesday 05 August 2025  01:17:16 +0000 (0:00:00.771)       0:12:43.596 ******** 
changed: [bastion.6jhr6.internal]

RUNNING HANDLER [common : restart_sshd] ****************************************
Tuesday 05 August 2025  01:17:16 +0000 (0:00:00.424)       0:12:44.021 ******** 
changed: [bastion.6jhr6.internal]

PLAY [Step 003.2 - Configuring Bastion Hosts] **********************************

TASK [bastion-lite : Generate an SSH key on the Bastion and configure access on all the hosts] ***
Tuesday 05 August 2025  01:17:17 +0000 (0:00:00.630)       0:12:44.652 ******** 
included: /runner/project/ansible/roles/bastion-lite/tasks/./create_bastion_ssh_key_and_access.yml for bastion.6jhr6.internal

TASK [bastion-lite : Generate SSH keys] ****************************************
Tuesday 05 August 2025  01:17:17 +0000 (0:00:00.026)       0:12:44.679 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-lite : Fix permission of ssh key] ********************************
Tuesday 05 August 2025  01:17:18 +0000 (0:00:00.575)       0:12:45.254 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-lite : Generate SSH pub key content] *****************************
Tuesday 05 August 2025  01:17:18 +0000 (0:00:00.420)       0:12:45.675 ******** 
ok: [bastion.6jhr6.internal]

TASK [bastion-lite : Save all facts for SSH] ***********************************
Tuesday 05 August 2025  01:17:18 +0000 (0:00:00.417)       0:12:46.092 ******** 
ok: [bastion.6jhr6.internal]

TASK [bastion-lite : Write SSH pub key] ****************************************
Tuesday 05 August 2025  01:17:18 +0000 (0:00:00.024)       0:12:46.117 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-lite : Add bastion access to all hosts] **************************
Tuesday 05 August 2025  01:17:19 +0000 (0:00:00.822)       0:12:46.939 ******** 
changed: [bastion.6jhr6.internal] => (item=bastion.6jhr6.internal)

TASK [bastion-lite : Add bastion access to all hosts] **************************
Tuesday 05 August 2025  01:17:20 +0000 (0:00:00.496)       0:12:47.435 ******** 
changed: [bastion.6jhr6.internal] => (item=bastion.6jhr6.internal)

TASK [bastion-lite : Generate .ssh/config] *************************************
Tuesday 05 August 2025  01:17:20 +0000 (0:00:00.492)       0:12:47.927 ******** 
changed: [bastion.6jhr6.internal]

TASK [Install FTL] *************************************************************
Tuesday 05 August 2025  01:17:21 +0000 (0:00:00.815)       0:12:48.743 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-lite : Ensure system Python3 has selinux library installed] ******
Tuesday 05 August 2025  01:17:21 +0000 (0:00:00.019)       0:12:48.763 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-lite : Install OpenShift Helm 3] *********************************
Tuesday 05 August 2025  01:17:21 +0000 (0:00:00.018)       0:12:48.782 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-lite : Add GUID to /etc/skel/.bashrc] ****************************
Tuesday 05 August 2025  01:17:21 +0000 (0:00:00.018)       0:12:48.800 ******** 
ok: [bastion.6jhr6.internal]

TASK [bastion-lite : Add GUID to ~ec2-user/.bashrc] ****************************
Tuesday 05 August 2025  01:17:22 +0000 (0:00:00.421)       0:12:49.222 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-lite : Add CLOUDUSER to /etc/skel/.bashrc] ***********************
Tuesday 05 August 2025  01:17:22 +0000 (0:00:00.430)       0:12:49.652 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-lite : Add CLOUDUSER to ~ec2-user/.bashrc] ***********************
Tuesday 05 August 2025  01:17:22 +0000 (0:00:00.416)       0:12:50.069 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Generate student_password if not defined] *********
Tuesday 05 August 2025  01:17:23 +0000 (0:00:00.419)       0:12:50.489 ******** 
ok: [bastion.6jhr6.internal]

TASK [bastion-student-user : Create user] **************************************
Tuesday 05 August 2025  01:17:23 +0000 (0:00:00.027)       0:12:50.516 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Add student public key] ***************************
Tuesday 05 August 2025  01:17:24 +0000 (0:00:00.961)       0:12:51.477 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-student-user : Add env authorized public key to student user] ****
Tuesday 05 August 2025  01:17:24 +0000 (0:00:00.021)       0:12:51.499 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Enable password authentication] *******************
Tuesday 05 August 2025  01:17:24 +0000 (0:00:00.491)       0:12:51.990 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Remove PasswordAuthentication line from 50-cloud-init.conf] ***
Tuesday 05 August 2025  01:17:25 +0000 (0:00:00.411)       0:12:52.402 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Disable root password authentication] *************
Tuesday 05 August 2025  01:17:25 +0000 (0:00:00.417)       0:12:52.819 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Allow passwordless sudo] **************************
Tuesday 05 August 2025  01:17:26 +0000 (0:00:00.410)       0:12:53.230 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Restart sshd] *************************************
Tuesday 05 August 2025  01:17:26 +0000 (0:00:00.410)       0:12:53.640 ******** 
changed: [bastion.6jhr6.internal]

TASK [bastion-student-user : Print access info (non CNV)] **********************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.599)       0:12:54.240 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-student-user : Print access info (CNV)] **************************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.017)       0:12:54.257 ******** 
skipping: [bastion.6jhr6.internal]

TASK [bastion-student-user : Set access data] **********************************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.018)       0:12:54.276 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "data": {
        "bastion_public_hostname": "ec2-3-150-5-231.us-east-2.compute.amazonaws.com",
        "bastion_ssh_password": "[REDACTED_Secret Keyword_SECRET]",
        "bastion_ssh_user_name": "lab-user"
    }
}

TASK [bastion-student-user : Set bastion port for CNV] *************************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.040)       0:12:54.317 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Prepare student user for using Ansible within the environment] ***********
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.017)       0:12:54.334 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Copy SSH private key to student user .ssh directory] *********************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.025)       0:12:54.359 ******** 
changed: [bastion.6jhr6.internal]

TASK [Copy SSH public key to student user .ssh directory] **********************
Tuesday 05 August 2025  01:17:27 +0000 (0:00:00.428)       0:12:54.788 ******** 
changed: [bastion.6jhr6.internal]

TASK [Copy SSH config to student user .ssh directory] **************************
Tuesday 05 August 2025  01:17:28 +0000 (0:00:00.418)       0:12:55.207 ******** 
changed: [bastion.6jhr6.internal]

PLAY [Step 003.3 Create a Python3 VirtualEnv for use in the k8s Ansible tasks] ***

TASK [Setup k8s virtualenv (EL9)] **********************************************
Tuesday 05 August 2025  01:17:28 +0000 (0:00:00.445)       0:12:55.652 ******** 

TASK [host_virtualenv : Check host_virtualenv_path is defined] *****************
Tuesday 05 August 2025  01:17:28 +0000 (0:00:00.027)       0:12:55.679 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host_virtualenv : Gather basic ansible facts to determine pkg_mgr] *******
Tuesday 05 August 2025  01:17:28 +0000 (0:00:00.022)       0:12:55.702 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host_virtualenv : Install virtualenv package prerequisites] **************
Tuesday 05 August 2025  01:17:28 +0000 (0:00:00.018)       0:12:55.720 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Install virtualenv module system-wide for compatibility with previous behavior] ***
Tuesday 05 August 2025  01:17:37 +0000 (0:00:09.197)       0:13:04.917 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Make virtualenv path] **********************************
Tuesday 05 August 2025  01:17:39 +0000 (0:00:02.220)       0:13:07.138 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Write /opt/virtualenvs/k8s/host_virtualenv-requirements.txt] ***
Tuesday 05 August 2025  01:17:40 +0000 (0:00:00.423)       0:13:07.562 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Set up virtualenv with updated pip] ********************
Tuesday 05 August 2025  01:17:41 +0000 (0:00:00.772)       0:13:08.334 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Install requirements in virtualenv] ********************
Tuesday 05 August 2025  01:17:46 +0000 (0:00:04.963)       0:13:13.297 ******** 
changed: [bastion.6jhr6.internal]

TASK [host_virtualenv : Ownership of files in virtualenv path] *****************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:53.130)       0:14:06.428 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Setup k8s virtualenv (EL8)] **********************************************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.024)       0:14:06.452 ******** 
skipping: [bastion.6jhr6.internal]

PLAY [PreSoftware flight-check] ************************************************

TASK [Print debug message] *****************************************************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.036)       0:14:06.489 ******** 
ok: [localhost] => {
    "msg": "Pre-Software checks completed successfully"
}

PLAY [Step 004 - Software] *****************************************************

TASK [Debug ocp4-cluster software playbook] ************************************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.033)       0:14:06.522 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "ocp4-cluster Software playbook"
}

PLAY [Step 004.1 - Host preparation for OpenShift 4 deployment] ****************

TASK [Call Role to provision OCP4 install host] ********************************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.040)       0:14:06.563 ******** 

TASK [host-ocp4-provisioner : Ensure directory /etc/ansible exists] ************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.028)       0:14:06.592 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Get awscli bundle] *******************************
Tuesday 05 August 2025  01:18:39 +0000 (0:00:00.434)       0:14:07.026 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Unzip awscliv2.zip] ******************************
Tuesday 05 August 2025  01:18:40 +0000 (0:00:00.965)       0:14:07.991 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Install awscli] **********************************
Tuesday 05 August 2025  01:18:47 +0000 (0:00:06.531)       0:14:14.523 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : cleanup archive and tmp files] *******************
Tuesday 05 August 2025  01:18:56 +0000 (0:00:09.396)       0:14:23.919 ******** 
changed: [bastion.6jhr6.internal] => (item=/tmp/aws)
changed: [bastion.6jhr6.internal] => (item=/tmp/awscliv2.zip)

TASK [host-ocp4-provisioner : Create .aws directory] ***************************
Tuesday 05 August 2025  01:18:57 +0000 (0:00:01.166)       0:14:25.086 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Add aws credentials for sandboxes] ***************
Tuesday 05 August 2025  01:18:58 +0000 (0:00:00.416)       0:14:25.502 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Add aws credentials for shared account] **********
Tuesday 05 August 2025  01:18:58 +0000 (0:00:00.023)       0:14:25.526 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : Install slirp4netns] *****************************
Tuesday 05 August 2025  01:18:58 +0000 (0:00:00.413)       0:14:25.939 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-provisioner : update max_user_namespaces in sysctl] ************
Tuesday 05 August 2025  01:19:02 +0000 (0:00:03.824)       0:14:29.763 ******** 
changed: [bastion.6jhr6.internal]

PLAY [Step 004.2 - Install OpenShift] ******************************************

TASK [Call Role to install OpenShift] ******************************************
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.559)       0:14:30.323 ******** 

TASK [host-ocp4-installer : Gather distribution version] ***********************
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.095)       0:14:30.419 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (specific version)] ***
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.554)       0:14:30.974 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set URLs for OpenShift GA releases (latest stable)] ***
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.027)       0:14:31.001 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Ensure ocp4_installer_url and ocp4_client_url are set] ***
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.021)       0:14:31.023 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host-ocp4-installer : Debug URLs] ****************************************
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.022)       0:14:31.046 ******** 
ok: [bastion.6jhr6.internal] => (item=OpenShift Installer URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-install-linux-4.12.12.tar.gz) => {
    "msg": "OpenShift Installer URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-install-linux-4.12.12.tar.gz"
}
ok: [bastion.6jhr6.internal] => (item=OpenShift Client URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-client-linux-4.12.12.tar.gz) => {
    "msg": "OpenShift Client URL: http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-client-linux-4.12.12.tar.gz"
}

TASK [host-ocp4-installer : Get the OpenShift Installer] ***********************
Tuesday 05 August 2025  01:19:03 +0000 (0:00:00.023)       0:14:31.069 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Check if the installer is a FIPS installer] ********
Tuesday 05 August 2025  01:19:19 +0000 (0:00:15.740)       0:14:46.809 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Hard link the FIPS installer if it exists] *********
Tuesday 05 August 2025  01:19:20 +0000 (0:00:00.408)       0:14:47.218 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get the OpenShift CLI] *****************************
Tuesday 05 August 2025  01:19:20 +0000 (0:00:00.016)       0:14:47.235 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Setup FIPS mode on the host] ***********************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:04.392)       0:14:51.628 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Reboot host] ***************************************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.026)       0:14:51.654 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set internal network name] *************************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.023)       0:14:51.678 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Print internal network name] ***********************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.016)       0:14:51.695 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set ocp machine cidr] ******************************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.015)       0:14:51.710 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Print ocp machine cidr] ****************************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.015)       0:14:51.725 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Find internal network's subnet id] *****************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.019)       0:14:51.745 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set internal network subnetid] *********************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.023)       0:14:51.769 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Print internal network's subnet id] ****************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.021)       0:14:51.790 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Generate SSH keys] *********************************
Tuesday 05 August 2025  01:19:24 +0000 (0:00:00.020)       0:14:51.811 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Generate SSH pub key] ******************************
Tuesday 05 August 2025  01:19:25 +0000 (0:00:00.478)       0:14:52.289 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Slurp public key] **********************************
Tuesday 05 August 2025  01:19:25 +0000 (0:00:00.390)       0:14:52.679 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Create cluster directory] **************************
Tuesday 05 August 2025  01:19:26 +0000 (0:00:00.500)       0:14:53.180 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Check if version specific install-config.j2 exists] ***
Tuesday 05 August 2025  01:19:26 +0000 (0:00:00.408)       0:14:53.589 ******** 
ok: [bastion.6jhr6.internal -> localhost]

TASK [host-ocp4-installer : Use version-specific template for install-config-yaml] ***
Tuesday 05 August 2025  01:19:26 +0000 (0:00:00.173)       0:14:53.762 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Use default template for install-config-yaml] ******
Tuesday 05 August 2025  01:19:26 +0000 (0:00:00.020)       0:14:53.782 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Generate config install-config.yaml] ***************
Tuesday 05 August 2025  01:19:26 +0000 (0:00:00.020)       0:14:53.803 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Make a copy of the cluster install config] *********
Tuesday 05 August 2025  01:19:27 +0000 (0:00:00.857)       0:14:54.660 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Create openshift-install manifests] ****************
Tuesday 05 August 2025  01:19:27 +0000 (0:00:00.408)       0:14:55.069 ******** 
included: /runner/project/ansible/roles/host-ocp4-installer/tasks/create-manifests.yml for bastion.6jhr6.internal

TASK [host-ocp4-installer : Run openshift-install create manifests] ************
Tuesday 05 August 2025  01:19:27 +0000 (0:00:00.027)       0:14:55.097 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Create install workaround manifests/cluster-network-03-config.yml for OVN] ***
Tuesday 05 August 2025  01:19:30 +0000 (0:00:02.356)       0:14:57.453 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Create install workaround manifests/99-scsi-device-detection-machineconfig.yml] ***
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.017)       0:14:57.470 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Make sure manifests dir exists] ********************
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.016)       0:14:57.487 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Download Project Calico Manifest archive file to home dir] ***
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.019)       0:14:57.506 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Extract Project Calico manifest files] *************
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.018)       0:14:57.524 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Verify permissions on Calico manifest files are set to 775] ***
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.017)       0:14:57.542 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Remove downloaded file] ****************************
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.018)       0:14:57.560 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Run the installer] *********************************
Tuesday 05 August 2025  01:19:30 +0000 (0:00:00.016)       0:14:57.577 ******** 
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC POLL on bastion.6jhr6.internal: jid=j511877927802.16707 started=1 finished=0
ASYNC OK on bastion.6jhr6.internal: jid=j511877927802.16707
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Setup OpenStack external network during install] ***
Tuesday 05 August 2025  01:51:57 +0000 (0:32:26.751)       0:47:24.329 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Gzip Install log] **********************************
Tuesday 05 August 2025  01:51:57 +0000 (0:00:00.019)       0:47:24.349 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get Install log] ***********************************
Tuesday 05 August 2025  01:51:57 +0000 (0:00:00.534)       0:47:24.883 ******** 
changed: [bastion.6jhr6.internal]

TASK [Save output_dir archive] *************************************************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.454)       0:47:25.337 ******** 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.038)       0:47:25.375 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for bastion.6jhr6.internal

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.028)       0:47:25.404 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for bastion.6jhr6.internal

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.026)       0:47:25.430 ******** 
changed: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.160)       0:47:25.591 ******** 
ok: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.022)       0:47:25.614 ******** 
changed: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.165)       0:47:25.779 ******** 
skipping: [bastion.6jhr6.internal]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.022)       0:47:25.802 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for bastion.6jhr6.internal

TASK [Run infra-cloud-tags role] ***********************************************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.034)       0:47:25.836 ******** 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.038)       0:47:25.875 ******** 
skipping: [bastion.6jhr6.internal]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.029)       0:47:25.905 ******** 
ok: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.040)       0:47:25.945 ******** 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for bastion.6jhr6.internal

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Tuesday 05 August 2025  01:51:58 +0000 (0:00:00.034)       0:47:25.980 ******** 
changed: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Tuesday 05 August 2025  01:51:59 +0000 (0:00:00.996)       0:47:26.976 ******** 
changed: [bastion.6jhr6.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Tuesday 05 August 2025  01:52:00 +0000 (0:00:00.189)       0:47:27.166 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get all instances for GUID] ************************
Tuesday 05 August 2025  01:52:00 +0000 (0:00:00.026)       0:47:27.193 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Add GUID and env-type metadata to instances] *******
Tuesday 05 August 2025  01:52:00 +0000 (0:00:00.016)       0:47:27.209 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Add additional metadata to instances] **************
Tuesday 05 August 2025  01:52:00 +0000 (0:00:00.015)       0:47:27.225 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Fetch kube config] *********************************
Tuesday 05 August 2025  01:52:00 +0000 (0:00:00.015)       0:47:27.240 ******** 
changed: [bastion.6jhr6.internal] => (item=kubeconfig)
changed: [bastion.6jhr6.internal] => (item=kubeadmin-password)

TASK [host-ocp4-installer : Make sure .kube directory exists for ec2-user] *****
Tuesday 05 August 2025  01:52:01 +0000 (0:00:00.908)       0:47:28.149 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists for root] *********
Tuesday 05 August 2025  01:52:01 +0000 (0:00:00.429)       0:47:28.579 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /home/ec2-user/.kube/config] ***
Tuesday 05 August 2025  01:52:02 +0000 (0:00:00.592)       0:47:29.171 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Copy cluster kubeconfig to /root/.kube/config] *****
Tuesday 05 August 2025  01:52:02 +0000 (0:00:00.489)       0:47:29.660 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Make sure .kube directory exists in /home/lab-user] ***
Tuesday 05 August 2025  01:52:02 +0000 (0:00:00.434)       0:47:30.095 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Copy /home/ec2-user/cluster-6jhr6/auth/kubeconfig to /home/lab-user/.kube] ***
Tuesday 05 August 2025  01:52:03 +0000 (0:00:00.428)       0:47:30.524 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Create OpenShift Bash completion file] *************
Tuesday 05 August 2025  01:52:03 +0000 (0:00:00.431)       0:47:30.955 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get kubeadmin password] ****************************
Tuesday 05 August 2025  01:52:04 +0000 (0:00:00.484)       0:47:31.440 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set user data for kubeadmin password] **************
Tuesday 05 August 2025  01:52:04 +0000 (0:00:00.395)       0:47:31.835 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get console route] *********************************
Tuesday 05 August 2025  01:52:04 +0000 (0:00:00.018)       0:47:31.854 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get Webconsole URL] ********************************
Tuesday 05 August 2025  01:52:05 +0000 (0:00:00.538)       0:47:32.393 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get API URL] ***************************************
Tuesday 05 August 2025  01:52:05 +0000 (0:00:00.467)       0:47:32.860 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Get OpenShift Ingress Domain] **********************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.462)       0:47:33.323 ******** 
changed: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set facts for OpenShift console and API] ***********
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.541)       0:47:33.864 ******** 
ok: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Set user data for OpenShift access] ****************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.023)       0:47:33.887 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "data": {
        "openshift_api_url": "https://api.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com:6443",
        "openshift_client_download_url": "http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-client-linux-4.12.12.tar.gz",
        "openshift_cluster_ingress_domain": "apps.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com",
        "openshift_console_url": "https://console-openshift-console.apps.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com"
    }
}

TASK [host-ocp4-installer : Show user messages for OpenShift access] ***********
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.031)       0:47:33.918 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "user.info: OpenShift Console: https://console-openshift-console.apps.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com\\nOpenShift API for command line 'oc' client: https://api.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com:6443\\nDownload oc client from http://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.12/openshift-client-linux-4.12.12.tar.gz"
}

TASK [host-ocp4-installer : Find ingress_port_ID] ******************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.027)       0:47:33.946 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Debug ingress port ID] *****************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.016)       0:47:33.962 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Debug ocp_ingress_fip] *****************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.014)       0:47:33.976 ******** 
skipping: [bastion.6jhr6.internal]

TASK [host-ocp4-installer : Attach ocp_ingress_fip to ingress_port_ID] *********
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.014)       0:47:33.991 ******** 
skipping: [bastion.6jhr6.internal]

PLAY [Step 005 - Post software] ************************************************

TASK [Print post software] *****************************************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.044)       0:47:34.035 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Post-Software Steps starting"
}

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.017)       0:47:34.052 ******** 
ok: [bastion.6jhr6.internal]

TASK [Setup cluster-admin service account] *************************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.016)       0:47:34.069 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Remove AWS Credentials from bastion] *************************************
Tuesday 05 August 2025  01:52:06 +0000 (0:00:00.015)       0:47:34.085 ******** 
changed: [bastion.6jhr6.internal]

TASK [Remove Azure Credentials directory from bastion] *************************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.430)       0:47:34.515 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Remove the openshift-installer GCP Credentials directory from bastion] ***
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.015)       0:47:34.531 ******** 
skipping: [bastion.6jhr6.internal]

TASK [Remove gcloud CLI Credentials directory from bastion] ********************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.014)       0:47:34.546 ******** 
skipping: [bastion.6jhr6.internal]

PLAY [Install workloads] *******************************************************

TASK [Set Ansible Python interpreter to k8s virtualenv] ************************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.047)       0:47:34.593 ******** 
ok: [bastion.6jhr6.internal]

TASK [Install infra workloads] *************************************************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.023)       0:47:34.616 ******** 

TASK [ocp4_workload_authentication : Running Pre Workload Tasks] ***************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.090)       0:47:34.706 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication/tasks/./pre_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_authentication : pre_workload tasks complete] **************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.024)       0:47:34.731 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_authentication : Running Workload Tasks] *******************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.023)       0:47:34.754 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication/tasks/./workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_authentication : Check that ocp4_workload_authentication_idm_type is defined and valid] ***
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.028)       0:47:34.783 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ocp4_workload_authentication : Retrieve OpenShift Ingress] ***************
Tuesday 05 August 2025  01:52:07 +0000 (0:00:00.029)       0:47:34.812 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Retrieve API server configuration (for API endpoint)] ***
Tuesday 05 August 2025  01:52:08 +0000 (0:00:01.145)       0:47:35.958 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Save OpenShift access facts] **************
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.900)       0:47:36.859 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Setup htpasswd authentication] ************
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.029)       0:47:36.888 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication/tasks/setup_htpasswd.yml for bastion.6jhr6.internal

TASK [ocp4_workload_authentication : Generate cluster admin password] **********
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.042)       0:47:36.931 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Use provided admin password] **************
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.020)       0:47:36.952 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Set up randomized user password array] ****
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.025)       0:47:36.977 ******** 
skipping: [bastion.6jhr6.internal] => (item=0) 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Generate common user password] ************
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.023)       0:47:37.000 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Use provided user password] ***************
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.020)       0:47:37.021 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Generate user passwords array for common password] ***
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.024)       0:47:37.045 ******** 
ok: [bastion.6jhr6.internal] => (item=0)

TASK [ocp4_workload_authentication : Create temporary htpasswd file] ***********
Tuesday 05 August 2025  01:52:09 +0000 (0:00:00.026)       0:47:37.072 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Add admin user to htpasswd file] **********
Tuesday 05 August 2025  01:52:10 +0000 (0:00:00.428)       0:47:37.500 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Add users and passwords to htpasswd file] ***
Tuesday 05 August 2025  01:52:10 +0000 (0:00:00.614)       0:47:38.115 ******** 
changed: [bastion.6jhr6.internal] => (item=0)

TASK [ocp4_workload_authentication : Read contents of htpasswd file] ***********
Tuesday 05 August 2025  01:52:11 +0000 (0:00:00.491)       0:47:38.607 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Remove generated htpasswd file] ***********
Tuesday 05 August 2025  01:52:11 +0000 (0:00:00.420)       0:47:39.027 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Ensure htpasswd Secret is absent] *********
Tuesday 05 August 2025  01:52:12 +0000 (0:00:00.425)       0:47:39.453 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Create htpasswd Secret] *******************
Tuesday 05 August 2025  01:52:13 +0000 (0:00:01.165)       0:47:40.618 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Update OAuth configuration] ***************
Tuesday 05 August 2025  01:52:14 +0000 (0:00:00.950)       0:47:41.568 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Print common user information messages] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.913)       0:47:42.482 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "user.info: Authentication via htpasswd is enabled on this cluster.\\n\\nUser `opentlc-mgr` with password `r3dh4t1!` is cluster admin."
}

TASK [ocp4_workload_authentication : Print user information for common password] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.028)       0:47:42.510 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "user.info: Normal user `user1` created with password `openshift`"
}

TASK [ocp4_workload_authentication : Print user information for randomized password] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.032)       0:47:42.542 ******** 
skipping: [bastion.6jhr6.internal] => (item=0) 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Save common user and cluster admin information] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.027)       0:47:42.570 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "data": {
        "openshift_api_server_url": "https://api.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com:6443",
        "openshift_cluster_admin_password": "[REDACTED_Secret Keyword_SECRET]",
        "openshift_cluster_admin_username": "opentlc-mgr",
        "openshift_cluster_console_url": "https://console-openshift-console.apps.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com",
        "openshift_cluster_num_users": 1,
        "openshift_cluster_user_base": "user",
        "openshift_cluster_user_count": 1
    }
}

TASK [ocp4_workload_authentication : Save user name for single user configuration] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.033)       0:47:42.603 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "data": {
        "openshift_cluster_user_name": "user1"
    }
}

TASK [ocp4_workload_authentication : Save common user password if not randomized] ***
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.037)       0:47:42.640 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "data": {
        "[REDACTED_Secret Keyword_SECRET]_cluster_user_password": "[REDACTED_Secret Keyword_SECRET]"
    }
}

TASK [ocp4_workload_authentication : Save user information for user access] ****
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.044)       0:47:42.685 ******** 
skipping: [bastion.6jhr6.internal] => (item=0) 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Setup LDAP authentication] ****************
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.026)       0:47:42.712 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Set up cluster admin users] ***************
Tuesday 05 August 2025  01:52:15 +0000 (0:00:00.021)       0:47:42.733 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : Remove kubeadmin user] ********************
Tuesday 05 August 2025  01:52:16 +0000 (0:00:00.949)       0:47:43.682 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_authentication : workload tasks complete] ******************
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.914)       0:47:44.597 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Workload Tasks completed successfully."
}

TASK [ocp4_workload_authentication : Running Post Workload Tasks] **************
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.021)       0:47:44.618 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication/tasks/./post_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_authentication : post_workload tasks complete] *************
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.028)       0:47:44.647 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Post-Workload Tasks completed successfully."
}

TASK [ocp4_workload_authentication : Running Workload removal Tasks] ***********
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.025)       0:47:44.673 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_project_request_template : Running Pre Workload Tasks] *****
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.027)       0:47:44.700 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_project_request_template/tasks/./pre_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_project_request_template : pre_workload tasks complete] ****
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.026)       0:47:44.727 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_project_request_template : Running Workload Tasks] *********
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.021)       0:47:44.749 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_project_request_template/tasks/./workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_project_request_template : Setting up workload for user] ***
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.024)       0:47:44.774 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Setting up workload for user ocp_username = system:admin"
}

TASK [ocp4_workload_project_request_template : Create and enable Project Request Template] ***
Tuesday 05 August 2025  01:52:17 +0000 (0:00:00.019)       0:47:44.793 ******** 
changed: [bastion.6jhr6.internal] => (item=./templates/project_request_template.j2)
changed: [bastion.6jhr6.internal] => (item=./templates/project_request_config.j2)

TASK [ocp4_workload_project_request_template : Add label to openshift-ingress project] ***
Tuesday 05 August 2025  01:52:19 +0000 (0:00:01.870)       0:47:46.663 ******** 
changed: [bastion.6jhr6.internal] => (item=./files/openshift-ingress-namespace.yaml)

TASK [ocp4_workload_project_request_template : workload tasks complete] ********
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.923)       0:47:47.587 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Workload Tasks completed successfully."
}

TASK [ocp4_workload_project_request_template : Running Post Workload Tasks] ****
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.021)       0:47:47.608 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_project_request_template/tasks/./post_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_project_request_template : post_workload tasks complete] ***
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.024)       0:47:47.633 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Post-Workload Tasks completed successfully."
}

TASK [ocp4_workload_project_request_template : Running Workload removal Tasks] ***
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.025)       0:47:47.659 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : Running Pre Workload Tasks] ***********
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.082)       0:47:47.741 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_opentlc_production/tasks/./pre_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_opentlc_production : pre_workload tasks complete] **********
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.023)       0:47:47.764 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_opentlc_production : Running Workload Tasks] ***************
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.020)       0:47:47.785 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_opentlc_production/tasks/./workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_opentlc_production : Setting up workload for user] *********
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.026)       0:47:47.812 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Setting up workload for user ocp_username = system:admin"
}

TASK [ocp4_workload_opentlc_production : Expose Image Registry Route] **********
Tuesday 05 August 2025  01:52:20 +0000 (0:00:00.019)       0:47:47.831 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : Set up Build Defaults] ****************
Tuesday 05 August 2025  01:52:21 +0000 (0:00:00.936)       0:47:48.768 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : Set up Image Pruning] *****************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.940)       0:47:49.709 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : Set clusterRoleBinding auto-update to false] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.017)       0:47:49.727 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : Remove system:authenticated from self-provisioner role] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.016)       0:47:49.744 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : create our own OPENTLC-PROJECT-PROVISIONERS group] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.018)       0:47:49.762 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : allow OPENTLC-PROJECT-PROVISIONERS group members to provision their own projects] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.018)       0:47:49.780 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_opentlc_production : workload tasks complete] **************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.017)       0:47:49.797 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Workload Tasks completed successfully."
}

TASK [ocp4_workload_opentlc_production : Running Post Workload Tasks] **********
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.020)       0:47:49.818 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_opentlc_production/tasks/./post_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_opentlc_production : post_workload tasks complete] *********
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.026)       0:47:49.845 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Post-Workload Tasks completed successfully."
}

TASK [ocp4_workload_opentlc_production : Running Workload removal Tasks] *******
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.020)       0:47:49.866 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_cert_manager : Running Pre Workload Tasks] *****************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.019)       0:47:49.885 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_cert_manager/tasks/./pre_workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_cert_manager : Pre_workload tasks complete] ****************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.026)       0:47:49.912 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_cert_manager : Running Workload Tasks] *********************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.026)       0:47:49.938 ******** 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_cert_manager/tasks/./workload.yml for bastion.6jhr6.internal

TASK [ocp4_workload_cert_manager : Setting up workload for user] ***************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.042)       0:47:49.981 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Setting up workload for user ocp_username = system:admin"
}

TASK [Install Red Hat Cert Manager operator] ***********************************
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.022)       0:47:50.004 ******** 

TASK [install_operator : openshift-cert-manager-operator - Install the operator] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.036)       0:47:50.041 ******** 
included: /runner/project/ansible/roles/install_operator/tasks/install.yml for bastion.6jhr6.internal

TASK [install_operator : Check that operator name has been provided] ***********
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.040)       0:47:50.081 ******** 
ok: [bastion.6jhr6.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [install_operator : Ensure Namespace exists (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:22 +0000 (0:00:00.024)       0:47:50.106 ******** 
changed: [bastion.6jhr6.internal]

TASK [install_operator : Ensure OperatorGroup exists (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:23 +0000 (0:00:00.918)       0:47:51.025 ******** 
changed: [bastion.6jhr6.internal]

TASK [install_operator : Create CatalogSource for use with catalog snapshot (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.950)       0:47:51.975 ******** 
skipping: [bastion.6jhr6.internal]

TASK [install_operator : Set subscription channel to provided channel (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.021)       0:47:51.996 ******** 
ok: [bastion.6jhr6.internal]

TASK [install_operator : Get cluster version] **********************************
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.025)       0:47:52.021 ******** 
skipping: [bastion.6jhr6.internal]

TASK [install_operator : Get PackageManifest for the operator (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.021)       0:47:52.043 ******** 
skipping: [bastion.6jhr6.internal]

TASK [install_operator : Set operator channel (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.020)       0:47:52.064 ******** 
skipping: [bastion.6jhr6.internal]

TASK [install_operator : Print operator channel to be installed (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.021)       0:47:52.085 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Operator channel to be installed: stable-v1"
}

TASK [install_operator : Create operator subscription (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:24 +0000 (0:00:00.021)       0:47:52.107 ******** 
changed: [bastion.6jhr6.internal]

TASK [install_operator : Wait until InstallPlan is created (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:25 +0000 (0:00:00.947)       0:47:53.055 ******** 
FAILED - RETRYING: [bastion.6jhr6.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (100 retries left).
FAILED - RETRYING: [bastion.6jhr6.internal]: Wait until InstallPlan is created (openshift-cert-manager-operator) (99 retries left).
ok: [bastion.6jhr6.internal]

TASK [install_operator : Set InstallPlan name (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:48 +0000 (0:00:22.691)       0:48:15.746 ******** 
ok: [bastion.6jhr6.internal]

TASK [install_operator : Print InstallPlan (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:48 +0000 (0:00:00.031)       0:48:15.777 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "InstallPlan: install-dcrqm"
}

TASK [install_operator : Get InstallPlan (openshift-cert-manager-operator)] ****
Tuesday 05 August 2025  01:52:48 +0000 (0:00:00.022)       0:48:15.800 ******** 
ok: [bastion.6jhr6.internal]

TASK [install_operator : Approve InstallPlan if necessary (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:49 +0000 (0:00:00.926)       0:48:16.727 ******** 
skipping: [bastion.6jhr6.internal]

TASK [install_operator : Get Installed CSV (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:49 +0000 (0:00:00.022)       0:48:16.749 ******** 
ok: [bastion.6jhr6.internal]

TASK [install_operator : Print CSV version to be installed (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:50 +0000 (0:00:00.927)       0:48:17.676 ******** 
ok: [bastion.6jhr6.internal] => {
    "msg": "Starting CSV: "
}

TASK [install_operator : Wait until CSV is installed (openshift-cert-manager-operator)] ***
Tuesday 05 August 2025  01:52:50 +0000 (0:00:00.031)       0:48:17.707 ******** 
FAILED - RETRYING: [bastion.6jhr6.internal]: Wait until CSV is installed (openshift-cert-manager-operator) (10 retries left).
ok: [bastion.6jhr6.internal]

TASK [install_operator : openshift-cert-manager-operator - Remove the operator] ***
Tuesday 05 August 2025  01:53:22 +0000 (0:00:31.892)       0:48:49.600 ******** 
skipping: [bastion.6jhr6.internal]

TASK [ocp4_workload_cert_manager : Update CertManager for EC2/GCP/Azure to use external DNS] ***
Tuesday 05 August 2025  01:53:22 +0000 (0:00:00.024)       0:48:49.625 ******** 
changed: [bastion.6jhr6.internal]

TASK [ocp4_workload_cert_manager : Determine API server URL] *******************
Tuesday 05 August 2025  01:53:23 +0000 (0:00:00.952)       0:48:50.577 ******** 
ok: [bastion.6jhr6.internal]

TASK [ocp4_workload_cert_manager : Determine cluster wildcard domain] **********
Tuesday 05 August 2025  01:53:24 +0000 (0:00:00.894)       0:48:51.472 ******** 
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com', port=6443): Max retries exceeded with url: /apis/operator.openshift.io/v1 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f1853df4670>: Failed to establish a new connection: [Errno 111] Connection refused'))
fatal: [bastion.6jhr6.internal]: FAILED! => {"changed": false, "module_stderr": "Shared connection to ec2-3-150-5-231.us-east-2.compute.amazonaws.com closed.\\r\\n", "module_stdout": "Traceback (most recent call last):\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connection.py\\", line 174, in _new_conn\\r\\n    conn = connection.create_connection(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/util/connection.py\\", line 95, in create_connection\\r\\n    raise err\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/util/connection.py\\", line 85, in create_connection\\r\\n    sock.connect(sa)\\r\\nConnectionRefusedError: [Errno 111] Connection refused\\r\\n\\r\\nDuring handling of the above exception, another exception occurred:\\r\\n\\r\\nTraceback (most recent call last):\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 715, in urlopen\\r\\n    httplib_response = self._make_request(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 404, in _make_request\\r\\n    self._validate_conn(conn)\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 1058, in _validate_conn\\r\\n    conn.connect()\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connection.py\\", line 363, in connect\\r\\n    self.sock = conn = self._new_conn()\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connection.py\\", line 186, in _new_conn\\r\\n    raise NewConnectionError(\\r\\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7f1853df4670>: Failed to establish a new connection: [Errno 111] Connection refused\\r\\n\\r\\nDuring handling of the above exception, another exception occurred:\\r\\n\\r\\nTraceback (most recent call last):\\r\\n  File \\"/home/ec2-user/.ansible/tmp/ansible-tmp-1754358804.3707209-3682-223259285961945/AnsiballZ_k8s_info.py\\", line 107, in <module>\\r\\n    _ansiballz_main()\\r\\n  File \\"/home/ec2-user/.ansible/tmp/ansible-tmp-1754358804.3707209-3682-223259285961945/AnsiballZ_k8s_info.py\\", line 99, in _ansiballz_main\\r\\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\\r\\n  File \\"/home/ec2-user/.ansible/tmp/ansible-tmp-1754358804.3707209-3682-223259285961945/AnsiballZ_k8s_info.py\\", line 47, in invoke_module\\r\\n    runpy.run_module(mod_name='ansible_collections.kubernetes.core.plugins.modules.k8s_info', init_globals=dict(_module_fqn='ansible_collections.kubernetes.core.plugins.modules.k8s_info', _modlib_path=modlib_path),\\r\\n  File \\"/usr/lib64/python3.9/runpy.py\\", line 225, in run_module\\r\\n    return _run_module_code(code, init_globals, run_name, mod_spec)\\r\\n  File \\"/usr/lib64/python3.9/runpy.py\\", line 97, in _run_module_code\\r\\n    _run_code(code, mod_globals, init_globals,\\r\\n  File \\"/usr/lib64/python3.9/runpy.py\\", line 87, in _run_code\\r\\n    exec(code, run_globals)\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py\\", line 229, in <module>\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py\\", line 223, in main\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py\\", line 183, in execute_module\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/service.py\\", line 248, in find\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/service.py\\", line 85, in find_resource\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\\", line 305, in resource\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\\", line 285, in _find_resource_with_prefix\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\\", line 158, in get\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/discovery.py\\", line 246, in search\\r\\n    results = self.__search(self.__build_search(**kwargs), self.__resources, [])\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/discovery.py\\", line 294, in __search\\r\\n    matches.extend(self.__search([key] + parts[1:], resources, reqParams))\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/discovery.py\\", line 280, in __search\\r\\n    return self.__search(parts[1:], resourcePart, reqParams + [part] )\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/discovery.py\\", line 280, in __search\\r\\n    return self.__search(parts[1:], resourcePart, reqParams + [part] )\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/discovery.py\\", line 269, in __search\\r\\n    resourcePart.resources = self.get_resources_for_api_version(\\r\\n  File \\"/tmp/ansible_kubernetes.core.k8s_info_payload_4gwaeieu/ansible_kubernetes.core.k8s_info_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\\", line 105, in get_resources_for_api_version\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/client.py\\", line 55, in inner\\r\\n    resp = func(self, *args, **kwargs)\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/dynamic/client.py\\", line 273, in request\\r\\n    api_response = self.client.call_api(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/client/api_client.py\\", line 348, in call_api\\r\\n    return self.__call_api(resource_path, method,\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/client/api_client.py\\", line 180, in __call_api\\r\\n    response_data = self.request(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/client/api_client.py\\", line 373, in request\\r\\n    return self.rest_client.GET(url,\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/client/rest.py\\", line 244, in GET\\r\\n    return self.request(\\"GET\\", url,\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/kubernetes/client/rest.py\\", line 217, in request\\r\\n    r = self.pool_manager.request(method, url,\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/request.py\\", line 77, in request\\r\\n    return self.request_encode_url(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/request.py\\", line 99, in request_encode_url\\r\\n    return self.urlopen(method, url, **extra_kw)\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/poolmanager.py\\", line 376, in urlopen\\r\\n    response = conn.urlopen(method, u.request_uri, **kw)\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 827, in urlopen\\r\\n    return self.urlopen(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 827, in urlopen\\r\\n    return self.urlopen(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 827, in urlopen\\r\\n    return self.urlopen(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/connectionpool.py\\", line 799, in urlopen\\r\\n    retries = retries.increment(\\r\\n  File \\"/opt/virtualenvs/k8s/lib64/python3.9/site-packages/urllib3/util/retry.py\\", line 592, in increment\\r\\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\\r\\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.cluster-6jhr6.6jhr6.sandbox1861.opentlc.com', port=6443): Max retries exceeded with url: /apis/operator.openshift.io/v1 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f1853df4670>: Failed to establish a new connection: [Errno 111] Connection refused'))\\r\\n", "msg": "MODULE FAILURE\\nSee stdout/stderr for the exact error", "rc": 1}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.6jhr6.internal     : ok=203  changed=104  unreachable=0    failed=1    skipped=97   rescued=0    ignored=0   
localhost                  : ok=120  changed=27   unreachable=0    failed=0    skipped=85   rescued=0    ignored=1   
Tuesday 05 August 2025  01:53:25 +0000 (0:00:00.889)       0:48:52.361 ******** 
=============================================================================== 
host-ocp4-installer : Run the installer ------------------------------ 1946.75s
common : Update all packages ------------------------------------------ 368.12s
infra-ec2-template-create : Launch CloudFormation template (local) ---- 177.87s
common : install common packages for RHEL 9 ---------------------------- 71.77s
host_virtualenv : Install requirements in virtualenv ------------------- 53.13s
infra-aws-open-environment : Launch CloudFormation template to create Open Environment -- 46.31s
install_operator : Wait until CSV is installed (openshift-cert-manager-operator) -- 31.89s
common : Reboot all VMs ------------------------------------------------ 31.74s
install_operator : Wait until InstallPlan is created (openshift-cert-manager-operator) -- 22.69s
host-ocp4-installer : Get the OpenShift Installer ---------------------- 15.74s
host-ocp4-provisioner : Install awscli ---------------------------------- 9.40s
host_virtualenv : Install virtualenv package prerequisites -------------- 9.20s
host-ocp4-provisioner : Unzip awscliv2.zip ------------------------------ 6.53s
set-repositories : sat | Register with activation-key with HA ----------- 6.22s
host_virtualenv : Set up virtualenv with updated pip -------------------- 4.96s
Install collections from requirements.yml (EE) -------------------------- 4.72s
host-ocp4-installer : Get the OpenShift CLI ----------------------------- 4.39s
host-ocp4-provisioner : Install slirp4netns ----------------------------- 3.82s
set-repositories : sat | Enable repos ----------------------------------- 3.39s
set-repositories : sat | Install Satellite CA certificate package ------- 3.39s
