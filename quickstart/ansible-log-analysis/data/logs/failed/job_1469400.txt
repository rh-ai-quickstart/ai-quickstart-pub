Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.012)       0:00:00.012 ******* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.032)       0:00:00.045 ******* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.018)       0:00:00.063 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.026)       0:00:00.090 ******* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.022)       0:00:00.113 ******* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.291)       0:00:00.404 ******* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.054)       0:00:00.459 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.050)       0:00:00.509 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  13:12:30 +0000 (0:00:00.069)       0:00:00.579 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Thursday 07 August 2025  13:12:32 +0000 (0:00:01.127)       0:00:01.707 ******* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Thursday 07 August 2025  13:12:32 +0000 (0:00:00.022)       0:00:01.730 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Thursday 07 August 2025  13:12:32 +0000 (0:00:00.587)       0:00:02.317 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Thursday 07 August 2025  13:12:32 +0000 (0:00:00.175)       0:00:02.492 ******* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Thursday 07 August 2025  13:12:33 +0000 (0:00:00.185)       0:00:02.678 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Thursday 07 August 2025  13:12:33 +0000 (0:00:00.325)       0:00:03.003 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.713)       0:00:03.717 ******* 
ok: [localhost] => (item=user-info.yaml)
ok: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.367)       0:00:04.085 ******* 
ok: [localhost]

TASK [Include variables files] *************************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.023)       0:00:04.108 ******* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.094)       0:00:04.202 ******* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.018)       0:00:04.221 ******* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.031)       0:00:04.252 ******* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.030)       0:00:04.283 ******* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.030)       0:00:04.314 ******* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.033)       0:00:04.347 ******* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.181)       0:00:04.529 ******* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Thursday 07 August 2025  13:12:34 +0000 (0:00:00.029)       0:00:04.558 ******* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Thursday 07 August 2025  13:12:35 +0000 (0:00:00.927)       0:00:05.485 ******* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Thursday 07 August 2025  13:12:35 +0000 (0:00:00.074)       0:00:05.560 ******* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Thursday 07 August 2025  13:12:36 +0000 (0:00:00.080)       0:00:05.641 ******* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Thursday 07 August 2025  13:12:36 +0000 (0:00:00.485)       0:00:06.127 ******* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Thursday 07 August 2025  13:12:36 +0000 (0:00:00.249)       0:00:06.376 ******* 
[WARNING]: skipping installation of community.general==9.2.0 ;
community.general==7.2.1 already installed in EE
[WARNING]: skipping installation of community.crypto==2.21.1 ;
community.crypto==2.14.1 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of kubernetes.core==5.0.0 ;
kubernetes.core==2.4.0 already installed in EE
[WARNING]: skipping installation of amazon.aws==8.1.0 ; amazon.aws==6.2.0
already installed in EE
[WARNING]: skipping installation of community.vmware==4.5.0 ;
community.vmware==3.8.0 already installed in EE
[WARNING]: skipping installation of google.cloud==1.3.0 ; google.cloud==1.2.0
already installed in EE
[WARNING]: skipping installation of openstack.cloud==2.2.0 ;
openstack.cloud==2.1.0 already installed in EE
[WARNING]: skipping installation of community.okd==4.0.0 ; community.okd==2.3.0
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Thursday 07 August 2025  13:12:37 +0000 (0:00:00.335)       0:00:06.712 ******* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Thursday 07 August 2025  13:12:45 +0000 (0:00:08.186)       0:00:14.898 ******* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.157)       0:00:15.056 ******* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.020)       0:00:15.077 ******* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.366)       0:00:15.444 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.038)       0:00:15.482 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.035)       0:00:15.518 ******* 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.024)       0:00:15.543 ******* 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Thursday 07 August 2025  13:12:45 +0000 (0:00:00.024)       0:00:15.567 ******* 
skipping: [localhost] => (item=us-east-2) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.042)       0:00:15.610 ******* 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.049)       0:00:15.659 ******* 
ok: [localhost]

PLAY [Destroy environment on AWS] **********************************************

TASK [Get fact for cloudformation stack] ***************************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.057)       0:00:15.716 ******* 
ok: [localhost]

TASK [Grab and set stack creation time] ****************************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.558)       0:00:16.274 ******* 
ok: [localhost]

TASK [Run infra-ec2-create-inventory role] *************************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.047)       0:00:16.322 ******* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.019)       0:00:16.342 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Thursday 07 August 2025  13:12:46 +0000 (0:00:00.031)       0:00:16.374 ******* 
[WARNING]: Both option access_key and its alias aws_access_key are set.
[WARNING]: Both option secret_key and its alias aws_secret_key are set.
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.742)       0:00:17.117 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.035)       0:00:17.153 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.037)       0:00:17.190 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.038)       0:00:17.229 ******* 
ok: [localhost] => (item=bastion.ql7s2.internal)

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.046)       0:00:17.275 ******* 
changed: [localhost] => (item=bastion.ql7s2.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.168)       0:00:17.443 ******* 
changed: [localhost] => (item=bastion.ql7s2.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.066)       0:00:17.509 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.033)       0:00:17.542 ******* 
skipping: [localhost]

TASK [Create local ssh provision facts (key already exists)] *******************
Thursday 07 August 2025  13:12:47 +0000 (0:00:00.035)       0:00:17.578 ******* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.032)       0:00:17.610 ******* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.014)       0:00:17.625 ******* 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.059)       0:00:17.685 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.189)       0:00:17.874 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.187)       0:00:18.061 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.186)       0:00:18.247 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.036)       0:00:18.284 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Thursday 07 August 2025  13:12:48 +0000 (0:00:00.308)       0:00:18.592 ******* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.025)       0:00:18.618 ******* 
skipping: [localhost]

TASK [SSH config setup] ********************************************************
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.017)       0:00:18.635 ******* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.070)       0:00:18.706 ******* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.043)       0:00:18.750 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.186)       0:00:18.936 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.191)       0:00:19.128 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Thursday 07 August 2025  13:12:49 +0000 (0:00:00.193)       0:00:19.321 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Thursday 07 August 2025  13:12:50 +0000 (0:00:00.324)       0:00:19.646 ******* 
skipping: [localhost] => (item=bastion.ql7s2.internal) 
skipping: [localhost]

PLAY [Set ssh extra args for all hosts, use ssh_config just created] ***********

TASK [add -F option ansible_ssh_extra_args] ************************************
Thursday 07 August 2025  13:12:50 +0000 (0:00:00.032)       0:00:19.679 ******* 
ok: [bastion.ql7s2.internal]

PLAY [Start all EC2 instances if they are stopped] *****************************

TASK [ansible.builtin.include_tasks] *******************************************
Thursday 07 August 2025  13:12:50 +0000 (0:00:00.047)       0:00:19.727 ******* 
included: /runner/project/ansible/configs/ocp4-cluster/ec2_instances_start.yaml for localhost

TASK [Get all EC2 instances] ***************************************************
Thursday 07 August 2025  13:12:50 +0000 (0:00:00.014)       0:00:19.741 ******* 
ok: [localhost]

TASK [Ensure EC2 instances are running] ****************************************
Thursday 07 August 2025  13:12:50 +0000 (0:00:00.665)       0:00:20.407 ******* 
changed: [localhost] => (item={'ami_launch_index': 0, 'image_id': 'ami-0e1686a22fb17852d', 'instance_id': 'i-034d68b3cd92bc516', 'instance_type': 't3.medium', 'key_name': 'ssh_provision_ql7s2', 'launch_time': '2025-08-06T16:52:13+00:00', 'monitoring': {'state': 'disabled'}, 'placement': {'availability_zone': 'us-east-2b', 'group_name': '', 'tenancy': 'default'}, 'private_dns_name': 'ip-192-168-0-103.us-east-2.compute.internal', 'private_ip_address': '192.168.0.103', 'product_codes': [], 'public_dns_name': 'ec2-3-142-228-238.us-east-2.compute.amazonaws.com', 'public_ip_address': '3.142.228.238', 'state': {'code': 80, 'name': 'stopped'}, 'state_transition_reason': 'User initiated (2025-08-06 23:03:09 GMT)', 'subnet_id': 'subnet-0d4cce0551f2ef536', 'vpc_id': 'vpc-0544158cf42a54cf7', 'architecture': 'x86_64', 'block_device_mappings': [{'device_name': '/dev/sda1', 'ebs': {'attach_time': '2025-08-05T13:12:13+00:00', 'delete_on_termination': True, 'status': 'attached', 'volume_id': 'vol-042cc6b41cff372dd'}}],  'ebs_optimized': False, 'ena_support': True, 'hypervisor': 'xen', 'network_interfaces': [{'association': {'ip_owner_id': '449536147468', 'public_dns_name': 'ec2-3-142-228-238.us-east-2.compute.amazonaws.com', 'public_ip': '3.142.228.238'}, 'attachment': {'attach_time': '2025-08-05T13:12:12+00:00', 'attachment_id': 'eni-attach-0a6fbb5f1ffde2948', 'delete_on_termination': True, 'device_index': 0, 'status': 'attached', 'network_card_index': 0}, 'description': '', 'groups': [{'group_name': 'BastionSG', 'group_id': 'sg-0c7e9fcf5fe76202d'}], 'ipv6_addresses': [], 'mac_address': '06:54:8d:68:34:cd', 'network_interface_id': 'eni-0994779b1612990da', 'owner_id': '449536147468', 'private_dns_name': 'ip-192-168-0-103.us-east-2.compute.internal', 'private_ip_address': '192.168.0.103', 'private_ip_addresses': [{'association': {'ip_owner_id': '449536147468', 'public_dns_name': 'ec2-3-142-228-238.us-east-2.compute.amazonaws.com', 'public_ip': '3.142.228.238'}, 'primary': True, 'private_dns_name': 'ip-192-168-0-103.us-east-2.compute.internal', 'private_ip_address': '192.168.0.103'}], 'source_dest_check': True, 'status': 'in-use', 'subnet_id': 'subnet-0d4cce0551f2ef536', 'vpc_id': 'vpc-0544158cf42a54cf7', 'interface_type': 'interface'}], 'root_device_name': '/dev/sda1', 'root_device_type': 'ebs', 'security_groups': [{'group_name': 'BastionSG', 'group_id': 'sg-0c7e9fcf5fe76202d'}], 'source_dest_check': True, 'state_reason': {'code': 'Client.UserInitiatedShutdown', 'message': 'Client.UserInitiatedShutdown: User initiated shutdown'}, 'tags': {'Project': 'ocp4-cluster-ql7s2', 'ocp4-cluster-ql7s2': 'bastion', 'ostype': 'linux', 'aws:cloudformation:logical-id': 'bastion1', 'aws:cloudformation:stack-name': 'ocp4-cluster-ql7s2', 'internaldns': 'bastion.ql7s2.internal', 'project': 'ocp4-cluster-ql7s2', 'owner': 'unknownuser', 'env_type': 'ocp4-cluster', 'Stack': 'ocp4-cluster-ql7s2', 'Name': 'bastion', 'AnsibleGroup': 'bastions,clientvms', 'guid': 'ql7s2', 'uuid': '17d409ca-6361-55fa-85e0-5bfa0e078463', 'Purpose': 'production', 'user': 'lab-user', 'aws:cloudformation:stack-id': 'arn:aws:cloudformation:us-east-2:449536147468:stack/ocp4-cluster-ql7s2/bdb70c40-71fd-11f0-ad7b-0ad73029948b', 'platform': 'rhpds'}, 'virtualization_type': 'hvm', 'cpu_options': {'core_count': 1, 'threads_per_core': 2}, 'capacity_reservation_specification': {'capacity_reservation_preference': 'open'}, 'hibernation_options': {'configured': False}, 'metadata_options': {'state': 'applied', 'http_tokens': 'optional', 'http_put_response_hop_limit': 1, 'http_endpoint': 'enabled', 'http_protocol_ipv6': 'disabled', 'instance_metadata_tags': 'disabled'}, 'enclave_options': {'enabled': False}, 'boot_mode': 'uefi-preferred', 'platform_details': 'Red Hat BYOL Linux', 'usage_operation': 'RunInstances:00g0', 'usage_operation_update_time': '2025-08-05T13:12:12+00:00', 'private_dns_name_options': {'hostname_type': 'ip-name', 'enable_resource_name_dns_a_record': False, 'enable_resource_name_dns_aaaa_record': False}, 'maintenance_options': {'auto_recovery': 'default'}, 'current_instance_boot_mode': 'uefi'})
changed: [localhost] => (item={'ami_launch_index': 0, 'image_id': 'ami-078e26f293629fe91', 'instance_id': 'i-0367092db7ccd890a', 'instance_type': 'm5a.4xlarge', 'launch_time': '2025-08-06T16:52:13+00:00', 'monitoring': {'state': 'disabled'}, 'placement': {'availability_zone': 'us-east-2b', 'group_name': '', 'tenancy': 'default'}, 'private_dns_name': 'ip-10-0-12-245.us-east-2.compute.internal', 'private_ip_address': '10.0.12.245', 'product_codes': [], 'public_dns_name': '', 'state': {'code': 80, 'name': 'stopped'}, 'state_transition_reason': 'User initiated (2025-08-06 23:03:10 GMT)', 'subnet_id': 'subnet-0c67653bc1d179ba2', 'vpc_id': 'vpc-07c8c8fe9f117dc32', 'architecture': 'x86_64', 'block_device_mappings': [{'device_name': '/dev/xvda', 'ebs': {'attach_time': '2025-08-05T13:28:30+00:00', 'delete_on_termination': True, 'status': 'attached', 'volume_id': 'vol-0ba6dd43e32eb7a74'}}],  'ebs_optimized': False, 'ena_support': True, 'hypervisor': 'xen', 'iam_instance_profile': {'arn': 'arn:aws:iam::449536147468:instance-profile/cluster-ql7s2-bfz9z-master-profile', 'id': 'AIPAWRKTRIAGLDPIJ2MXR'}, 'network_interfaces': [{'attachment': {'attach_time': '2025-08-05T13:28:29+00:00', 'attachment_id': 'eni-attach-0e74a3a3605f42c8c', 'delete_on_termination': True, 'device_index': 0, 'status': 'attached', 'network_card_index': 0}, 'description': '', 'groups': [{'group_name': 'cluster-ql7s2-bfz9z-node', 'group_id': 'sg-00989fd1c087063b1'}, {'group_name': 'cluster-ql7s2-bfz9z-controlplane', 'group_id': 'sg-0affb0eb7ab373ec1'}, {'group_name': 'cluster-ql7s2-bfz9z-lb', 'group_id': 'sg-07e8d82aaebbf7824'}], 'ipv6_addresses': [], 'mac_address': '06:93:02:d0:0b:e9', 'network_interface_id': 'eni-0576dbbe5c0240304', 'owner_id': '449536147468', 'private_dns_name': 'ip-10-0-12-245.us-east-2.compute.internal', 'private_ip_address': '10.0.12.245', 'private_ip_addresses': [{'primary': True, 'private_dns_name': 'ip-10-0-12-245.us-east-2.compute.internal', 'private_ip_address': '10.0.12.245'}], 'source_dest_check': True, 'status': 'in-use', 'subnet_id': 'subnet-0c67653bc1d179ba2', 'vpc_id': 'vpc-07c8c8fe9f117dc32', 'interface_type': 'interface'}], 'root_device_name': '/dev/xvda', 'root_device_type': 'ebs', 'security_groups': [{'group_name': 'cluster-ql7s2-bfz9z-node', 'group_id': 'sg-00989fd1c087063b1'}, {'group_name': 'cluster-ql7s2-bfz9z-controlplane', 'group_id': 'sg-0affb0eb7ab373ec1'}, {'group_name': 'cluster-ql7s2-bfz9z-lb', 'group_id': 'sg-07e8d82aaebbf7824'}], 'source_dest_check': True, 'state_reason': {'code': 'Client.UserInitiatedShutdown', 'message': 'Client.UserInitiatedShutdown: User initiated shutdown'}, 'tags': {'sigs.k8s.io/cluster-api-provider-aws/role': 'control-plane', 'Stack': 'ocp4-cluster-ql7s2', 'env_type': 'ocp4-cluster', 'owner': 'unknown', 'platform': 'rhpds', 'MachineName': 'openshift-cluster-api-guests/cluster-ql7s2-bfz9z-master-0', 'Name': 'cluster-ql7s2-bfz9z-master-0', 'sigs.k8s.io/cluster-api-provider-aws/cluster/cluster-ql7s2-bfz9z': 'owned', 'guid': 'ql7s2', 'kubernetes.io/cluster/cluster-ql7s2-bfz9z': 'owned', 'uuid': '17d409ca-6361-55fa-85e0-5bfa0e078463'}, 'virtualization_type': 'hvm', 'cpu_options': {'core_count': 8, 'threads_per_core': 2}, 'capacity_reservation_specification': {'capacity_reservation_preference': 'open'}, 'hibernation_options': {'configured': False}, 'metadata_options': {'state': 'applied', 'http_tokens': 'optional', 'http_put_response_hop_limit': 1, 'http_endpoint': 'enabled', 'http_protocol_ipv6': 'disabled', 'instance_metadata_tags': 'disabled'}, 'enclave_options': {'enabled': False}, 'platform_details': 'Linux/UNIX', 'usage_operation': 'RunInstances', 'usage_operation_update_time': '2025-08-05T13:28:29+00:00', 'private_dns_name_options': {'hostname_type': 'ip-name', 'enable_resource_name_dns_a_record': False, 'enable_resource_name_dns_aaaa_record': False}, 'maintenance_options': {'auto_recovery': 'default'}, 'current_instance_boot_mode': 'legacy-bios'})

TASK [Wait until all EC2 instances are running] ********************************
Thursday 07 August 2025  13:12:53 +0000 (0:00:03.003)       0:00:23.410 ******* 
FAILED - RETRYING: [localhost]: Wait until all EC2 instances are running (60 retries left).
ok: [localhost]

PLAY [Remove workloads] ********************************************************

TASK [Invoke roles to remove ocp workloads] ************************************
Thursday 07 August 2025  13:13:04 +0000 (0:00:11.176)       0:00:34.586 ******* 
skipping: [localhost]

PLAY [Remove workloads] ********************************************************

TASK [Check if k8s interpreter venv is installed] ******************************
Thursday 07 August 2025  13:13:05 +0000 (0:00:00.024)       0:00:34.610 ******* 
fatal: [bastion.ql7s2.internal]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Warning: Permanently added 'ec2-3-142-228-238.us-east-2.compute.amazonaws.com,3.142.228.238' (ECDSA) to the list of known hosts.\\r\\nno such identity: ssh_provision_ql7s2: No such file or directory\\r\\n\\"System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8).\\"\\nConnection closed by 3.142.228.238 port 22", "unreachable": true}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.ql7s2.internal     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
localhost                  : ok=50   changed=20   unreachable=0    failed=0    skipped=22   rescued=0    ignored=1   
Thursday 07 August 2025  13:13:12 +0000 (0:00:07.281)       0:00:41.892 ******* 
=============================================================================== 
Wait until all EC2 instances are running ------------------------------- 11.18s
Install collections from requirements.yml (EE) -------------------------- 8.19s
Check if k8s interpreter venv is installed ------------------------------ 7.28s
Ensure EC2 instances are running ---------------------------------------- 3.00s
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 1.13s
Install roles from requirements.yml ------------------------------------- 0.93s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 0.74s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.71s
Get all EC2 instances --------------------------------------------------- 0.67s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 0.59s
Get fact for cloudformation stack --------------------------------------- 0.56s
Get the list of installed collections (EE) ------------------------------ 0.49s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.37s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.37s
Rewrite requirements, filter out installed collections (EE) ------------- 0.34s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.33s
infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file --- 0.32s
create_ssh_provision_key : Write SSH pub key ---------------------------- 0.31s
Create output_dir if it does not exists --------------------------------- 0.29s
Create temporary file for requirements.yml (EE) ------------------------- 0.25s
