Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to provision] *************************************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.013)       0:00:00.013 ******* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.030)       0:00:00.044 ******* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.016)       0:00:00.060 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.028)       0:00:00.089 ******* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.014)       0:00:00.103 ******* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.333)       0:00:00.437 ******* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.027)       0:00:00.464 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.049)       0:00:00.514 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  10:00:09 +0000 (0:00:00.025)       0:00:00.539 ******* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Thursday 07 August 2025  10:00:10 +0000 (0:00:00.888)       0:00:01.427 ******* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Thursday 07 August 2025  10:00:10 +0000 (0:00:00.016)       0:00:01.444 ******* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Thursday 07 August 2025  10:00:10 +0000 (0:00:00.014)       0:00:01.458 ******* 
ok: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Thursday 07 August 2025  10:00:10 +0000 (0:00:00.155)       0:00:01.614 ******* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Thursday 07 August 2025  10:00:10 +0000 (0:00:00.169)       0:00:01.783 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Thursday 07 August 2025  10:00:11 +0000 (0:00:00.331)       0:00:02.114 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.771)       0:00:02.886 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.334)       0:00:03.220 ******* 
ok: [localhost]

TASK [Include variables files] *************************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.027)       0:00:03.248 ******* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.087)       0:00:03.335 ******* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.019)       0:00:03.355 ******* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.035)       0:00:03.391 ******* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.017)       0:00:03.409 ******* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.017)       0:00:03.426 ******* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.024)       0:00:03.451 ******* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.162)       0:00:03.613 ******* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Thursday 07 August 2025  10:00:12 +0000 (0:00:00.016)       0:00:03.629 ******* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Thursday 07 August 2025  10:00:13 +0000 (0:00:00.625)       0:00:04.255 ******* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Thursday 07 August 2025  10:00:13 +0000 (0:00:00.024)       0:00:04.279 ******* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Thursday 07 August 2025  10:00:13 +0000 (0:00:00.026)       0:00:04.306 ******* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Thursday 07 August 2025  10:00:13 +0000 (0:00:00.482)       0:00:04.788 ******* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Thursday 07 August 2025  10:00:14 +0000 (0:00:00.244)       0:00:05.032 ******* 
[WARNING]: skipping installation of kubernetes.core==3.0.1 ;
kubernetes.core==3.0.1 already installed in EE
[WARNING]: skipping installation of amazon.aws==6.4.0 ; amazon.aws==7.6.0
already installed in EE
[WARNING]: skipping installation of community.general==7.4.0 ;
community.general==8.6.0 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of community.okd==2.3.0 ; community.okd==3.0.1
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Thursday 07 August 2025  10:00:14 +0000 (0:00:00.300)       0:00:05.332 ******* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Thursday 07 August 2025  10:00:14 +0000 (0:00:00.500)       0:00:05.833 ******* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.169)       0:00:06.002 ******* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.021)       0:00:06.024 ******* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.319)       0:00:06.343 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.016)       0:00:06.360 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.013)       0:00:06.373 ******* 
skipping: [localhost]

PLAY [Step 000 Pre Infrastructure] *********************************************

TASK [Print Pre-Infrastructure Message] ****************************************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.024)       0:00:06.397 ******* 
ok: [localhost] => {
    "msg": "Step 000 Pre Infrastructure - Starting"
}

TASK [Set rosa console password] ***********************************************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.012)       0:00:06.410 ******* 
ok: [localhost]

TASK [Get the current caller identity information] *****************************
Thursday 07 August 2025  10:00:15 +0000 (0:00:00.015)       0:00:06.426 ******* 
ok: [localhost]

TASK [Set account ID] **********************************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.620)       0:00:07.046 ******* 
ok: [localhost]

PLAY [Step 001.0 Infrastructure Pre-Checks] ************************************

TASK [Test aws command] ********************************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.026)       0:00:07.073 ******* 
ok: [localhost]

TASK [Fail if AWS command CLI if not available] ********************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.154)       0:00:07.228 ******* 
skipping: [localhost]

PLAY [Step 001.1 Deploy Infrastructure] ****************************************

TASK [Run infra-images] ********************************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.028)       0:00:07.256 ******* 

TASK [infra-images : include_tasks] ********************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.019)       0:00:07.276 ******* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2.yaml for localhost

TASK [infra-images : include_tasks] ********************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.024)       0:00:07.301 ******* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_images.yaml for localhost => (item={'name': 'bastion', 'count': 1, 'unique': True, 'public_dns': True, 'floating_ip': True, 'image': 'RHEL94GOLD-latest', 'flavor': {'ec2': 't3a.small'}, 'tags': [{'key': 'AnsibleGroup', 'value': 'bastions'}, {'key': 'ostype', 'value': 'linux'}], 'rootfs_size': 30, 'security_groups': ['BastionSG']})

TASK [infra-images : include_tasks] ********************************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.030)       0:00:07.331 ******* 
included: /runner/project/ansible/roles-infra/infra-images/tasks/ec2_loop_image.yaml for localhost => (item={'owner': 309956199498, 'name': 'RHEL-9.4.*_HVM-*Access*', 'architecture': 'x86_64', 'aws_filters': {'is-public': False}})

TASK [infra-images : Lookup image for bastion] *********************************
Thursday 07 August 2025  10:00:16 +0000 (0:00:00.047)       0:00:07.379 ******* 
ok: [localhost]

TASK [infra-images : Fail if no image found for bastion] ***********************
Thursday 07 August 2025  10:00:18 +0000 (0:00:01.905)       0:00:09.285 ******* 
skipping: [localhost]

TASK [infra-images : Save image in agnosticd_images, use latest if multiple found] ***
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.020)       0:00:09.305 ******* 
ok: [localhost]

TASK [infra-images : debug agnosticd_image] ************************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.026)       0:00:09.331 ******* 
skipping: [localhost]

TASK [infra-images : Print images found for each instance] *********************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.017)       0:00:09.348 ******* 
ok: [localhost] => (item=bastion) => {
    "msg": "bastion - RHEL-9.4.0_HVM-20250624-x86_64-0-Access2-GP3 - ami-0a56a183c12729096 - Red Hat BYOL Linux - ap-southeast-1"
}

TASK [Run infra-aws-capacity-reservation] **************************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.027)       0:00:09.375 ******* 

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.017)       0:00:09.393 ******* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.015)       0:00:09.408 ******* 
skipping: [localhost]

TASK [infra-aws-capacity-reservation : include_tasks] **************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.014)       0:00:09.423 ******* 
skipping: [localhost]

TASK [Empty the agnosticd_images and run the detection again] ******************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.019)       0:00:09.443 ******* 
skipping: [localhost]

TASK [Run infra-images again to use the proper region selected by the reservations] ***
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.022)       0:00:09.465 ******* 
skipping: [localhost]

TASK [Run infra-aws-open-environment Role] *************************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.018)       0:00:09.483 ******* 
skipping: [localhost]

TASK [Create ssh provision key] ************************************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.015)       0:00:09.499 ******* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.034)       0:00:09.534 ******* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.016)       0:00:09.550 ******* 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Thursday 07 August 2025  10:00:18 +0000 (0:00:00.018)       0:00:09.568 ******* 
changed: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.459)       0:00:10.028 ******* 
changed: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.156)       0:00:10.184 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.171)       0:00:10.356 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.018)       0:00:10.374 ******* 
changed: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.288)       0:00:10.663 ******* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.013)       0:00:10.677 ******* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.029)       0:00:10.707 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for localhost

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.029)       0:00:10.736 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for localhost

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Thursday 07 August 2025  10:00:19 +0000 (0:00:00.023)       0:00:10.760 ******* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.151)       0:00:10.911 ******* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.017)       0:00:10.928 ******* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.179)       0:00:11.108 ******* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.018)       0:00:11.126 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for localhost

TASK [Run infra-cloud-tags role] ***********************************************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.028)       0:00:11.154 ******* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.029)       0:00:11.184 ******* 
skipping: [localhost]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.026)       0:00:11.210 ******* 
ok: [localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.038)       0:00:11.248 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for localhost

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Thursday 07 August 2025  10:00:20 +0000 (0:00:00.032)       0:00:11.280 ******* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.902)       0:00:12.183 ******* 
changed: [localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.165)       0:00:12.349 ******* 
skipping: [localhost]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.018)       0:00:12.367 ******* 
skipping: [localhost]

TASK [Locate environment SSH key] **********************************************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.019)       0:00:12.387 ******* 

TASK [locate_env_authorized_key : Set env_authorized_key_path] *****************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.028)       0:00:12.415 ******* 
ok: [localhost]

TASK [locate_env_authorized_key : Set env_authorized_key_path_pub] *************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.024)       0:00:12.440 ******* 
ok: [localhost]

TASK [locate_env_authorized_key : Generate SSH pub key content if it doesn't exist] ***
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.028)       0:00:12.468 ******* 
ok: [localhost]

TASK [locate_env_authorized_key : Save SSH pub key content as fact] ************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.170)       0:00:12.639 ******* 
ok: [localhost]

TASK [Create keypair in ec2] ***************************************************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.026)       0:00:12.665 ******* 

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.032)       0:00:12.698 ******* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : include_tasks] ***************************************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.015)       0:00:12.713 ******* 
included: /runner/project/ansible/roles-infra/infra-ec2-ssh-key/tasks/create.yaml for localhost

TASK [infra-ec2-ssh-key : Stat local infra key] ********************************
Thursday 07 August 2025  10:00:21 +0000 (0:00:00.025)       0:00:12.739 ******* 
ok: [localhost]

TASK [infra-ec2-ssh-key : Generate SSH pub key content] ************************
Thursday 07 August 2025  10:00:22 +0000 (0:00:00.154)       0:00:12.894 ******* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Save all facts for SSH] ******************************
Thursday 07 August 2025  10:00:22 +0000 (0:00:00.019)       0:00:12.913 ******* 
skipping: [localhost]

TASK [infra-ec2-ssh-key : Create infra key] ************************************
Thursday 07 August 2025  10:00:22 +0000 (0:00:00.017)       0:00:12.931 ******* 
changed: [localhost]

TASK [Run infra-ec2-template-generate Role] ************************************
Thursday 07 August 2025  10:00:24 +0000 (0:00:02.410)       0:00:15.342 ******* 

TASK [infra-ec2-template-generate : Detect all possible Availability Zones that can host all the instance types and pick one] ***
Thursday 07 August 2025  10:00:24 +0000 (0:00:00.047)       0:00:15.389 ******* 
included: /runner/project/ansible/roles-infra/infra-ec2-template-generate/tasks/locate_availability_zones.yml for localhost

TASK [infra-ec2-template-generate : Get all the instance types] ****************
Thursday 07 August 2025  10:00:24 +0000 (0:00:00.029)       0:00:15.419 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Thursday 07 August 2025  10:00:24 +0000 (0:00:00.034)       0:00:15.454 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Check if the AWS CLI has the 'describe-instance-type-offerings' feature] ***
Thursday 07 August 2025  10:00:24 +0000 (0:00:00.041)       0:00:15.495 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Get all subnets or networks in 'instances'] ***
Thursday 07 August 2025  10:00:25 +0000 (0:00:00.774)       0:00:16.270 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : include_tasks] *****************************
Thursday 07 August 2025  10:00:25 +0000 (0:00:00.028)       0:00:16.298 ******* 
included: /runner/project/ansible/roles-infra/infra-ec2-template-generate/tasks/locate_availability_zones_tasks.yml for localhost

TASK [infra-ec2-template-generate : Get the possible AZs] **********************
Thursday 07 August 2025  10:00:25 +0000 (0:00:00.026)       0:00:16.324 ******* 
ok: [localhost] => (item=t3a.small)

TASK [infra-ec2-template-generate : debug] *************************************
Thursday 07 August 2025  10:00:27 +0000 (0:00:01.620)       0:00:17.945 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Fail if return code is not 0] **************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.013)       0:00:17.958 ******* 
skipping: [localhost] => (item=['aws', 'ec2', 'describe-instance-type-offerings', '--location-type', 'availability-zone', '--filters', 'Name=instance-type,Values=t3a.small', '--query', 'InstanceTypeOfferings[].Location', '--output', 'json']) 
skipping: [localhost]

TASK [infra-ec2-template-generate : Set fact of the possible Availability Zones] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.021)       0:00:17.979 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Calculate intersection of all AZs and set_fact] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.027)       0:00:18.007 ******* 
ok: [localhost] => (item=['ap-southeast-1b', 'ap-southeast-1a', 'ap-southeast-1c'])

TASK [infra-ec2-template-generate : Abort if no AZ is found] *******************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.020)       0:00:18.028 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [infra-ec2-template-generate : Print possible availability zones] *********
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.019)       0:00:18.047 ******* 
ok: [localhost] => {
    "infra_ec2_template_generate_possible_azs": [
        "ap-southeast-1b",
        "ap-southeast-1a",
        "ap-southeast-1c"
    ]
}

TASK [infra-ec2-template-generate : Select the first AZ in the possible AZs and set fact aws_availability_zone] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.014)       0:00:18.062 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Debug] *************************************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.016)       0:00:18.079 ******* 
ok: [localhost] => {
    "aws_availability_zone": "ap-southeast-1b"
}

TASK [infra-ec2-template-generate : Check if template exists for the environment] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.014)       0:00:18.093 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use CloudFormation template from the environment] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.159)       0:00:18.253 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Use the default CloudFormation template] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.017)       0:00:18.271 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template_src] *********
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.013)       0:00:18.284 ******* 
ok: [localhost] => {
    "cloudformation_template_src": "../configs/rosa-consolidated/files/cloud_providers/ec2_cloud_template.j2"
}

TASK [infra-ec2-template-generate : Determine the security groups used in 'instances' dictionary] ***
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.014)       0:00:18.299 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.027)       0:00:18.326 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Print cloudformation_template] *************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.013)       0:00:18.340 ******* 
ok: [localhost] => {
    "cloudformation_template": "/tmp/output-b22172d0-94ab-5189-a5fc-1254855b5636/rosa-consolidated.r566w.ec2_cloud_template"
}

TASK [infra-ec2-template-generate : AWS Generate CloudFormation Template] ******
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.013)       0:00:18.353 ******* 
changed: [localhost]

TASK [infra-ec2-template-generate : Stop if debugging template] ****************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.361)       0:00:18.715 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Stat CloudFormation template] **************
Thursday 07 August 2025  10:00:27 +0000 (0:00:00.015)       0:00:18.730 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : Get user name] *****************************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.153)       0:00:18.883 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.013)       0:00:18.897 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : set_fact] **********************************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.011)       0:00:18.908 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Create bucket] *****************************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.011)       0:00:18.920 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Copy Template to S3] ***********************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.011)       0:00:18.932 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : Check for !Ref in CF template] *************
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.012)       0:00:18.944 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : validation cloudformation template] ********
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.279)       0:00:19.224 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "Cloudformation template is syntactically valid"
}

TASK [infra-ec2-template-generate : Copy original !Ref CF template back in place] ***
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.026)       0:00:19.251 ******* 
skipping: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (local)] ***
Thursday 07 August 2025  10:00:28 +0000 (0:00:00.012)       0:00:19.263 ******* 
ok: [localhost]

TASK [infra-ec2-template-generate : validate cloudformation template with validate-template (S3)] ***
Thursday 07 August 2025  10:00:30 +0000 (0:00:01.813)       0:00:21.076 ******* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role] **************************************
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.016)       0:00:21.093 ******* 

TASK [infra-ec2-template-create : Retrieve stack_deployed from provision-user-data.yaml] ***
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.060)       0:00:21.153 ******* 
ok: [localhost]

TASK [include_role : infra-cloud-tags] *****************************************
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.025)       0:00:21.179 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.021)       0:00:21.200 ******* 
ok: [localhost]

TASK [infra-ec2-template-create : Wait a bit for the previous stack and child resources to be deleted] ***
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.029)       0:00:21.230 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : include_tasks] *******************************
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.030)       0:00:21.260 ******* 
skipping: [localhost]

TASK [Regenerate the CloudFormation template because of custom images] *********
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.030)       0:00:21.291 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from local] ***
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.024)       0:00:21.315 ******* 
ok: [localhost]

TASK [infra-ec2-template-create : Prepare for launch CloudFormation template from S3 bucket] ***
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.021)       0:00:21.337 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Launch CloudFormation template (local)] ******
Thursday 07 August 2025  10:00:30 +0000 (0:00:00.018)       0:00:21.355 ******* 
[WARNING]: Using a variable for a task's 'args' is unsafe in some situations
(see
https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-
unsafe)
[DEPRECATION WARNING]: Param 'template' is deprecated. See the module docs for 
more information. This feature will be removed from amazon.aws in a release 
after 2026-05-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
changed: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Thursday 07 August 2025  10:03:28 +0000 (0:02:57.766)       0:03:19.121 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : debug cloudformation] ************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.018)       0:03:19.140 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Delete S3 bucket if it exists] ***************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.018)       0:03:19.159 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : report s3 error] *****************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.177 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Destroy cloudformation template] *************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.194 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation Destroy error] *********
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.212 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : report Cloudformation error] *****************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.229 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Save aws_region_loop into aws_region_final] ***
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.247 ******* 
ok: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.025)       0:03:19.272 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : Output region] *******************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.017)       0:03:19.290 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.018)       0:03:19.308 ******* 
ok: [localhost]

TASK [infra-ec2-template-create : Save stack deployed for futur runs (idempotent)] ***
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.024)       0:03:19.333 ******* 
skipping: [localhost]

TASK [infra-ec2-template-create : set_fact] ************************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.022)       0:03:19.356 ******* 
skipping: [localhost]

TASK [Run infra-ec2-template-create Role into FallBack region] *****************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.022)       0:03:19.378 ******* 
skipping: [localhost]

TASK [report Cloudformation error] *********************************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.023)       0:03:19.401 ******* 
skipping: [localhost]

PLAY [Step 001.2 Create Inventory and SSH config setup] ************************

TASK [include_tasks] ***********************************************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.032)       0:03:19.434 ******* 
skipping: [localhost]

TASK [Run infra-ec2-create-inventory Role] *************************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.019)       0:03:19.454 ******* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.026)       0:03:19.480 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Thursday 07 August 2025  10:03:28 +0000 (0:00:00.016)       0:03:19.496 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Thursday 07 August 2025  10:03:30 +0000 (0:00:01.695)       0:03:21.191 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.017)       0:03:21.209 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.016)       0:03:21.226 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.017)       0:03:21.243 ******* 
ok: [localhost] => (item=bastion.r566w.internal)

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.027)       0:03:21.271 ******* 
changed: [localhost] => (item=bastion.r566w.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.044)       0:03:21.315 ******* 
changed: [localhost] => (item=bastion.r566w.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.040)       0:03:21.356 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.020)       0:03:21.376 ******* 
skipping: [localhost]

TASK [Run Common SSH Config Generator Role] ************************************
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.021)       0:03:21.397 ******* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.037)       0:03:21.434 ******* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.019)       0:03:21.454 ******* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.172)       0:03:21.627 ******* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Thursday 07 August 2025  10:03:30 +0000 (0:00:00.163)       0:03:21.791 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.188)       0:03:21.979 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.282)       0:03:22.261 ******* 
skipping: [localhost] => (item=bastion.r566w.internal) 
skipping: [localhost]

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.040)       0:03:22.301 ******* 
ok: [localhost]
ok: [bastion.r566w.internal]

TASK [Include variables files] *************************************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.033)       0:03:22.335 ******* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yaml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yaml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yml)
ok: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yaml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yml)
ok: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yaml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yml) 
skipping: [bastion.r566w.internal] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.102)       0:03:22.438 ******* 
skipping: [localhost]
skipping: [bastion.r566w.internal]

TASK [Set passthrough user data] ***********************************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.029)       0:03:22.467 ******* 
skipping: [localhost]
[WARNING]: Could not match supplied host pattern, ignoring: windows
[WARNING]: Could not match supplied host pattern, ignoring: network

PLAY [Step 001.3 Configure Linux Hosts and Wait for Connection] ****************

TASK [set facts for remote access] *********************************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.044)       0:03:22.512 ******* 
ok: [bastion.r566w.internal]

TASK [Run infra-ec2-wait_for_linux_hosts Role] *********************************
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.022)       0:03:22.534 ******* 

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available] ****
Thursday 07 August 2025  10:03:31 +0000 (0:00:00.020)       0:03:22.554 ******* 
ok: [bastion.r566w.internal]

TASK [infra-ec2-wait_for_linux_hosts : restart instance if wait_for_connection failed] ***
Thursday 07 August 2025  10:03:40 +0000 (0:00:09.140)       0:03:31.695 ******* 
skipping: [bastion.r566w.internal]

TASK [infra-ec2-wait_for_linux_hosts : wait for linux host to be available (retry)] ***
Thursday 07 August 2025  10:03:40 +0000 (0:00:00.020)       0:03:31.716 ******* 
skipping: [bastion.r566w.internal]

TASK [infra-ec2-wait_for_linux_hosts : ping] ***********************************
Thursday 07 August 2025  10:03:40 +0000 (0:00:00.020)       0:03:31.736 ******* 
ok: [bastion.r566w.internal]

TASK [Run infra-ec2-linux-set-hostname Role] ***********************************
Thursday 07 August 2025  10:03:47 +0000 (0:00:06.349)       0:03:38.086 ******* 

TASK [infra-ec2-linux-set-hostname : Set hostname based on tag_internaldns] ****
Thursday 07 August 2025  10:03:47 +0000 (0:00:00.022)       0:03:38.108 ******* 
changed: [bastion.r566w.internal]

TASK [infra-ec2-linux-set-hostname : stat] *************************************
Thursday 07 August 2025  10:03:53 +0000 (0:00:06.382)       0:03:44.490 ******* 
ok: [bastion.r566w.internal]

TASK [infra-ec2-linux-set-hostname : disable updating hostname in /etc/cloud/cloud.cfg] ***
Thursday 07 August 2025  10:03:59 +0000 (0:00:05.370)       0:03:49.861 ******* 
changed: [bastion.r566w.internal]

TASK [infra-ec2-linux-set-hostname : Add preserve_hostname to /etc/cloud/cloud.cfg] ***
Thursday 07 August 2025  10:04:04 +0000 (0:00:05.324)       0:03:55.186 ******* 
changed: [bastion.r566w.internal]

TASK [Add authorized_keys] *****************************************************
Thursday 07 August 2025  10:04:09 +0000 (0:00:05.313)       0:04:00.499 ******* 

TASK [ssh_authorized_keys : Add all authorized keys] ***************************
Thursday 07 August 2025  10:04:09 +0000 (0:00:00.040)       0:04:00.540 ******* 
changed: [bastion.r566w.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvZvn+GL0wTOsAdh1ikIQoqj2Fw/RA6F14O347rgKdpkgOQpGQk1k2gM8wcla2Y1o0bPIzwlNy1oh5o9uNjZDMeDcEXWuXbu0cRBy4pVRhh8a8zAZfssnqoXHHLyPyHWpdTmgIhr0UIGYrzHrnySAnUcDp3gJuE46UEBtrlyv94cVvZf+EZUTaZ+2KjTRLoNryCn7vKoGHQBooYg1DeHLcLSRWEADUo+bP0y64+X/XTMZOAXbf8kTXocqAgfl/usbYdfLOgwU6zWuj8vxzAKuMEXS1AJSp5aeqRKlbbw40IkTmLoQIgJdb2Zt98BH/xHDe9xxhscUCfWeS37XLp75J opentlc_admin_backdoor'})
changed: [bastion.r566w.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg5PJgwAB8U2NiXh4aRZAg09f3xjT3y1CP322StmT4ljiqhXoqOOZ++qDIKFmtHGmeEjvkCo11M2oVmJTeaibeS0E+Xsoi9wTcit47h2ka7WPdzhy/togFQOVAftbwi3RtHDOweIFL18FQ8inhu9W/oFibsZjQEWtHoHtLkmA5zOSQtWDmVfx3iWrKd4svkNbJ+SNZMnD0tCDoot3y0Knzyt+wpZtVd94YXpUDTCJ8Ie1nFSdm7H/QB9/bDXeOSSnHBq2xSmywodNoyA1gFZ1hhpPNEauQjzeKCMpNLPATg/jtQb1zojG6QnO/7I5euKOlDeJ1Odg35aTG31p8EbT3UL8NZssdn3YY3OEQ/2rN0PaQ+zxzmzfh1otx4Rsh1IbD5S99GuQD2ma7m0zOzrBb8Mil5TCaTaK8mIADq/lclj0sAMrH1EXyFvDiHEG+cV0iMyXOxEMTJs4YLr8DyqsTZ34TvVSJP9/0YwQuRYhg0MJmFbMvl/4yibTgyvTYLN0= instructor-key-2022'})
changed: [bastion.r566w.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIIDDIOD4M5yYo3uCFDBDb6del+NG2fkboWh90kW/S6H elliptical_instructor_key_2024'})
changed: [bastion.r566w.internal] => (item={'key': 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOBfsRMLCEQt86EZnvQ/rK49wo1odLqpd1NEz3tDjUWY elliptical_admin_key_2023'})
changed: [bastion.r566w.internal] => (item={'key': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3nKRSIwWn7pjMf2i1TyXgjsauEIoDS8Xulad2ZAbsmZrWcKU5hPi23xq0g2AjRYiXml8zSX9jAQfmlKnrXGYo5WN39iXGRI3lFJmXwmEHne3Z0qtUgt9MBA4w0Tcunw7pXniKntvo2oiDYZlXHztRMHMeUkUjLgCGjn2cfi0uqd4pxLmneMziHMKDxcyy+9MaGnWr5Bs27r3b6rWNFqG2fAo1Z5ZWEA/r3MhdI9ZzMRJVTUhunpstwMX8MRxx/OGk0zynyHcSkh91sqZ3xhPpvRkmYLRa5I0aw88AMenWBfc586FyORL2e/UVoIoyMkBMnovaRIoiTj74RuPeZ6gGKbbfpt1ggDs4j9Z1Go51GlGPYcchvLQvx+Ucv5+tLZSqZBhPOXLRqFuQgRZz4R6j5O5UkfdjLJxBoHQZxT0Wdzd/XiGcAlyDOq8puNSxdF3w/8eGGSKDdUONv1tc1dcTFd6kR+jYaedjD1fldVrC+4fRUFkFqEovDPVI4159VSqJWz78WuqazNnCRMVDnS4Le+Er1pvTbk5rOdYUkF67vxVwD3cyJ3D1C49wVsIc3+kngZN2246OEMsbVugEPG4A8/UOlHIE5iBps+mM9GX6UFSj4aLFh15XeOGKs7aH2r1thfvFPSvk12t8QvNDhhhhAf5EzzypvNEbXQ6fk3YSUw== rsa_admin_key_2023'})

TASK [ssh_authorized_keys : Add all authorized keys (legacy var all_ssh_authorized_keys)] ***
Thursday 07 August 2025  10:04:38 +0000 (0:00:28.566)       0:04:29.106 ******* 
skipping: [bastion.r566w.internal]

PLAY [Step 001.4 Configure Windows Hosts and Wait for Connection] **************
skipping: no hosts matched

PLAY [Step 002 - Post Infrastructure] ******************************************

TASK [Get aws user credentials from stack outputs] *****************************
Thursday 07 August 2025  10:04:38 +0000 (0:00:00.034)       0:04:29.141 ******* 
ok: [localhost]

PLAY [Step 002 Post Infrastructure regreSSHion Hotfix] *************************

TASK [Gathering Facts] *********************************************************
Thursday 07 August 2025  10:04:38 +0000 (0:00:00.031)       0:04:29.172 ******* 
ok: [bastion.r566w.internal]

TASK [Have facts been gathered?] ***********************************************
Thursday 07 August 2025  10:04:45 +0000 (0:00:07.036)       0:04:36.209 ******* 
ok: [bastion.r566w.internal]

TASK [Set sshd LoginGraceTime to 0 in /etc/ssh/sshd_config] ********************
Thursday 07 August 2025  10:04:51 +0000 (0:00:05.690)       0:04:41.900 ******* 
changed: [bastion.r566w.internal]

TASK [Restart SSH service for regreSSHion fix] *********************************
Thursday 07 August 2025  10:04:56 +0000 (0:00:05.293)       0:04:47.193 ******* 
changed: [bastion.r566w.internal]

PLAY [localhost] ***************************************************************

TASK [Export in-memory inventory to inventory file] ****************************
Thursday 07 August 2025  10:05:02 +0000 (0:00:06.239)       0:04:53.433 ******* 
skipping: [localhost]

PLAY [Configure all hosts with Repositories, Common Files and Set environment key] ***

TASK [set-repositories : Run setup if gather_facts hasn't been run] ************
Thursday 07 August 2025  10:05:02 +0000 (0:00:00.042)       0:04:53.476 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : Configure satellite repositories] *********************
Thursday 07 August 2025  10:05:02 +0000 (0:00:00.020)       0:04:53.496 ******* 
included: /runner/project/ansible/roles/set-repositories/tasks/satellite-repos.yml for bastion.r566w.internal

TASK [set-repositories : sat | Check subscription-manager package existence] ***
Thursday 07 August 2025  10:05:02 +0000 (0:00:00.070)       0:04:53.567 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Install subscription-manager package] ***********
Thursday 07 August 2025  10:05:02 +0000 (0:00:00.022)       0:04:53.590 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Remove rh-amazon-rhui-client package] ***********
Thursday 07 August 2025  10:05:02 +0000 (0:00:00.019)       0:04:53.610 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Unregister the system just in case] *************
Thursday 07 August 2025  10:05:09 +0000 (0:00:07.232)       0:05:00.842 ******* 
included: /runner/project/ansible/roles/set-repositories/tasks/unregister.yml for bastion.r566w.internal

TASK [set-repositories : unreg | Unregister From Subscription Manager] *********
Thursday 07 August 2025  10:05:10 +0000 (0:00:00.030)       0:05:00.873 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Install CA certificate from satellite server] ***
Thursday 07 August 2025  10:05:15 +0000 (0:00:05.648)       0:05:06.521 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Update CA Trust Bundle] *************************
Thursday 07 August 2025  10:05:21 +0000 (0:00:06.182)       0:05:12.704 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Remove satellite Cert] **************************
Thursday 07 August 2025  10:05:29 +0000 (0:00:07.438)       0:05:20.143 ******* 
ok: [bastion.r566w.internal]

TASK [set-repositories : sat | Find current repository files] ******************
Thursday 07 August 2025  10:05:35 +0000 (0:00:06.482)       0:05:26.626 ******* 
ok: [bastion.r566w.internal]

TASK [set-repositories : sat | Remove current repository files] ****************
Thursday 07 August 2025  10:05:41 +0000 (0:00:05.314)       0:05:31.940 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Install Satellite CA certificate package] *******
Thursday 07 August 2025  10:05:41 +0000 (0:00:00.013)       0:05:31.953 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Disable Reporting Of Package Profile to Satellite] ***
Thursday 07 August 2025  10:05:52 +0000 (0:00:11.677)       0:05:43.631 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Run setup if gather_facts hasn't been run] ******
Thursday 07 August 2025  10:05:58 +0000 (0:00:05.214)       0:05:48.845 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : Generate UUID for dmi.system.uuid if cloud provider is Equinix Metal] ***
Thursday 07 August 2025  10:05:58 +0000 (0:00:00.021)       0:05:48.867 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Set set_repositories_subscription_hostname with randomization] ***
Thursday 07 August 2025  10:05:58 +0000 (0:00:00.024)       0:05:48.892 ******* 
ok: [bastion.r566w.internal]

TASK [set-repositories : sat | Set network.fqdn in /etc/rhsm/facts/katello.facts] ***
Thursday 07 August 2025  10:05:58 +0000 (0:00:00.027)       0:05:48.919 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Register with activation-key] *******************
Thursday 07 August 2025  10:06:08 +0000 (0:00:10.665)       0:05:59.585 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Register with activation-key with HA] ***********
Thursday 07 August 2025  10:06:08 +0000 (0:00:00.021)       0:05:59.606 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Enable RHSM to manage repositories] *************
Thursday 07 August 2025  10:06:28 +0000 (0:00:19.730)       0:06:19.337 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Lock RHEL 9 release to specific version] ********
Thursday 07 August 2025  10:06:34 +0000 (0:00:05.710)       0:06:25.047 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Lock RHEL 8 release to specific version] ********
Thursday 07 August 2025  10:06:34 +0000 (0:00:00.021)       0:06:25.068 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Lock RHEL 7 release to specific version] ********
Thursday 07 August 2025  10:06:34 +0000 (0:00:00.019)       0:06:25.087 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Enable repos] ***********************************
Thursday 07 August 2025  10:06:34 +0000 (0:00:00.019)       0:06:25.107 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : sat | Purge existing repos] ***************************
Thursday 07 August 2025  10:06:51 +0000 (0:00:17.527)       0:06:42.634 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Enable repos for RHEL] **************************
Thursday 07 August 2025  10:06:51 +0000 (0:00:00.020)       0:06:42.654 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Create the certificate and key files] ***********
Thursday 07 August 2025  10:06:51 +0000 (0:00:00.019)       0:06:42.674 ******* 
skipping: [bastion.r566w.internal] => (item=/etc/pki/tls/Red_GPTE.key) 
skipping: [bastion.r566w.internal] => (item=/etc/pki/tls/Red_GPTE.pem) 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | Add certificate and key content] ****************
Thursday 07 August 2025  10:06:51 +0000 (0:00:00.025)       0:06:42.699 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | create open.repo template on host] **************
Thursday 07 August 2025  10:06:51 +0000 (0:00:00.023)       0:06:42.723 ******* 
skipping: [bastion.r566w.internal]

TASK [set-repositories : sat | clean repositories] *****************************
Thursday 07 August 2025  10:06:51 +0000 (0:00:00.028)       0:06:42.752 ******* 
changed: [bastion.r566w.internal]

TASK [set-repositories : Unregister from subscription manager] *****************
Thursday 07 August 2025  10:06:59 +0000 (0:00:07.492)       0:06:50.244 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Deactivate DNS lookup in sshd] **********************************
Thursday 07 August 2025  10:06:59 +0000 (0:00:00.023)       0:06:50.268 ******* 
changed: [bastion.r566w.internal]

TASK [common : Update all packages] ********************************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:05.163)       0:06:55.431 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Update all packages Legacy] *************************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.018)       0:06:55.450 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Determine if reboot is needed] **********************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.018)       0:06:55.469 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Reboot all VMs] *************************************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.018)       0:06:55.487 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Update network facts after reboot] ******************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.023)       0:06:55.511 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Run setup if gather_facts hasn't been run] **********************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.026)       0:06:55.537 ******* 
skipping: [bastion.r566w.internal]

TASK [common : install common packages for RHEL 7] *****************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.024)       0:06:55.561 ******* 
skipping: [bastion.r566w.internal]

TASK [common : install common packages for RHEL 8] *****************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.024)       0:06:55.586 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Set up python alternatives for convenience] *********************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.023)       0:06:55.609 ******* 
skipping: [bastion.r566w.internal]

TASK [common : install common packages for RHEL 9] *****************************
Thursday 07 August 2025  10:07:04 +0000 (0:00:00.022)       0:06:55.632 ******* 
changed: [bastion.r566w.internal]

TASK [common : install extra packages] *****************************************
Thursday 07 August 2025  10:13:32 +0000 (0:06:27.576)       0:13:23.208 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Update specified packages] **************************************
Thursday 07 August 2025  10:13:32 +0000 (0:00:00.027)       0:13:23.236 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Determine if reboot is needed] **********************************
Thursday 07 August 2025  10:13:32 +0000 (0:00:00.025)       0:13:23.261 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Reboot VMs] *****************************************************
Thursday 07 August 2025  10:13:32 +0000 (0:00:00.029)       0:13:23.290 ******* 
skipping: [bastion.r566w.internal]

TASK [common : Refresh network facts post-reboot] ******************************
Thursday 07 August 2025  10:13:32 +0000 (0:00:00.026)       0:13:23.317 ******* 
skipping: [bastion.r566w.internal]

TASK [Add GUID to /etc/skel/.bashrc] *******************************************
Thursday 07 August 2025  10:13:32 +0000 (0:00:00.027)       0:13:23.345 ******* 
changed: [bastion.r566w.internal]

TASK [Add GUID to ~ec2-user] ***************************************************
Thursday 07 August 2025  10:13:37 +0000 (0:00:05.427)       0:13:28.773 ******* 
changed: [bastion.r566w.internal]

TASK [Use provided user password] **********************************************
Thursday 07 August 2025  10:13:43 +0000 (0:00:05.245)       0:13:34.018 ******* 
skipping: [bastion.r566w.internal]

TASK [Generate user password] **************************************************
Thursday 07 August 2025  10:13:43 +0000 (0:00:00.021)       0:13:34.040 ******* 
ok: [bastion.r566w.internal]

TASK [Create user with password] ***********************************************
Thursday 07 August 2025  10:13:43 +0000 (0:00:00.024)       0:13:34.065 ******* 
changed: [bastion.r566w.internal]

TASK [Enable password authentication] ******************************************
Thursday 07 August 2025  10:13:48 +0000 (0:00:05.526)       0:13:39.592 ******* 
changed: [bastion.r566w.internal]

TASK [Remove PasswordAuthentication line from 50-cloud-init.conf] **************
Thursday 07 August 2025  10:13:53 +0000 (0:00:04.720)       0:13:44.313 ******* 
changed: [bastion.r566w.internal]

TASK [Restart sshd] ************************************************************
Thursday 07 August 2025  10:13:58 +0000 (0:00:04.830)       0:13:49.144 ******* 
changed: [bastion.r566w.internal]

TASK [Remove register for insights motd] ***************************************
Thursday 07 August 2025  10:14:03 +0000 (0:00:05.417)       0:13:54.561 ******* 
skipping: [bastion.r566w.internal]

TASK [Add a custom motd to the bastion] ****************************************
Thursday 07 August 2025  10:14:03 +0000 (0:00:00.017)       0:13:54.579 ******* 
changed: [bastion.r566w.internal]

RUNNING HANDLER [common : restart_sshd] ****************************************
Thursday 07 August 2025  10:14:14 +0000 (0:00:10.861)       0:14:05.440 ******* 
changed: [bastion.r566w.internal]

PLAY [Step 00xxxxx software] ***************************************************

TASK [Install and configure AWS cli] *******************************************
Thursday 07 August 2025  10:14:19 +0000 (0:00:05.333)       0:14:10.773 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_aws_cli.yml for bastion.r566w.internal

TASK [Get awscli] **************************************************************
Thursday 07 August 2025  10:14:19 +0000 (0:00:00.024)       0:14:10.798 ******* 
changed: [bastion.r566w.internal]

TASK [Unzip awscliv2.zip] ******************************************************
Thursday 07 August 2025  10:14:25 +0000 (0:00:05.821)       0:14:16.619 ******* 
changed: [bastion.r566w.internal]

TASK [Install awscli] **********************************************************
Thursday 07 August 2025  10:14:49 +0000 (0:00:23.480)       0:14:40.100 ******* 
changed: [bastion.r566w.internal]

TASK [cleanup archive and tmp files] *******************************************
Thursday 07 August 2025  10:14:57 +0000 (0:00:07.856)       0:14:47.956 ******* 
changed: [bastion.r566w.internal] => (item=/tmp/aws)
changed: [bastion.r566w.internal] => (item=/tmp/awscliv2.zip)

TASK [Create .aws directory] ***************************************************
Thursday 07 August 2025  10:15:08 +0000 (0:00:11.620)       0:14:59.577 ******* 
changed: [bastion.r566w.internal]

TASK [Add aws credentials] *****************************************************
Thursday 07 August 2025  10:15:13 +0000 (0:00:04.890)       0:15:04.467 ******* 
changed: [bastion.r566w.internal]

TASK [Install Helm] ************************************************************
Thursday 07 August 2025  10:15:18 +0000 (0:00:04.967)       0:15:09.434 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_helm.yml for bastion.r566w.internal

TASK [Set URL for helm] ********************************************************
Thursday 07 August 2025  10:15:18 +0000 (0:00:00.037)       0:15:09.471 ******* 
ok: [bastion.r566w.internal]

TASK [Install helm command] ****************************************************
Thursday 07 August 2025  10:15:18 +0000 (0:00:00.020)       0:15:09.492 ******* 
changed: [bastion.r566w.internal]

TASK [Link downloaded helm command to helm] ************************************
Thursday 07 August 2025  10:15:33 +0000 (0:00:15.326)       0:15:24.819 ******* 
changed: [bastion.r566w.internal]

TASK [Create Helm Bash completion file] ****************************************
Thursday 07 August 2025  10:15:39 +0000 (0:00:05.214)       0:15:30.033 ******* 
changed: [bastion.r566w.internal]

TASK [Install Terraform] *******************************************************
Thursday 07 August 2025  10:15:44 +0000 (0:00:05.067)       0:15:35.100 ******* 
changed: [bastion.r566w.internal]

TASK [Install additional tools] ************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:10.251)       0:15:45.352 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_additional_tools.yml for bastion.r566w.internal

TASK [Download the Tekton CLI] *************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.028)       0:15:45.380 ******* 
skipping: [bastion.r566w.internal]

TASK [Install tkn CLI on bastion] **********************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.018)       0:15:45.398 ******* 
skipping: [bastion.r566w.internal]

TASK [Remove downloaded file] **************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.019)       0:15:45.418 ******* 
skipping: [bastion.r566w.internal]

TASK [Setup tkn bash completion] ***********************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.018)       0:15:45.436 ******* 
skipping: [bastion.r566w.internal]

TASK [Setup tkn-pac bash completion] *******************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.017)       0:15:45.453 ******* 
skipping: [bastion.r566w.internal]

TASK [Packages for the GitHub CLI] *********************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.017)       0:15:45.471 ******* 
skipping: [bastion.r566w.internal]

TASK [Install gh-cli] **********************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.017)       0:15:45.488 ******* 
skipping: [bastion.r566w.internal]

TASK [Download the ArgoCD CLI] *************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.017)       0:15:45.505 ******* 
skipping: [bastion.r566w.internal]

TASK [Set rosa binary location] ************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.017)       0:15:45.523 ******* 
ok: [bastion.r566w.internal]

TASK [Install ROSA CLI] ********************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.018)       0:15:45.542 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_cli.yml for bastion.r566w.internal

TASK [Get ROSA CLI] ************************************************************
Thursday 07 August 2025  10:15:54 +0000 (0:00:00.030)       0:15:45.573 ******* 
changed: [bastion.r566w.internal]

TASK [Unzip rosa-linux.tar.gz] *************************************************
Thursday 07 August 2025  10:19:19 +0000 (0:03:25.002)       0:19:10.575 ******* 
changed: [bastion.r566w.internal]

TASK [cleanup archive file] ****************************************************
Thursday 07 August 2025  10:19:31 +0000 (0:00:11.289)       0:19:21.864 ******* 
changed: [bastion.r566w.internal]

TASK [Create rosa Bash completion file] ****************************************
Thursday 07 August 2025  10:19:36 +0000 (0:00:05.106)       0:19:26.971 ******* 
changed: [bastion.r566w.internal]

TASK [Setup ROSA token] ********************************************************
Thursday 07 August 2025  10:19:42 +0000 (0:00:06.476)       0:19:33.447 ******* 
ok: [bastion.r566w.internal]

TASK [Login to ROSA] ***********************************************************
Thursday 07 August 2025  10:19:42 +0000 (0:00:00.032)       0:19:33.480 ******* 
changed: [bastion.r566w.internal]

TASK [Set up rosa user's bastion home directory] *******************************
Thursday 07 August 2025  10:19:50 +0000 (0:00:07.978)       0:19:41.459 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_user.yml for bastion.r566w.internal

TASK [Create .config/ocm directory in rosa user homedir] ***********************
Thursday 07 August 2025  10:19:50 +0000 (0:00:00.027)       0:19:41.486 ******* 
changed: [bastion.r566w.internal]

TASK [Copy ROSA token to rosa user dir] ****************************************
Thursday 07 August 2025  10:19:55 +0000 (0:00:05.243)       0:19:46.730 ******* 
changed: [bastion.r566w.internal]

TASK [Create .aws directory in rosa user homedir] ******************************
Thursday 07 August 2025  10:20:00 +0000 (0:00:05.029)       0:19:51.759 ******* 
changed: [bastion.r566w.internal]

TASK [Copy AWS credentials to rosa user dir] ***********************************
Thursday 07 August 2025  10:20:05 +0000 (0:00:04.922)       0:19:56.682 ******* 
changed: [bastion.r566w.internal]

TASK [Install ROSA - Common pre-install tasks] *********************************
Thursday 07 August 2025  10:20:10 +0000 (0:00:04.932)       0:20:01.614 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_common_pre.yml for bastion.r566w.internal

TASK [Init AWS account for ROSA] ***********************************************
Thursday 07 August 2025  10:20:10 +0000 (0:00:00.028)       0:20:01.643 ******* 
changed: [bastion.r566w.internal]

TASK [Get available ROSA regions] **********************************************
Thursday 07 August 2025  10:21:41 +0000 (0:01:30.942)       0:21:32.585 ******* 
changed: [bastion.r566w.internal]

TASK [Filter regions that support ROSA with Hosted Control Planes] *************
Thursday 07 August 2025  10:21:48 +0000 (0:00:06.401)       0:21:38.987 ******* 
ok: [bastion.r566w.internal]

TASK [Get available ROSA versions] *********************************************
Thursday 07 August 2025  10:21:48 +0000 (0:00:00.035)       0:21:39.023 ******* 
changed: [bastion.r566w.internal]

TASK [Set default ROSA version] ************************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:08.093)       0:21:47.116 ******* 
skipping: [bastion.r566w.internal]

TASK [Set ROSA version to install specific version] ****************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.020)       0:21:47.137 ******* 
skipping: [bastion.r566w.internal]

TASK [Set ROSA version to latest available for openshift-v4.17] ****************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.019)       0:21:47.157 ******* 
ok: [bastion.r566w.internal]

TASK [Fail if no upgradable version was found for openshift-v4.17] *************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.085)       0:21:47.242 ******* 
skipping: [bastion.r566w.internal]

TASK [Set upgradable version facts] ********************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.022)       0:21:47.265 ******* 
skipping: [bastion.r566w.internal]

TASK [Print ROSA version to install] *******************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.027)       0:21:47.292 ******* 
ok: [bastion.r566w.internal] => (item=ROSA Version to be installed: 4.17.36) => {
    "msg": "ROSA Version to be installed: 4.17.36"
}
ok: [bastion.r566w.internal] => (item=ROSA Version available to be upgraded to: not set) => {
    "msg": "ROSA Version available to be upgraded to: not set"
}
ok: [bastion.r566w.internal] => (item=OCP CLI to be installed: 4.17.36) => {
    "msg": "OCP CLI to be installed: 4.17.36"
}

TASK [Install ROSA (STS)] ******************************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.041)       0:21:47.334 ******* 
skipping: [bastion.r566w.internal]

TASK [Install ROSA (Hosted Control Planes)] ************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.019)       0:21:47.353 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_hcp.yml for bastion.r566w.internal

TASK [Print regions supporting HCP Rosa] ***************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.035)       0:21:47.389 ******* 
ok: [bastion.r566w.internal] => {
    "msg": [
        "ap-northeast-1",
        "ap-northeast-2",
        "ap-northeast-3",
        "ap-south-1",
        "ap-southeast-1",
        "ap-southeast-2",
        "ca-central-1",
        "eu-central-1",
        "eu-north-1",
        "eu-west-1",
        "eu-west-2",
        "eu-west-3",
        "sa-east-1",
        "us-east-1",
        "us-east-2",
        "us-west-2"
    ]
}

TASK [Check if requested region is supported] **********************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.020)       0:21:47.410 ******* 
skipping: [bastion.r566w.internal]

TASK [Clone ROSA HCP terraform files] ******************************************
Thursday 07 August 2025  10:21:56 +0000 (0:00:00.018)       0:21:47.428 ******* 
changed: [bastion.r566w.internal]

TASK [Run terraform init] ******************************************************
Thursday 07 August 2025  10:22:04 +0000 (0:00:07.507)       0:21:54.936 ******* 
changed: [bastion.r566w.internal]

TASK [Run terraform plan] ******************************************************
Thursday 07 August 2025  10:22:15 +0000 (0:00:11.792)       0:22:06.729 ******* 
changed: [bastion.r566w.internal]

TASK [Run terraform apply] *****************************************************
Thursday 07 August 2025  10:22:27 +0000 (0:00:11.967)       0:22:18.697 ******* 
changed: [bastion.r566w.internal]

TASK [Save Terraform directory] ************************************************
Thursday 07 August 2025  10:24:34 +0000 (0:02:06.711)       0:24:25.408 ******* 
changed: [bastion.r566w.internal]

TASK [Transfer terraform directory archive and save in output dir] *************
Thursday 07 August 2025  10:25:33 +0000 (0:00:58.658)       0:25:24.067 ******* 
changed: [bastion.r566w.internal]

TASK [Get created subnets] *****************************************************
Thursday 07 August 2025  10:25:52 +0000 (0:00:19.130)       0:25:43.198 ******* 
changed: [bastion.r566w.internal]

TASK [Save created subnets in a fact] ******************************************
Thursday 07 August 2025  10:25:57 +0000 (0:00:05.297)       0:25:48.495 ******* 
ok: [bastion.r566w.internal]

TASK [Create ROSA HCP account roles] *******************************************
Thursday 07 August 2025  10:25:57 +0000 (0:00:00.022)       0:25:48.517 ******* 
changed: [bastion.r566w.internal]

TASK [Create ROSA HCP OIDC config] *********************************************
Thursday 07 August 2025  10:26:14 +0000 (0:00:16.400)       0:26:04.918 ******* 
changed: [bastion.r566w.internal]

TASK [Save OIDC ID in a fact] **************************************************
Thursday 07 August 2025  10:26:21 +0000 (0:00:07.139)       0:26:12.057 ******* 
ok: [bastion.r566w.internal]

TASK [Print subnets and OICD ID] ***********************************************
Thursday 07 August 2025  10:26:21 +0000 (0:00:00.023)       0:26:12.080 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Subnets: subnet-0fb938a44c1327d6d,subnet-0423558c76b37db4f, OIDC ID: 2kh32iq3e2mve1o9cjdlb2s62q9qu4is"
}

TASK [Create ROSA HCP operator roles] ******************************************
Thursday 07 August 2025  10:26:21 +0000 (0:00:00.021)       0:26:12.102 ******* 
changed: [bastion.r566w.internal]

TASK [Create ROSA HCP Cluster] *************************************************
Thursday 07 August 2025  10:26:38 +0000 (0:00:17.352)       0:26:29.455 ******* 
changed: [bastion.r566w.internal]

TASK [Wait for ROSA HCP installer completion] **********************************
Thursday 07 August 2025  10:27:51 +0000 (0:01:12.564)       0:27:42.020 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (120 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (119 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (118 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (117 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (116 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (115 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (114 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (113 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (112 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (111 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (110 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (109 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (108 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (107 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (106 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (105 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (104 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (103 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (102 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (101 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (100 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (99 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (98 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (97 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (96 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (95 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP installer completion (94 retries left).
changed: [bastion.r566w.internal]

TASK [Wait for ROSA HCP console URL to be available] ***************************
Thursday 07 August 2025  10:59:13 +0000 (0:31:22.414)       0:59:04.435 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (60 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (59 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (58 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (57 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (56 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for ROSA HCP console URL to be available (55 retries left).
changed: [bastion.r566w.internal]

TASK [Install ROSA - Common post-install tasks] ********************************
Thursday 07 August 2025  11:06:19 +0000 (0:07:05.735)       1:06:10.170 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_common_post.yml for bastion.r566w.internal

TASK [Get ROSA API URL] ********************************************************
Thursday 07 August 2025  11:06:19 +0000 (0:00:00.033)       1:06:10.203 ******* 
ok: [bastion.r566w.internal]

TASK [Get ROSA console URL] ****************************************************
Thursday 07 August 2025  11:06:19 +0000 (0:00:00.021)       1:06:10.225 ******* 
ok: [bastion.r566w.internal]

TASK [Create ROSA admin user] **************************************************
Thursday 07 August 2025  11:06:19 +0000 (0:00:00.021)       1:06:10.246 ******* 
changed: [bastion.r566w.internal]

TASK [Save ROSA admin user password] *******************************************
Thursday 07 August 2025  11:06:34 +0000 (0:00:15.187)       1:06:25.434 ******* 
ok: [bastion.r566w.internal]

TASK [Print cluster-admin password] ********************************************
Thursday 07 August 2025  11:06:34 +0000 (0:00:00.023)       1:06:25.458 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Password for cluster-admin is 'h5Xjp-4gov2-vnIx5-2ELLr'"
}

TASK [Log cluster admin into OpenShift on bastion] *****************************
Thursday 07 August 2025  11:06:34 +0000 (0:00:00.022)       1:06:25.480 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_cluster_login.yml for bastion.r566w.internal

TASK [Check if virtualenv is already installed] ********************************
Thursday 07 August 2025  11:06:34 +0000 (0:00:00.037)       1:06:25.517 ******* 
ok: [bastion.r566w.internal]

TASK [Setup k8s virtualenv if no virtualenv exists] ****************************
Thursday 07 August 2025  11:06:39 +0000 (0:00:05.268)       1:06:30.786 ******* 

TASK [host_virtualenv : Check host_virtualenv_path is defined] *****************
Thursday 07 August 2025  11:06:39 +0000 (0:00:00.035)       1:06:30.821 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [host_virtualenv : Gather basic ansible facts to determine pkg_mgr] *******
Thursday 07 August 2025  11:06:40 +0000 (0:00:00.035)       1:06:30.856 ******* 
skipping: [bastion.r566w.internal]

TASK [host_virtualenv : Install virtualenv package prerequisites] **************
Thursday 07 August 2025  11:06:40 +0000 (0:00:00.024)       1:06:30.880 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Install virtualenv module system-wide for compatibility with previous behavior] ***
Thursday 07 August 2025  11:07:34 +0000 (0:00:54.057)       1:07:24.938 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Make virtualenv path] **********************************
Thursday 07 August 2025  11:07:45 +0000 (0:00:11.242)       1:07:36.181 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Write /opt/virtualenvs/k8s/host_virtualenv-requirements.txt] ***
Thursday 07 August 2025  11:07:50 +0000 (0:00:05.388)       1:07:41.570 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Set up virtualenv with updated pip] ********************
Thursday 07 August 2025  11:08:01 +0000 (0:00:11.007)       1:07:52.577 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Install requirements in virtualenv] ********************
Thursday 07 August 2025  11:08:16 +0000 (0:00:14.909)       1:08:07.486 ******* 
changed: [bastion.r566w.internal]

TASK [host_virtualenv : Ownership of files in virtualenv path] *****************
Thursday 07 August 2025  11:10:37 +0000 (0:02:20.511)       1:10:27.997 ******* 
skipping: [bastion.r566w.internal]

TASK [Set ansible python interpreter to k8s virtualenv] ************************
Thursday 07 August 2025  11:10:37 +0000 (0:00:00.028)       1:10:28.025 ******* 
ok: [bastion.r566w.internal]

TASK [Debug login] *************************************************************
Thursday 07 August 2025  11:10:37 +0000 (0:00:00.023)       1:10:28.049 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "oc login -u cluster-admin  https://api.rosa-r566w.2nc1.p3.openshiftapps.com:443"
}

TASK [Log into OpenShift] ******************************************************
Thursday 07 August 2025  11:10:37 +0000 (0:00:00.023)       1:10:28.073 ******* 
ok: [bastion.r566w.internal]

TASK [Create .kube directory if it does not exist] *****************************
Thursday 07 August 2025  11:10:43 +0000 (0:00:06.331)       1:10:34.405 ******* 
changed: [bastion.r566w.internal]

TASK [Generate kubeconfig file] ************************************************
Thursday 07 August 2025  11:10:48 +0000 (0:00:05.213)       1:10:39.618 ******* 
changed: [bastion.r566w.internal]

TASK [Get ROSA install log] ****************************************************
Thursday 07 August 2025  11:10:59 +0000 (0:00:11.092)       1:10:50.710 ******* 
changed: [bastion.r566w.internal]

TASK [Gzip ROSA install log] ***************************************************
Thursday 07 August 2025  11:11:06 +0000 (0:00:06.304)       1:10:57.014 ******* 
changed: [bastion.r566w.internal]

TASK [Get ROSA install log and save in output dir] *****************************
Thursday 07 August 2025  11:11:11 +0000 (0:00:05.259)       1:11:02.273 ******* 
changed: [bastion.r566w.internal]

TASK [Save output_dir archive] *************************************************
Thursday 07 August 2025  11:11:18 +0000 (0:00:07.161)       1:11:09.434 ******* 

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Thursday 07 August 2025  11:11:18 +0000 (0:00:00.051)       1:11:09.486 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/save-output-dir.yml for bastion.r566w.internal

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Thursday 07 August 2025  11:11:18 +0000 (0:00:00.031)       1:11:09.518 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/create-output-dir-archive.yml for bastion.r566w.internal

TASK [agnosticd_save_output_dir : Create tempfile for archive] *****************
Thursday 07 August 2025  11:11:18 +0000 (0:00:00.028)       1:11:09.546 ******* 
changed: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Set agnosticd_save_output_dir_archive_tempfile] ***
Thursday 07 August 2025  11:11:18 +0000 (0:00:00.170)       1:11:09.717 ******* 
ok: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Create output_dir archive] *******************
Thursday 07 August 2025  11:11:18 +0000 (0:00:00.027)       1:11:09.744 ******* 
changed: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Encrypt tarball using password] **************
Thursday 07 August 2025  11:11:21 +0000 (0:00:02.605)       1:11:12.350 ******* 
skipping: [bastion.r566w.internal]

TASK [agnosticd_save_output_dir : Upload output_dir archive to S3] *************
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.026)       1:11:12.376 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3.yml for bastion.r566w.internal

TASK [Run infra-cloud-tags role] ***********************************************
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.035)       1:11:12.412 ******* 

TASK [infra-cloud-tags : Set cloud_tags_final (string)] ************************
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.045)       1:11:12.458 ******* 
skipping: [bastion.r566w.internal]

TASK [infra-cloud-tags : Set cloud_tags_final (dictionary)] ********************
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.035)       1:11:12.493 ******* 
ok: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.047)       1:11:12.541 ******* 
included: /runner/project/ansible/roles/agnosticd_save_output_dir/tasks/upload-archive-s3-s3_object.yml for bastion.r566w.internal

TASK [agnosticd_save_output_dir : Save output_dir archive to AWS S3] ***********
Thursday 07 August 2025  11:11:21 +0000 (0:00:00.051)       1:11:12.593 ******* 
changed: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir archive tempfile] **********
Thursday 07 August 2025  11:11:24 +0000 (0:00:02.487)       1:11:15.080 ******* 
changed: [bastion.r566w.internal -> localhost]

TASK [agnosticd_save_output_dir : Remove output_dir encrypted archive tempfile] ***
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.197)       1:11:15.278 ******* 
skipping: [bastion.r566w.internal]

TASK [agnosticd_save_output_dir : Save output dir if archive file is defined] ***
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.025)       1:11:15.304 ******* 
skipping: [bastion.r566w.internal]

TASK [Install OpenShift CLI] ***************************************************
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.026)       1:11:15.330 ******* 
included: /runner/project/ansible/configs/rosa-consolidated/install_ocp_cli.yml for bastion.r566w.internal

TASK [Make sure OCP CLI version is set] ****************************************
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.020)       1:11:15.350 ******* 
skipping: [bastion.r566w.internal]

TASK [Set URL for specific OpenShift Client] ***********************************
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.022)       1:11:15.373 ******* 
ok: [bastion.r566w.internal]

TASK [Set URL for latest OpenShift Client] *************************************
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.021)       1:11:15.395 ******* 
skipping: [bastion.r566w.internal]

TASK [Get the OpenShift CLI] ***************************************************
Thursday 07 August 2025  11:11:24 +0000 (0:00:00.018)       1:11:15.413 ******* 
changed: [bastion.r566w.internal]

TASK [Create OpenShift Bash completion file] ***********************************
Thursday 07 August 2025  11:17:48 +0000 (0:06:24.223)       1:17:39.637 ******* 
changed: [bastion.r566w.internal]

TASK [Set ROSA token warning boolean true] *************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:05.257)       1:17:44.894 ******* 
ok: [bastion.r566w.internal]

TASK [Set ROSA token warning boolean false] ************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.029)       1:17:44.924 ******* 
skipping: [bastion.r566w.internal]

TASK [Save ROSA user data] *****************************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.025)       1:17:44.949 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "data": {
        "bastion_public_hostname": "bastion.r566w.sandbox525.opentlc.com",
        "bastion_ssh_password": "[REDACTED_Secret Keyword_SECRET]",
        "bastion_ssh_user_name": "rosa",
        "guid": "r566w",
        "rosa_subdomain_base": "r566w.sandbox525.opentlc.com",
        "rosa_token_warning": true,
        "ssh_command": "ssh rosa@bastion.r566w.sandbox525.opentlc.com",
        "ssh_password": "[REDACTED_Secret Keyword_SECRET]",
        "ssh_username": "rosa",
        "targethost": "bastion.r566w.sandbox525.opentlc.com"
    }
}

TASK [Save ROSA user data when ROSA has been installed] ************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.032)       1:17:44.982 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "data": {
        "rosa_deploy_hcp": true,
        "rosa_openshift_api_url": "https://api.rosa-r566w.2nc1.p3.openshiftapps.com:443",
        "rosa_openshift_console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "rosa_version": "4.17.36",
        "rosa_version_next": "none"
    }
}

TASK [Save ROSA admin user data when ROSA has been installed with admin user] ***
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.038)       1:17:45.020 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "data": {
        "rosa_openshift_admin_password": "[REDACTED_Secret Keyword_SECRET]",
        "rosa_openshift_admin_user": "cluster-admin"
    }
}

PLAY [Software Playbook NONE] **************************************************

TASK [Print Software (none) message] *******************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.058)       1:17:45.079 ******* 
ok: [localhost] => {
    "msg": "Included software playbook for: none [dummy only]"
}

TASK [Check for hosts_template file] *******************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.014)       1:17:45.093 ******* 
ok: [localhost]

TASK [Generate ansible hosts file] *********************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.151)       1:17:45.245 ******* 
skipping: [localhost]

PLAY [Step 00xxxxx bastion preparation for deployment] *************************

TASK [Ensure directory /etc/ansible exists] ************************************
Thursday 07 August 2025  11:17:54 +0000 (0:00:00.047)       1:17:45.292 ******* 
changed: [bastion.r566w.internal]

TASK [Copy over ansible hosts file] ********************************************
Thursday 07 August 2025  11:17:59 +0000 (0:00:04.840)       1:17:50.132 ******* 
skipping: [bastion.r566w.internal]

PLAY [Step 005 Post Software] **************************************************

TASK [Post-software steps message] *********************************************
Thursday 07 August 2025  11:17:59 +0000 (0:00:00.045)       1:17:50.178 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Post-Software Steps starting"
}

PLAY [Install workloads] *******************************************************

TASK [Check that cluster admin has been created and logged in] *****************
Thursday 07 August 2025  11:17:59 +0000 (0:00:00.042)       1:17:50.220 ******* 
ok: [bastion.r566w.internal]

TASK [Check if virtualenv is already installed] ********************************
Thursday 07 August 2025  11:17:59 +0000 (0:00:00.025)       1:17:50.246 ******* 
ok: [bastion.r566w.internal]

TASK [Fail if no virtualenv exists] ********************************************
Thursday 07 August 2025  11:18:04 +0000 (0:00:04.816)       1:17:55.062 ******* 
ok: [bastion.r566w.internal]

TASK [Set ansible python interpreter to k8s virtualenv] ************************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.025)       1:17:55.088 ******* 
ok: [bastion.r566w.internal]

TASK [Install OpenShift infra workloads] ***************************************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.022)       1:17:55.111 ******* 

TASK [ocp4_workload_rosa_machinepool : Running Pre Workload Tasks] *************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.144)       1:17:55.255 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_rosa_machinepool/tasks/./pre_workload.yml for bastion.r566w.internal

TASK [ocp4_workload_rosa_machinepool : Pre_workload tasks complete] ************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.047)       1:17:55.302 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_rosa_machinepool : Pre_workload tasks complete] ************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.036)       1:17:55.338 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_rosa_machinepool : Running Workload Tasks] *****************
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.027)       1:17:55.366 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_rosa_machinepool/tasks/./workload.yml for bastion.r566w.internal

TASK [ocp4_workload_rosa_machinepool : Setting up workload for user] ***********
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.035)       1:17:55.401 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Setting up workload for user ocp_username = cluster-admin"
}

TASK [ocp4_workload_rosa_machinepool : ansible.builtin.include_tasks] **********
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.026)       1:17:55.428 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_rosa_machinepool/tasks/add_metal_node.yml for bastion.r566w.internal => (item=i3.metal)

TASK [ocp4_workload_rosa_machinepool : Reset metal node creation failed] *******
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.047)       1:17:55.475 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_rosa_machinepool : Create ROSA Metal Machinepool] **********
Thursday 07 August 2025  11:18:04 +0000 (0:00:00.029)       1:17:55.505 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_rosa_machinepool : Wait for Machine status] ****************
Thursday 07 August 2025  11:18:35 +0000 (0:00:30.399)       1:18:25.905 ******* 
skipping: [bastion.r566w.internal] => (item=0) 
skipping: [bastion.r566w.internal] => (item=1) 
skipping: [bastion.r566w.internal] => (item=2) 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_rosa_machinepool : Wait for Nodes to be available] *********
Thursday 07 August 2025  11:18:35 +0000 (0:00:00.058)       1:18:25.963 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (50 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (49 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (48 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (47 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (46 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (45 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (44 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (43 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (42 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (41 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (40 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (39 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (38 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (37 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (36 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (35 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (34 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (33 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (32 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (31 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (30 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (29 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (28 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (27 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (26 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (25 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (24 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (23 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (22 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (21 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (20 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (19 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (18 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for Nodes to be available (17 retries left).
[WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found:
_r_node_status.resources.{{_inner_loop_index |int }}.status.conditions |
json_query(_query) | join
ok: [bastion.r566w.internal] => (item=0)
ok: [bastion.r566w.internal] => (item=1)
ok: [bastion.r566w.internal] => (item=2)

TASK [ocp4_workload_rosa_machinepool : workload tasks complete] ****************
Thursday 07 August 2025  11:39:37 +0000 (0:21:02.549)       1:39:28.512 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Workload Tasks completed successfully."
}

TASK [ocp4_workload_rosa_machinepool : Running Post Workload Tasks] ************
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.027)       1:39:28.539 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_rosa_machinepool/tasks/./post_workload.yml for bastion.r566w.internal

TASK [ocp4_workload_rosa_machinepool : Post_workload tasks complete] ***********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.031)       1:39:28.571 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Post-Workload tasks completed successfully."
}

TASK [ocp4_workload_rosa_machinepool : Post_workload tasks complete] ***********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.026)       1:39:28.598 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_rosa_machinepool : Running Workload removal Tasks] *********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.022)       1:39:28.621 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Running Pre Workload Tasks] **********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.034)       1:39:28.655 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication_rosa/tasks/./pre_workload.yml for bastion.r566w.internal

TASK [ocp4_workload_authentication_rosa : Pre_workload tasks complete] *********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.038)       1:39:28.694 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_authentication_rosa : Running Workload Tasks] **************
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.029)       1:39:28.724 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication_rosa/tasks/./workload.yml for bastion.r566w.internal

TASK [ocp4_workload_authentication_rosa : Get OpenShift Console URL] ***********
Thursday 07 August 2025  11:39:37 +0000 (0:00:00.051)       1:39:28.775 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Get OpenShift API URL] ***************
Thursday 07 August 2025  11:39:45 +0000 (0:00:07.856)       1:39:36.631 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Set URL facts] ***********************
Thursday 07 August 2025  11:39:53 +0000 (0:00:07.644)       1:39:44.275 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Generate random passwords] ***********
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.026)       1:39:44.302 ******* 
skipping: [bastion.r566w.internal] => (item=0) 
skipping: [bastion.r566w.internal] => (item=1) 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Print user credentials (randomized)] ***
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.034)       1:39:44.336 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Generate common user password] *******
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.022)       1:39:44.359 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Use provided user password] **********
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.023)       1:39:44.383 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Generate user passwords array for common password] ***
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.027)       1:39:44.411 ******* 
ok: [bastion.r566w.internal] => (item=0)
ok: [bastion.r566w.internal] => (item=1)

TASK [ocp4_workload_authentication_rosa : Print user credentials (not randomized)] ***
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.066)       1:39:44.477 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "2 users will be created: 'user1' .. 'user2' with password 'openshift@1'"
}

TASK [ocp4_workload_authentication_rosa : Check if Cognito pool already exists] ***
Thursday 07 August 2025  11:39:53 +0000 (0:00:00.033)       1:39:44.511 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Get existing Cognito user pool id] ***
Thursday 07 August 2025  11:40:01 +0000 (0:00:07.647)       1:39:52.158 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Delete existing Cognito user pool domain] ***
Thursday 07 August 2025  11:40:01 +0000 (0:00:00.027)       1:39:52.185 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Delete existing Cognito user pool] ***
Thursday 07 August 2025  11:40:01 +0000 (0:00:00.032)       1:39:52.218 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Delete existing ROSA IDP configuration] ***
Thursday 07 August 2025  11:40:01 +0000 (0:00:00.028)       1:39:52.247 ******* 
fatal: [bastion.r566w.internal]: FAILED! => {"changed": false, "cmd": ["rosa", "delete", "idp", "Cognito", "--cluster=rosa-r566w", "--yes"], "delta": "0:00:03.377292", "end": "2025-08-07 11:40:09.443714", "msg": "non-zero return code", "rc": 1, "start": "2025-08-07 11:40:06.066422", "stderr": "ERR: Failed to get identity provider 'Cognito' for cluster 'rosa-r566w'", "stderr_lines": ["ERR: Failed to get identity provider 'Cognito' for cluster 'rosa-r566w'"], "stdout": "", "stdout_lines": []}
...ignoring

TASK [ocp4_workload_authentication_rosa : Create Cognito user pool] ************
Thursday 07 August 2025  11:40:10 +0000 (0:00:08.664)       1:40:00.911 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Get Cognito Pool ID] *****************
Thursday 07 August 2025  11:40:19 +0000 (0:00:09.018)       1:40:09.930 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Set fact _ocp4_workload_authentication_rosa_aws_user_pool_id] ***
Thursday 07 August 2025  11:40:27 +0000 (0:00:08.354)       1:40:18.284 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Create Cognito user pool domain] *****
Thursday 07 August 2025  11:40:27 +0000 (0:00:00.025)       1:40:18.310 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Add users to Cognito user pool] ******
Thursday 07 August 2025  11:40:36 +0000 (0:00:09.255)       1:40:27.565 ******* 
changed: [bastion.r566w.internal] => (item=0)
changed: [bastion.r566w.internal] => (item=1)

TASK [ocp4_workload_authentication_rosa : Set permanent passwords] *************
Thursday 07 August 2025  11:40:53 +0000 (0:00:16.800)       1:40:44.366 ******* 
changed: [bastion.r566w.internal] => (item=0)
changed: [bastion.r566w.internal] => (item=1)

TASK [ocp4_workload_authentication_rosa : Get cluster domain] ******************
Thursday 07 August 2025  11:41:09 +0000 (0:00:15.527)       1:40:59.894 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Determine if the cluster is using a Hosted Control Plane] ***
Thursday 07 August 2025  11:41:18 +0000 (0:00:08.949)       1:41:08.843 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Set callback URL for Classic Clusters] ***
Thursday 07 August 2025  11:41:25 +0000 (0:00:07.350)       1:41:16.194 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Set callback URL for Clusters with Hosted Control Plane] ***
Thursday 07 August 2025  11:41:25 +0000 (0:00:00.022)       1:41:16.216 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Greate Cognito user pool client] *****
Thursday 07 August 2025  11:41:25 +0000 (0:00:00.025)       1:41:16.242 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Get Cognito user pool client id] *****
Thursday 07 August 2025  11:41:33 +0000 (0:00:08.160)       1:41:24.402 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Get Cognito user pool client secret] ***
Thursday 07 August 2025  11:41:41 +0000 (0:00:08.220)       1:41:32.623 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Setup ROSA authentication to use AWS Cognito] ***
Thursday 07 August 2025  11:41:50 +0000 (0:00:08.606)       1:41:41.229 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Use provided admin password] *********
Thursday 07 August 2025  11:42:00 +0000 (0:00:09.687)       1:41:50.917 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Generate cluster admin password] *****
Thursday 07 August 2025  11:42:00 +0000 (0:00:00.030)       1:41:50.948 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Print admin credentials] *************
Thursday 07 August 2025  11:42:00 +0000 (0:00:00.024)       1:41:50.972 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Cognito Admin user 'admin' will be created with password 'openshift@1'."
}

TASK [ocp4_workload_authentication_rosa : Create Cognito admin user] ***********
Thursday 07 August 2025  11:42:00 +0000 (0:00:00.026)       1:41:50.999 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Set permanent admin password] ********
Thursday 07 August 2025  11:42:08 +0000 (0:00:08.662)       1:41:59.662 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Add admin to cluster admin role] *****
Thursday 07 August 2025  11:42:16 +0000 (0:00:08.028)       1:42:07.690 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : save admin user info] ****************
Thursday 07 August 2025  11:42:23 +0000 (0:00:07.141)       1:42:14.831 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "data": {
        "openshift_cluster_admin_password": "[REDACTED_Secret Keyword_SECRET]",
        "openshift_cluster_admin_username": "admin"
    }
}

TASK [ocp4_workload_authentication_rosa : Save common user and cluster admin information] ***
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.035)       1:42:14.867 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "data": {
        "openshift_api_server_url": "https://api.rosa-r566w.2nc1.p3.openshiftapps.com:443",
        "openshift_cluster_console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "openshift_cluster_num_users": 2,
        "openshift_cluster_user_base": "user",
        "openshift_cluster_user_count": 2
    }
}

TASK [ocp4_workload_authentication_rosa : Save user name for single user configuration] ***
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.037)       1:42:14.904 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_authentication_rosa : Save user information] ***************
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.023)       1:42:14.928 ******* 
ok: [bastion.r566w.internal] => (item=0) => {
    "ansible_loop_var": "n",
    "changed": false,
    "data": {
        "console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "openshift_console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "password": "[REDACTED_Secret Keyword_SECRET]",
        "user": "user1"
    },
    "n": 0,
    "user": "user1"
}
ok: [bastion.r566w.internal] => (item=1) => {
    "ansible_loop_var": "n",
    "changed": false,
    "data": {
        "console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "openshift_console_url": "https://console-openshift-console.apps.rosa.rosa-r566w.2nc1.p3.openshiftapps.com",
        "password": "[REDACTED_Secret Keyword_SECRET]",
        "user": "user2"
    },
    "n": 1,
    "user": "user2"
}

TASK [ocp4_workload_authentication_rosa : Print common user information messages] ***
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.092)       1:42:15.020 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "msg": "user.info: Authentication via `Cognito` is enabled on this cluster.User `admin` with password `openshift@1` is cluster admin.Users `user1` .. `user2` created with randomized passwords. Refer to the lab instructions for individual passwords."
}

TASK [ocp4_workload_authentication_rosa : Running Post Workload Tasks] *********
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.038)       1:42:15.059 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_authentication_rosa/tasks/./post_workload.yml for bastion.r566w.internal

TASK [ocp4_workload_authentication_rosa : Post_workload tasks complete] ********
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.045)       1:42:15.104 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Post-Workload Tasks completed successfully."
}

TASK [ocp4_workload_authentication_rosa : Running Workload removal Tasks] ******
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.027)       1:42:15.131 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Running Pre Workload Tasks] ****
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.026)       1:42:15.158 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_openshift_data_foundation/tasks/./pre_workload.yml for bastion.r566w.internal

TASK [ocp4_workload_openshift_data_foundation : Pre_workload tasks complete] ***
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.031)       1:42:15.189 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Pre-Workload tasks completed successfully."
}

TASK [ocp4_workload_openshift_data_foundation : Pre_workload tasks complete] ***
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.029)       1:42:15.219 ******* 
skipping: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Running Workload Tasks] ********
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.031)       1:42:15.250 ******* 
included: /runner/project/ansible/roles_ocp_workloads/ocp4_workload_openshift_data_foundation/tasks/./workload.yml for bastion.r566w.internal

TASK [ocp4_workload_openshift_data_foundation : Setting up workload] ***********
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.051)       1:42:15.302 ******* 
ok: [bastion.r566w.internal] => {
    "msg": "Setting up OpenShift Data Foundation"
}

TASK [ocp4_workload_openshift_data_foundation : Define label_selector list] ****
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.026)       1:42:15.329 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Add to label_selector list] ****
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.024)       1:42:15.354 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Discovering worker nodes] ******
Thursday 07 August 2025  11:42:24 +0000 (0:00:00.030)       1:42:15.384 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Fail for less than 3 worker nodes] ***
Thursday 07 August 2025  11:42:31 +0000 (0:00:07.211)       1:42:22.595 ******* 
ok: [bastion.r566w.internal] => {
    "changed": false,
    "msg": "More than 3 worker nodes. Continuing."
}

TASK [ocp4_workload_openshift_data_foundation : Set variables] *****************
Thursday 07 August 2025  11:42:31 +0000 (0:00:00.027)       1:42:22.623 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Adding Ceph labels to worker nodes] ***
Thursday 07 August 2025  11:42:31 +0000 (0:00:00.034)       1:42:22.657 ******* 
changed: [bastion.r566w.internal] => (item=ip-10-0-0-175.ap-southeast-1.compute.internal)
changed: [bastion.r566w.internal] => (item=ip-10-0-0-61.ap-southeast-1.compute.internal)
changed: [bastion.r566w.internal] => (item=ip-10-0-0-75.ap-southeast-1.compute.internal)

TASK [ocp4_workload_openshift_data_foundation : Create namespace openshift-storage] ***
Thursday 07 August 2025  11:42:53 +0000 (0:00:22.158)       1:42:44.815 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Create CatalogSource] **********
Thursday 07 August 2025  11:43:00 +0000 (0:00:06.870)       1:42:51.686 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Create OperatorGroup] **********
Thursday 07 August 2025  11:43:07 +0000 (0:00:06.814)       1:42:58.500 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Create operator subscription] ***
Thursday 07 August 2025  11:43:15 +0000 (0:00:08.091)       1:43:06.592 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Wait for the CRD storagesystems to become available] ***
Thursday 07 August 2025  11:43:22 +0000 (0:00:06.793)       1:43:13.386 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (200 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (199 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (198 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (197 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (196 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (195 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (194 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (193 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (192 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (191 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (190 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (189 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (188 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (187 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagesystems to become available (186 retries left).
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Wait for the CRD storagecluster to become available] ***
Thursday 07 August 2025  11:47:39 +0000 (0:04:16.540)       1:47:29.926 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagecluster to become available (200 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagecluster to become available (199 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the CRD storagecluster to become available (198 retries left).
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Wait for the console plugin to become available] ***
Thursday 07 August 2025  11:48:34 +0000 (0:00:55.650)       1:48:25.577 ******* 
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the console plugin to become available (200 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the console plugin to become available (199 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the console plugin to become available (198 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the console plugin to become available (197 retries left).
FAILED - RETRYING: [bastion.r566w.internal]: Wait for the console plugin to become available (196 retries left).
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Enable ODF console plugin] *****
Thursday 07 August 2025  11:50:04 +0000 (0:01:29.666)       1:49:55.244 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Create the ODF StorageCluster] ***
Thursday 07 August 2025  11:50:10 +0000 (0:00:06.140)       1:50:01.385 ******* 
changed: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Create the ODF StorageSystem] ***
Thursday 07 August 2025  11:50:16 +0000 (0:00:06.061)       1:50:07.446 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Wait for ODF Storage System to finish deploying] ***
Thursday 07 August 2025  11:50:23 +0000 (0:00:06.755)       1:50:14.201 ******* 
ok: [bastion.r566w.internal]

TASK [ocp4_workload_openshift_data_foundation : Wait for ODF Storage Cluster to finish deploying] ***
Thursday 07 August 2025  11:55:50 +0000 (0:05:26.909)       1:55:41.111 ******* 
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible_collections.kubernetes.core.plugins.module_utils.k8s.exceptions.CoreException: Failed to gather information about StorageCluster(s) even after waiting for 1202 seconds
fatal: [bastion.r566w.internal]: FAILED! => {"changed": false, "msg": "Failed to gather information about StorageCluster(s) even after waiting for 1202 seconds"}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.r566w.internal     : ok=207  changed=106  unreachable=0    failed=1    skipped=75   rescued=0    ignored=1   
localhost                  : ok=104  changed=25   unreachable=0    failed=0    skipped=69   rescued=0    ignored=1   
Thursday 07 August 2025  12:15:58 +0000 (0:20:08.557)       2:15:49.669 ******* 
=============================================================================== 
Wait for ROSA HCP installer completion ------------------------------- 1882.41s
ocp4_workload_rosa_machinepool : Wait for Nodes to be available ------ 1262.55s
ocp4_workload_openshift_data_foundation : Wait for ODF Storage Cluster to finish deploying  1208.56s
Wait for ROSA HCP console URL to be available ------------------------- 425.74s
common : install common packages for RHEL 9 --------------------------- 387.58s
Get the OpenShift CLI ------------------------------------------------- 384.22s
ocp4_workload_openshift_data_foundation : Wait for ODF Storage System to finish deploying - 326.91s
ocp4_workload_openshift_data_foundation : Wait for the CRD storagesystems to become available - 256.54s
Get ROSA CLI ---------------------------------------------------------- 205.00s
infra-ec2-template-create : Launch CloudFormation template (local) ---- 177.77s
host_virtualenv : Install requirements in virtualenv ------------------ 140.51s
Run terraform apply --------------------------------------------------- 126.71s
Init AWS account for ROSA ---------------------------------------------- 90.94s
ocp4_workload_openshift_data_foundation : Wait for the console plugin to become available -- 89.67s
Create ROSA HCP Cluster ------------------------------------------------ 72.56s
Save Terraform directory ----------------------------------------------- 58.66s
ocp4_workload_openshift_data_foundation : Wait for the CRD storagecluster to become available -- 55.65s
host_virtualenv : Install virtualenv package prerequisites ------------- 54.06s
ocp4_workload_rosa_machinepool : Create ROSA Metal Machinepool --------- 30.40s
ssh_authorized_keys : Add all authorized keys -------------------------- 28.57s
