[DEPRECATION WARNING]: ANSIBLE_COLLECTIONS_PATHS option. Reason: does not fit 
var naming standard, use the singular form ANSIBLE_COLLECTIONS_PATH instead 
Alternatives: none. This feature will be removed in version 2.19. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.007)       0:00:00.007 ******** 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.015)       0:00:00.023 ******** 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.011)       0:00:00.034 ******** 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.013)       0:00:00.047 ******** 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.011)       0:00:00.059 ******** 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.257)       0:00:00.317 ******** 
included: agnosticd_restore_output_dir for localhost

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.017)       0:00:00.334 ******** 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.029)       0:00:00.364 ******** 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Tuesday 05 August 2025  00:40:08 +0000 (0:00:00.042)       0:00:00.406 ******** 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Tuesday 05 August 2025  00:40:09 +0000 (0:00:00.968)       0:00:01.375 ******** 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Tuesday 05 August 2025  00:40:09 +0000 (0:00:00.013)       0:00:01.389 ******** 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Tuesday 05 August 2025  00:40:09 +0000 (0:00:00.523)       0:00:01.912 ******** 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Tuesday 05 August 2025  00:40:10 +0000 (0:00:00.151)       0:00:02.063 ******** 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Tuesday 05 August 2025  00:40:10 +0000 (0:00:00.147)       0:00:02.211 ******** 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Tuesday 05 August 2025  00:40:10 +0000 (0:00:00.310)       0:00:02.521 ******** 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.626)       0:00:03.148 ******** 
ok: [localhost] => (item=user-info.yaml)
ok: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.317)       0:00:03.465 ******** 
ok: [localhost]

TASK [Include variables files] *************************************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.015)       0:00:03.481 ******** 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.070)       0:00:03.551 ******** 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.014)       0:00:03.566 ******** 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.016)       0:00:03.582 ******** 
ok: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.025)       0:00:03.608 ******** 
ok: [localhost]

TASK [Use requirements_path from the config] ***********************************
Tuesday 05 August 2025  00:40:11 +0000 (0:00:00.292)       0:00:03.901 ******** 
skipping: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.024)       0:00:03.925 ******** 
ok: [localhost]

TASK [set_fact] ****************************************************************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.163)       0:00:04.088 ******** 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.026)       0:00:04.115 ******** 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.530)       0:00:04.645 ******** 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.031)       0:00:04.677 ******** 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Tuesday 05 August 2025  00:40:12 +0000 (0:00:00.032)       0:00:04.710 ******** 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Tuesday 05 August 2025  00:40:13 +0000 (0:00:00.447)       0:00:05.157 ******** 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Tuesday 05 August 2025  00:40:13 +0000 (0:00:00.248)       0:00:05.406 ******** 
[WARNING]: skipping installation of kubernetes.core==2.4.0 ;
kubernetes.core==5.2.0 already installed in EE
[WARNING]: skipping installation of amazon.aws==2.3.0 ; amazon.aws==9.4.0
already installed in EE
[WARNING]: skipping installation of community.general==6.4.0 ;
community.general==10.5.0 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.1 ; ansible.posix==2.0.0
already installed in EE
[WARNING]: skipping installation of community.crypto==2.11.0 ;
community.crypto==2.26.0 already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Tuesday 05 August 2025  00:40:13 +0000 (0:00:00.309)       0:00:05.716 ******** 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.436)       0:00:06.153 ******** 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.151)       0:00:06.304 ******** 
included: agnosticd_dynamic for localhost

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.018)       0:00:06.322 ******** 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.303)       0:00:06.626 ******** 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.027)       0:00:06.653 ******** 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.023)       0:00:06.676 ******** 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.010)       0:00:06.687 ******** 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.015)       0:00:06.702 ******** 
skipping: [localhost] => (item=us-east-2) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.028)       0:00:06.731 ******** 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.032)       0:00:06.764 ******** 
ok: [localhost]

PLAY [Destroy environment on AWS] **********************************************

TASK [Get fact for cloudformation stack] ***************************************
Tuesday 05 August 2025  00:40:14 +0000 (0:00:00.022)       0:00:06.787 ******** 
ok: [localhost]

TASK [Grab and set stack creation time] ****************************************
Tuesday 05 August 2025  00:40:15 +0000 (0:00:00.572)       0:00:07.359 ******** 
ok: [localhost]

TASK [Run infra-ec2-create-inventory role] *************************************
Tuesday 05 August 2025  00:40:15 +0000 (0:00:00.032)       0:00:07.392 ******** 
included: infra-ec2-create-inventory for localhost

TASK [infra-ec2-create-inventory : Report aws region] **************************
Tuesday 05 August 2025  00:40:15 +0000 (0:00:00.016)       0:00:07.408 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Tuesday 05 August 2025  00:40:15 +0000 (0:00:00.025)       0:00:07.433 ******** 
[WARNING]: Both option access_key and its alias aws_access_key are set.
[WARNING]: Both option secret_key and its alias aws_secret_key are set.
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.811)       0:00:08.244 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.031)       0:00:08.276 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.029)       0:00:08.305 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of hosts] ****
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.028)       0:00:08.334 ******** 
ok: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.033)       0:00:08.367 ******** 
changed: [localhost] => (item=bastion.m855m.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.049)       0:00:08.417 ******** 
changed: [localhost] => (item=bastion.m855m.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.034)       0:00:08.452 ******** 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.025)       0:00:08.477 ******** 
skipping: [localhost]

TASK [Create local ssh provision facts (key already exists)] *******************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.025)       0:00:08.503 ******** 
included: create_ssh_provision_key for localhost

TASK [create_ssh_provision_key : include_tasks] ********************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.031)       0:00:08.534 ******** 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.014)       0:00:08.548 ******** 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.034)       0:00:08.582 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.160)       0:00:08.743 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Tuesday 05 August 2025  00:40:16 +0000 (0:00:00.171)       0:00:08.914 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.167)       0:00:09.082 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.029)       0:00:09.112 ******** 
ok: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.284)       0:00:09.396 ******** 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.023)       0:00:09.420 ******** 
skipping: [localhost]

TASK [SSH config setup] ********************************************************
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.013)       0:00:09.433 ******** 
included: infra-common-ssh-config-generate for localhost

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.042)       0:00:09.476 ******** 
[WARNING]: Found variable using reserved name: remote_user
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.031)       0:00:09.508 ******** 
ok: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.173)       0:00:09.682 ******** 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Tuesday 05 August 2025  00:40:17 +0000 (0:00:00.192)       0:00:09.874 ******** 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Tuesday 05 August 2025  00:40:18 +0000 (0:00:00.169)       0:00:10.044 ******** 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Tuesday 05 August 2025  00:40:18 +0000 (0:00:00.252)       0:00:10.296 ******** 
skipping: [localhost] => (item=bastion.m855m.internal) 
skipping: [localhost]

PLAY [Set ssh extra args for all hosts, use ssh_config just created] ***********

TASK [add -F option ansible_ssh_extra_args] ************************************
Tuesday 05 August 2025  00:40:18 +0000 (0:00:00.016)       0:00:10.313 ******** 
ok: [bastion.m855m.internal]

PLAY [Start all EC2 instances if they are stopped] *****************************

TASK [ansible.builtin.include_tasks] *******************************************
Tuesday 05 August 2025  00:40:18 +0000 (0:00:00.032)       0:00:10.346 ******** 
included: /runner/project/ansible/configs/ocp4-cluster/ec2_instances_start.yaml for localhost

TASK [Get all EC2 instances] ***************************************************
Tuesday 05 August 2025  00:40:18 +0000 (0:00:00.010)       0:00:10.357 ******** 
ok: [localhost]

TASK [Ensure EC2 instances are running] ****************************************
Tuesday 05 August 2025  00:40:19 +0000 (0:00:00.585)       0:00:10.942 ******** 
skipping: [localhost]

TASK [Wait until all EC2 instances are running] ********************************
Tuesday 05 August 2025  00:40:19 +0000 (0:00:00.008)       0:00:10.951 ******** 
skipping: [localhost]

PLAY [Remove workloads] ********************************************************

TASK [Remove ocp workloads] ****************************************************
Tuesday 05 August 2025  00:40:19 +0000 (0:00:00.026)       0:00:10.977 ******** 
skipping: [localhost]

PLAY [Remove workloads] ********************************************************

TASK [Check if k8s interpreter venv is installed] ******************************
Tuesday 05 August 2025  00:40:19 +0000 (0:00:00.024)       0:00:11.002 ******** 
[WARNING]: No python interpreters found for host bastion.m855m.internal (tried
['python3.13', 'python3.12', 'python3.11', 'python3.10', 'python3.9',
'python3.8', '/usr/bin/python3', 'python3'])
fatal: [bastion.m855m.internal]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3"}, "changed": false, "module_stderr": "Shared connection to ec2-3-135-126-5.us-east-2.compute.amazonaws.com closed.\\r\\n", "module_stdout": "/bin/sh: /usr/bin/python3: No such file or directory\\r\\n", "msg": "The module failed to execute correctly, you probably need to set the interpreter.\\nSee stdout/stderr for the exact error", "rc": 127}

PLAY RECAP *********************************************************************
bastion.m855m.internal     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
localhost                  : ok=54   changed=17   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1   

TASKS RECAP ********************************************************************
Tuesday 05 August 2025  00:40:19 +0000 (0:00:00.419)       0:00:11.422 ******** 
=============================================================================== 
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 0.97s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 0.81s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.63s
Get all EC2 instances --------------------------------------------------- 0.59s
Get fact for cloudformation stack --------------------------------------- 0.57s
Install roles from requirements.yml ------------------------------------- 0.53s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 0.52s
Get the list of installed collections (EE) ------------------------------ 0.45s
Install collections from requirements.yml (EE) -------------------------- 0.44s
Check if k8s interpreter venv is installed ------------------------------ 0.42s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.32s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.31s
Rewrite requirements, filter out installed collections (EE) ------------- 0.31s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.30s
Copy requirements content to output_dir --------------------------------- 0.29s
create_ssh_provision_key : Write SSH pub key ---------------------------- 0.28s
Create output_dir if it does not exists --------------------------------- 0.26s
infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file --- 0.25s
Create temporary file for requirements.yml (EE) ------------------------- 0.25s
infra-common-ssh-config-generate : delete local ssh config, start fresh --- 0.19s
