Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.012)       0:00:00.012 ******* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.031)       0:00:00.044 ******* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.017)       0:00:00.061 ******* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.025)       0:00:00.087 ******* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.017)       0:00:00.105 ******* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.292)       0:00:00.397 ******* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Thursday 07 August 2025  15:20:30 +0000 (0:00:00.045)       0:00:00.442 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  15:20:31 +0000 (0:00:00.048)       0:00:00.490 ******* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Thursday 07 August 2025  15:20:31 +0000 (0:00:00.070)       0:00:00.561 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Thursday 07 August 2025  15:20:32 +0000 (0:00:01.089)       0:00:01.650 ******* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Thursday 07 August 2025  15:20:32 +0000 (0:00:00.020)       0:00:01.670 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Thursday 07 August 2025  15:20:32 +0000 (0:00:00.614)       0:00:02.284 ******* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Thursday 07 August 2025  15:20:32 +0000 (0:00:00.163)       0:00:02.448 ******* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Thursday 07 August 2025  15:20:33 +0000 (0:00:00.156)       0:00:02.604 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Thursday 07 August 2025  15:20:33 +0000 (0:00:00.347)       0:00:02.951 ******* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.687)       0:00:03.639 ******* 
ok: [localhost] => (item=user-info.yaml)
ok: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.333)       0:00:03.973 ******* 
ok: [localhost]

TASK [Include variables files] *************************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.022)       0:00:03.996 ******* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/ocp4-cluster/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.077)       0:00:04.073 ******* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.018)       0:00:04.091 ******* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.030)       0:00:04.122 ******* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.033)       0:00:04.156 ******* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.040)       0:00:04.197 ******* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.044)       0:00:04.241 ******* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.149)       0:00:04.391 ******* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Thursday 07 August 2025  15:20:34 +0000 (0:00:00.035)       0:00:04.427 ******* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Thursday 07 August 2025  15:20:35 +0000 (0:00:00.912)       0:00:05.340 ******* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Thursday 07 August 2025  15:20:35 +0000 (0:00:00.076)       0:00:05.416 ******* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Thursday 07 August 2025  15:20:36 +0000 (0:00:00.072)       0:00:05.489 ******* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Thursday 07 August 2025  15:20:36 +0000 (0:00:00.531)       0:00:06.020 ******* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Thursday 07 August 2025  15:20:36 +0000 (0:00:00.244)       0:00:06.265 ******* 
[WARNING]: skipping installation of community.general==9.2.0 ;
community.general==7.2.1 already installed in EE
[WARNING]: skipping installation of community.crypto==2.21.1 ;
community.crypto==2.14.1 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of kubernetes.core==5.0.0 ;
kubernetes.core==2.4.0 already installed in EE
[WARNING]: skipping installation of amazon.aws==8.1.0 ; amazon.aws==6.2.0
already installed in EE
[WARNING]: skipping installation of community.vmware==4.5.0 ;
community.vmware==3.8.0 already installed in EE
[WARNING]: skipping installation of google.cloud==1.3.0 ; google.cloud==1.2.0
already installed in EE
[WARNING]: skipping installation of openstack.cloud==2.2.0 ;
openstack.cloud==2.1.0 already installed in EE
[WARNING]: skipping installation of community.okd==4.0.0 ; community.okd==2.3.0
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Thursday 07 August 2025  15:20:37 +0000 (0:00:00.326)       0:00:06.592 ******* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Thursday 07 August 2025  15:20:45 +0000 (0:00:08.635)       0:00:15.228 ******* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Thursday 07 August 2025  15:20:45 +0000 (0:00:00.160)       0:00:15.388 ******* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Thursday 07 August 2025  15:20:45 +0000 (0:00:00.021)       0:00:15.409 ******* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.334)       0:00:15.744 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.039)       0:00:15.784 ******* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.037)       0:00:15.822 ******* 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.025)       0:00:15.848 ******* 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.026)       0:00:15.874 ******* 
skipping: [localhost] => (item=us-east-2) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.046)       0:00:15.921 ******* 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.060)       0:00:15.981 ******* 
ok: [localhost]

PLAY [Destroy environment on AWS] **********************************************

TASK [Get fact for cloudformation stack] ***************************************
Thursday 07 August 2025  15:20:46 +0000 (0:00:00.048)       0:00:16.029 ******* 
ok: [localhost]

TASK [Grab and set stack creation time] ****************************************
Thursday 07 August 2025  15:20:47 +0000 (0:00:00.544)       0:00:16.574 ******* 
ok: [localhost]

TASK [Run infra-ec2-create-inventory role] *************************************
Thursday 07 August 2025  15:20:47 +0000 (0:00:00.049)       0:00:16.623 ******* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Thursday 07 August 2025  15:20:47 +0000 (0:00:00.019)       0:00:16.643 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Thursday 07 August 2025  15:20:47 +0000 (0:00:00.035)       0:00:16.679 ******* 
[WARNING]: Both option access_key and its alias aws_access_key are set.
[WARNING]: Both option secret_key and its alias aws_secret_key are set.
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.818)       0:00:17.497 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.032)       0:00:17.529 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.032)       0:00:17.561 ******* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.036)       0:00:17.598 ******* 
ok: [localhost] => (item=bastion.fmvzl.internal)

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.045)       0:00:17.643 ******* 
changed: [localhost] => (item=bastion.fmvzl.internal)

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.174)       0:00:17.817 ******* 
changed: [localhost] => (item=bastion.fmvzl.internal)

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.050)       0:00:17.867 ******* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.030)       0:00:17.898 ******* 
skipping: [localhost]

TASK [Create local ssh provision facts (key already exists)] *******************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.038)       0:00:17.937 ******* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.045)       0:00:17.982 ******* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.017)       0:00:17.999 ******* 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.039)       0:00:18.039 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.181)       0:00:18.221 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Thursday 07 August 2025  15:20:48 +0000 (0:00:00.186)       0:00:18.407 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.188)       0:00:18.595 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.037)       0:00:18.633 ******* 
ok: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.324)       0:00:18.958 ******* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.026)       0:00:18.984 ******* 
skipping: [localhost]

TASK [SSH config setup] ********************************************************
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.016)       0:00:19.001 ******* 

TASK [infra-common-ssh-config-generate : Store bastion hostname as a fact] *****
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.057)       0:00:19.058 ******* 
ok: [localhost]

TASK [infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment)] ***
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.039)       0:00:19.097 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : delete local ssh config, start fresh] ***
Thursday 07 August 2025  15:20:49 +0000 (0:00:00.205)       0:00:19.302 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Create empty local ssh config] ********
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.190)       0:00:19.493 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file] ***
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.186)       0:00:19.680 ******* 
changed: [localhost]

TASK [infra-common-ssh-config-generate : Add all hosts to workdir ssh config file] ***
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.347)       0:00:20.027 ******* 
skipping: [localhost] => (item=bastion.fmvzl.internal) 
skipping: [localhost]

PLAY [Set ssh extra args for all hosts, use ssh_config just created] ***********

TASK [add -F option ansible_ssh_extra_args] ************************************
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.031)       0:00:20.058 ******* 
ok: [bastion.fmvzl.internal]

PLAY [Start all EC2 instances if they are stopped] *****************************

TASK [ansible.builtin.include_tasks] *******************************************
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.046)       0:00:20.105 ******* 
included: /runner/project/ansible/configs/ocp4-cluster/ec2_instances_start.yaml for localhost

TASK [Get all EC2 instances] ***************************************************
Thursday 07 August 2025  15:20:50 +0000 (0:00:00.014)       0:00:20.119 ******* 
ok: [localhost]

TASK [Ensure EC2 instances are running] ****************************************
Thursday 07 August 2025  15:20:51 +0000 (0:00:00.634)       0:00:20.754 ******* 
changed: [localhost] => (item={'ami_launch_index': 0, 'image_id': 'ami-0e1686a22fb17852d', 'instance_id': 'i-092079068828296b0', 'instance_type': 't3.medium', 'key_name': 'ssh_provision_fmvzl', 'launch_time': '2025-08-05T15:21:58+00:00', 'monitoring': {'state': 'disabled'}, 'placement': {'availability_zone': 'us-east-2b', 'group_name': '', 'tenancy': 'default'}, 'private_dns_name': 'ip-192-168-0-124.us-east-2.compute.internal', 'private_ip_address': '192.168.0.124', 'product_codes': [], 'public_dns_name': 'ec2-3-146-88-80.us-east-2.compute.amazonaws.com', 'public_ip_address': '3.146.88.80', 'state': {'code': 80, 'name': 'stopped'}, 'state_transition_reason': 'User initiated (2025-08-05 21:20:03 GMT)', 'subnet_id': 'subnet-08ea9ea0636394b2e', 'vpc_id': 'vpc-0107b111cb36b9004', 'architecture': 'x86_64', 'block_device_mappings': [{'device_name': '/dev/sda1', 'ebs': {'attach_time': '2025-08-05T15:21:59+00:00', 'delete_on_termination': True, 'status': 'attached', 'volume_id': 'vol-0f3b8e3880a33c847'}}],  'ebs_optimized': False, 'ena_support': True, 'hypervisor': 'xen', 'network_interfaces': [{'association': {'ip_owner_id': '959263266530', 'public_dns_name': 'ec2-3-146-88-80.us-east-2.compute.amazonaws.com', 'public_ip': '3.146.88.80'}, 'attachment': {'attach_time': '2025-08-05T15:21:58+00:00', 'attachment_id': 'eni-attach-0d3ee833b8c99cbd1', 'delete_on_termination': True, 'device_index': 0, 'status': 'attached', 'network_card_index': 0}, 'description': '', 'groups': [{'group_name': 'BastionSG', 'group_id': 'sg-09bb38c64641e8c53'}], 'ipv6_addresses': [], 'mac_address': '06:ce:33:b6:fa:2b', 'network_interface_id': 'eni-03760b32b274c161b', 'owner_id': '959263266530', 'private_dns_name': 'ip-192-168-0-124.us-east-2.compute.internal', 'private_ip_address': '192.168.0.124', 'private_ip_addresses': [{'association': {'ip_owner_id': '959263266530', 'public_dns_name': 'ec2-3-146-88-80.us-east-2.compute.amazonaws.com', 'public_ip': '3.146.88.80'}, 'primary': True, 'private_dns_name': 'ip-192-168-0-124.us-east-2.compute.internal', 'private_ip_address': '192.168.0.124'}], 'source_dest_check': True, 'status': 'in-use', 'subnet_id': 'subnet-08ea9ea0636394b2e', 'vpc_id': 'vpc-0107b111cb36b9004', 'interface_type': 'interface'}], 'root_device_name': '/dev/sda1', 'root_device_type': 'ebs', 'security_groups': [{'group_name': 'BastionSG', 'group_id': 'sg-09bb38c64641e8c53'}], 'source_dest_check': True, 'state_reason': {'code': 'Client.UserInitiatedShutdown', 'message': 'Client.UserInitiatedShutdown: User initiated shutdown'}, 'tags': {'Name': 'bastion', 'ocp4-cluster-fmvzl': 'bastion', 'AnsibleGroup': 'bastions,clientvms', 'Purpose': 'production', 'guid': 'fmvzl', 'uuid': 'f28a2b6f-48ab-5a1f-a5fa-a9b9d961db04', 'aws:cloudformation:stack-id': 'arn:aws:cloudformation:us-east-2:959263266530:stack/ocp4-cluster-fmvzl/de7830a0-720f-11f0-b164-0a054b7483c7', 'owner': 'unknownuser', 'env_type': 'ocp4-cluster', 'Stack': 'ocp4-cluster-fmvzl', 'Project': 'ocp4-cluster-fmvzl', 'aws:cloudformation:logical-id': 'bastion1', 'ostype': 'linux', 'user': 'lab-user', 'internaldns': 'bastion.fmvzl.internal', 'platform': 'rhpds', 'project': 'ocp4-cluster-fmvzl', 'aws:cloudformation:stack-name': 'ocp4-cluster-fmvzl'}, 'virtualization_type': 'hvm', 'cpu_options': {'core_count': 1, 'threads_per_core': 2}, 'capacity_reservation_specification': {'capacity_reservation_preference': 'open'}, 'hibernation_options': {'configured': False}, 'metadata_options': {'state': 'applied', 'http_tokens': 'optional', 'http_put_response_hop_limit': 1, 'http_endpoint': 'enabled', 'http_protocol_ipv6': 'disabled', 'instance_metadata_tags': 'disabled'}, 'enclave_options': {'enabled': False}, 'boot_mode': 'uefi-preferred', 'platform_details': 'Red Hat BYOL Linux', 'usage_operation': 'RunInstances:00g0', 'usage_operation_update_time': '2025-08-05T15:21:58+00:00', 'private_dns_name_options': {'hostname_type': 'ip-name', 'enable_resource_name_dns_a_record': False, 'enable_resource_name_dns_aaaa_record': False}, 'maintenance_options': {'auto_recovery': 'default'}, 'current_instance_boot_mode': 'uefi'})
failed: [localhost] (item={'ami_launch_index': 0, 'image_id': 'ami-078e26f293629fe91', 'instance_id': 'i-0a412a0e671f20427', 'instance_type': 'm5a.4xlarge', 'launch_time': '2025-08-05T15:37:25+00:00', 'monitoring': {'state': 'disabled'}, 'placement': {'availability_zone': 'us-east-2b', 'group_name': '', 'tenancy': 'default'}, 'private_dns_name': 'ip-10-0-12-149.us-east-2.compute.internal', 'private_ip_address': '10.0.12.149', 'product_codes': [], 'public_dns_name': '', 'state': {'code': 80, 'name': 'stopped'}, 'state_transition_reason': 'User initiated (2025-08-05 21:20:03 GMT)', 'subnet_id': 'subnet-049366a3e420cec6f', 'vpc_id': 'vpc-03f24c6081469c8a5', 'architecture': 'x86_64', 'block_device_mappings': [{'device_name': '/dev/xvda', 'ebs': {'attach_time': '2025-08-05T15:37:26+00:00', 'delete_on_termination': True, 'status': 'attached', 'volume_id': 'vol-010504a6fdebb064b'}}],  'ebs_optimized': False, 'ena_support': True, 'hypervisor': 'xen', 'iam_instance_profile': {'arn': 'arn:aws:iam::959263266530:instance-profile/cluster-fmvzl-gpdhz-master-profile', 'id': 'AIPA56WEL23RKQ22XOT3D'}, 'network_interfaces': [{'attachment': {'attach_time': '2025-08-05T15:37:25+00:00', 'attachment_id': 'eni-attach-0f32f1b88063f6f71', 'delete_on_termination': True, 'device_index': 0, 'status': 'attached', 'network_card_index': 0}, 'description': '', 'groups': [{'group_name': 'cluster-fmvzl-gpdhz-controlplane', 'group_id': 'sg-092e121d135a72705'}, {'group_name': 'cluster-fmvzl-gpdhz-lb', 'group_id': 'sg-051dfd993e17b7177'}, {'group_name': 'cluster-fmvzl-gpdhz-node', 'group_id': 'sg-00c5d6a4e727f0e53'}], 'ipv6_addresses': [], 'mac_address': '06:14:70:cf:03:3b', 'network_interface_id': 'eni-054ca213de13dfa92', 'owner_id': '959263266530', 'private_dns_name': 'ip-10-0-12-149.us-east-2.compute.internal', 'private_ip_address': '10.0.12.149', 'private_ip_addresses': [{'primary': True, 'private_dns_name': 'ip-10-0-12-149.us-east-2.compute.internal', 'private_ip_address': '10.0.12.149'}], 'source_dest_check': True, 'status': 'in-use', 'subnet_id': 'subnet-049366a3e420cec6f', 'vpc_id': 'vpc-03f24c6081469c8a5', 'interface_type': 'interface'}], 'root_device_name': '/dev/xvda', 'root_device_type': 'ebs', 'security_groups': [{'group_name': 'cluster-fmvzl-gpdhz-controlplane', 'group_id': 'sg-092e121d135a72705'}, {'group_name': 'cluster-fmvzl-gpdhz-lb', 'group_id': 'sg-051dfd993e17b7177'}, {'group_name': 'cluster-fmvzl-gpdhz-node', 'group_id': 'sg-00c5d6a4e727f0e53'}], 'source_dest_check': True, 'state_reason': {'code': 'Client.UserInitiatedShutdown', 'message': 'Client.UserInitiatedShutdown: User initiated shutdown'}, 'tags': {'uuid': 'f28a2b6f-48ab-5a1f-a5fa-a9b9d961db04', 'owner': 'unknown', 'Name': 'cluster-fmvzl-gpdhz-master-0', 'MachineName': 'openshift-cluster-api-guests/cluster-fmvzl-gpdhz-master-0', 'guid': 'fmvzl', 'sigs.k8s.io/cluster-api-provider-aws/role': 'control-plane', 'sigs.k8s.io/cluster-api-provider-aws/cluster/cluster-fmvzl-gpdhz': 'owned', 'env_type': 'ocp4-cluster', 'kubernetes.io/cluster/cluster-fmvzl-gpdhz': 'owned', 'platform': 'rhpds', 'Stack': 'ocp4-cluster-fmvzl'}, 'virtualization_type': 'hvm', 'cpu_options': {'core_count': 8, 'threads_per_core': 2}, 'capacity_reservation_specification': {'capacity_reservation_preference': 'open'}, 'hibernation_options': {'configured': False}, 'metadata_options': {'state': 'applied', 'http_tokens': 'optional', 'http_put_response_hop_limit': 1, 'http_endpoint': 'enabled', 'http_protocol_ipv6': 'disabled', 'instance_metadata_tags': 'disabled'}, 'enclave_options': {'enabled': False}, 'platform_details': 'Linux/UNIX', 'usage_operation': 'RunInstances', 'usage_operation_update_time': '2025-08-05T15:37:25+00:00', 'private_dns_name_options': {'hostname_type': 'ip-name', 'enable_resource_name_dns_a_record': False, 'enable_resource_name_dns_aaaa_record': False}, 'maintenance_options': {'auto_recovery': 'default'}, 'current_instance_boot_mode': 'legacy-bios'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ami_launch_index": 0, "architecture": "x86_64", "block_device_mappings": [{"device_name": "/dev/xvda", "ebs": {"attach_time": "2025-08-05T15:37:26+00:00", "delete_on_termination": true, "status": "attached", "volume_id": "vol-010504a6fdebb064b"}}], "capacity_reservation_specification": {"capacity_reservation_preference": "open"},  "cpu_options": {"core_count": 8, "threads_per_core": 2}, "current_instance_boot_mode": "legacy-bios", "ebs_optimized": false, "ena_support": true, "enclave_options": {"enabled": false}, "hibernation_options": {"configured": false}, "hypervisor": "xen", "iam_instance_profile": {"arn": "arn:aws:iam::959263266530:instance-profile/cluster-fmvzl-gpdhz-master-profile", "id": "AIPA56WEL23RKQ22XOT3D"}, "image_id": "ami-078e26f293629fe91", "instance_id": "i-0a412a0e671f20427", "instance_type": "m5a.4xlarge", "launch_time": "2025-08-05T15:37:25+00:00", "maintenance_options": {"auto_recovery": "default"}, "metadata_options": {"http_endpoint": "enabled", "http_protocol_ipv6": "disabled", "http_put_response_hop_limit": 1, "http_tokens": "optional", "instance_metadata_tags": "disabled", "state": "applied"}, "monitoring": {"state": "disabled"}, "network_interfaces": [{"attachment": {"attach_time": "2025-08-05T15:37:25+00:00", "attachment_id": "eni-attach-0f32f1b88063f6f71", "delete_on_termination": true, "device_index": 0, "network_card_index": 0, "status": "attached"}, "description": "", "groups": [{"group_id": "sg-092e121d135a72705", "group_name": "cluster-fmvzl-gpdhz-controlplane"}, {"group_id": "sg-051dfd993e17b7177", "group_name": "cluster-fmvzl-gpdhz-lb"}, {"group_id": "sg-00c5d6a4e727f0e53", "group_name": "cluster-fmvzl-gpdhz-node"}], "interface_type": "interface", "ipv6_addresses": [], "mac_address": "06:14:70:cf:03:3b", "network_interface_id": "eni-054ca213de13dfa92", "owner_id": "959263266530", "private_dns_name": "ip-10-0-12-149.us-east-2.compute.internal", "private_ip_address": "10.0.12.149", "private_ip_addresses": [{"primary": true, "private_dns_name": "ip-10-0-12-149.us-east-2.compute.internal", "private_ip_address": "10.0.12.149"}], "source_dest_check": true, "status": "in-use", "subnet_id": "subnet-049366a3e420cec6f", "vpc_id": "vpc-03f24c6081469c8a5"}], "placement": {"availability_zone": "us-east-2b", "group_name": "", "tenancy": "default"}, "platform_details": "Linux/UNIX", "private_dns_name": "ip-10-0-12-149.us-east-2.compute.internal", "private_dns_name_options": {"enable_resource_name_dns_a_record": false, "enable_resource_name_dns_aaaa_record": false, "hostname_type": "ip-name"}, "private_ip_address": "10.0.12.149", "product_codes": [], "public_dns_name": "", "root_device_name": "/dev/xvda", "root_device_type": "ebs", "security_groups": [{"group_id": "sg-092e121d135a72705", "group_name": "cluster-fmvzl-gpdhz-controlplane"}, {"group_id": "sg-051dfd993e17b7177", "group_name": "cluster-fmvzl-gpdhz-lb"}, {"group_id": "sg-00c5d6a4e727f0e53", "group_name": "cluster-fmvzl-gpdhz-node"}], "source_dest_check": true, "state": {"code": 80, "name": "stopped"}, "state_reason": {"code": "Client.UserInitiatedShutdown", "message": "Client.UserInitiatedShutdown: User initiated shutdown"}, "state_transition_reason": "User initiated (2025-08-05 21:20:03 GMT)", "subnet_id": "subnet-049366a3e420cec6f", "tags": {"MachineName": "openshift-cluster-api-guests/cluster-fmvzl-gpdhz-master-0", "Name": "cluster-fmvzl-gpdhz-master-0", "Stack": "ocp4-cluster-fmvzl", "env_type": "ocp4-cluster", "guid": "fmvzl", "kubernetes.io/cluster/cluster-fmvzl-gpdhz": "owned", "owner": "unknown", "platform": "rhpds", "sigs.k8s.io/cluster-api-provider-aws/cluster/cluster-fmvzl-gpdhz": "owned", "sigs.k8s.io/cluster-api-provider-aws/role": "control-plane", "uuid": "f28a2b6f-48ab-5a1f-a5fa-a9b9d961db04"}, "usage_operation": "RunInstances", "usage_operation_update_time": "2025-08-05T15:37:25+00:00", "virtualization_type": "hvm", "vpc_id": "vpc-03f24c6081469c8a5"}, "msg": "Unable to start instances: An error occurred (InsufficientInstanceCapacity) when calling the StartInstances operation (reached max retries: 4): Insufficient capacity.", "reboot_failed": ["i-0a412a0e671f20427"], "reboot_success": []}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
bastion.fmvzl.internal     : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
localhost                  : ok=48   changed=19   unreachable=0    failed=1    skipped=21   rescued=0    ignored=1   
Thursday 07 August 2025  15:21:01 +0000 (0:00:09.733)       0:00:30.488 ******* 
=============================================================================== 
Ensure EC2 instances are running ---------------------------------------- 9.73s
Install collections from requirements.yml (EE) -------------------------- 8.64s
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 1.09s
Install roles from requirements.yml ------------------------------------- 0.91s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 0.82s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.69s
Get all EC2 instances --------------------------------------------------- 0.63s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 0.61s
Get fact for cloudformation stack --------------------------------------- 0.54s
Get the list of installed collections (EE) ------------------------------ 0.53s
infra-common-ssh-config-generate : Add bastion proxy config to workdir ssh config file --- 0.35s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.35s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.33s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.33s
Rewrite requirements, filter out installed collections (EE) ------------- 0.33s
create_ssh_provision_key : Write SSH pub key ---------------------------- 0.32s
Create output_dir if it does not exists --------------------------------- 0.29s
Create temporary file for requirements.yml (EE) ------------------------- 0.24s
infra-common-ssh-config-generate : Delete dedicated known_host if it exists (new deployment) --- 0.21s
infra-common-ssh-config-generate : delete local ssh config, start fresh --- 0.19s
