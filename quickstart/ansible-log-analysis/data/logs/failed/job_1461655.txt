Vault password (gpte_vault_0): 

PLAY [Step 0000 Set Action] ****************************************************

TASK [Set ACTION to destroy] ***************************************************
Monday 04 August 2025  16:03:51 +0000 (0:00:00.012)       0:00:00.012 ********* 
skipping: [localhost]

PLAY [Step 0000 Setup runtime] *************************************************

TASK [debug] *******************************************************************
Monday 04 August 2025  16:03:51 +0000 (0:00:00.031)       0:00:00.044 ********* 
skipping: [localhost]

TASK [Ensure cloud provider is supported] **************************************
Monday 04 August 2025  16:03:51 +0000 (0:00:00.019)       0:00:00.063 ********* 
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Step 0000 Setup Output Directory] ****************************************

TASK [Set output_dir if not defined] *******************************************
Monday 04 August 2025  16:03:51 +0000 (0:00:00.032)       0:00:00.096 ********* 
skipping: [localhost]

TASK [Create output_dir if it does not exists] *********************************
Monday 04 August 2025  16:03:51 +0000 (0:00:00.017)       0:00:00.113 ********* 
changed: [localhost]

TASK [Attempt to restore output_dir contents] **********************************
Monday 04 August 2025  16:03:52 +0000 (0:00:00.295)       0:00:00.409 ********* 

TASK [agnosticd_restore_output_dir : Restore output_dir from s3 bucket] ********
Monday 04 August 2025  16:03:52 +0000 (0:00:00.023)       0:00:00.433 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/restore-from-s3.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  16:03:52 +0000 (0:00:00.039)       0:00:00.472 ********* 
included: /runner/project/ansible/roles/agnosticd_restore_output_dir/tasks/fetch-from-s3-s3_object.yml for localhost

TASK [agnosticd_restore_output_dir : Get output_dir archive from s3] ***********
Monday 04 August 2025  16:03:52 +0000 (0:00:00.104)       0:00:00.577 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Decrypt archive] **************************
Monday 04 August 2025  16:03:53 +0000 (0:00:01.176)       0:00:01.754 ********* 
skipping: [localhost]

TASK [agnosticd_restore_output_dir : Restore output_dir from archive] **********
Monday 04 August 2025  16:03:53 +0000 (0:00:00.017)       0:00:01.771 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove archive file from output_dir] ******
Monday 04 August 2025  16:03:54 +0000 (0:00:00.659)       0:00:02.430 ********* 
changed: [localhost]

TASK [agnosticd_restore_output_dir : Remove encrypted archive file from output_dir] ***
Monday 04 August 2025  16:03:54 +0000 (0:00:00.179)       0:00:02.610 ********* 
ok: [localhost]

TASK [Touch file provision-user-data.yaml and provision-user-info.yaml] ********
Monday 04 August 2025  16:03:54 +0000 (0:00:00.173)       0:00:02.783 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create empty user-info.yaml and user-data.yaml in output dir] ************
Monday 04 August 2025  16:03:54 +0000 (0:00:00.371)       0:00:03.155 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

TASK [Create symlink user-data.yaml -> provision-user-data.yaml] ***************
Monday 04 August 2025  16:03:55 +0000 (0:00:00.755)       0:00:03.911 ********* 
changed: [localhost] => (item=user-info.yaml)
changed: [localhost] => (item=user-data.yaml)

PLAY [Step 0000 Include Vars] **************************************************

TASK [Set output_dir for all hosts] ********************************************
Monday 04 August 2025  16:03:55 +0000 (0:00:00.388)       0:00:04.300 ********* 
ok: [localhost]

TASK [Include variables files] *************************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.028)       0:00:04.329 ********* 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/cloud_providers/ec2_default_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_vars.yml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yaml) 
ok: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/default_vars_ec2.yml)
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yaml) 
skipping: [localhost] => (item=/runner/project/ansible/configs/rosa-consolidated/env_secret_vars.yml) 

TASK [Include secret_file if passed as extra-var] ******************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.096)       0:00:04.425 ********* 
skipping: [localhost]

TASK [Set passthrough user data] ***********************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.019)       0:00:04.444 ********* 
skipping: [localhost]

PLAY [Step 0000 Install Galaxy roles and collections] **************************

TASK [Use requirements_content] ************************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.034)       0:00:04.478 ********* 
skipping: [localhost]

TASK [Copy requirements content to output_dir] *********************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.029)       0:00:04.508 ********* 
skipping: [localhost]

TASK [Use requirements_path from the config] ***********************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.028)       0:00:04.537 ********* 
ok: [localhost]

TASK [Check if requirements.yml exists] ****************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.031)       0:00:04.568 ********* 
ok: [localhost]

TASK [set_fact] ****************************************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.194)       0:00:04.762 ********* 
ok: [localhost]

TASK [Install roles from requirements.yml] *************************************
Monday 04 August 2025  16:03:56 +0000 (0:00:00.031)       0:00:04.794 ********* 
changed: [localhost]

TASK [Install collections from requirements.yml (Not EE)] **********************
Monday 04 August 2025  16:03:57 +0000 (0:00:00.649)       0:00:05.443 ********* 
skipping: [localhost]

TASK [Get installed collections (EE)] ******************************************
Monday 04 August 2025  16:03:57 +0000 (0:00:00.038)       0:00:05.482 ********* 
included: /runner/project/ansible/install_collections_ee.yml for localhost

TASK [Get the list of installed collections (EE)] ******************************
Monday 04 August 2025  16:03:57 +0000 (0:00:00.043)       0:00:05.525 ********* 
changed: [localhost]

TASK [Create temporary file for requirements.yml (EE)] *************************
Monday 04 August 2025  16:03:57 +0000 (0:00:00.524)       0:00:06.049 ********* 
changed: [localhost]

TASK [Rewrite requirements, filter out installed collections (EE)] *************
Monday 04 August 2025  16:03:58 +0000 (0:00:00.268)       0:00:06.318 ********* 
[WARNING]: skipping installation of kubernetes.core==3.0.1 ;
kubernetes.core==3.0.1 already installed in EE
[WARNING]: skipping installation of amazon.aws==6.4.0 ; amazon.aws==7.6.0
already installed in EE
[WARNING]: skipping installation of community.general==7.4.0 ;
community.general==8.6.0 already installed in EE
[WARNING]: skipping installation of ansible.posix==1.5.4 ; ansible.posix==1.5.4
already installed in EE
[WARNING]: skipping installation of community.okd==2.3.0 ; community.okd==3.0.1
already installed in EE
changed: [localhost]

TASK [Install collections from requirements.yml (EE)] **************************
Monday 04 August 2025  16:03:58 +0000 (0:00:00.344)       0:00:06.663 ********* 
changed: [localhost]

TASK [Cleanup tempfile (EE)] ***************************************************
Monday 04 August 2025  16:03:58 +0000 (0:00:00.526)       0:00:07.189 ********* 
changed: [localhost]

TASK [Install dynamic sources] *************************************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.175)       0:00:07.365 ********* 

TASK [agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories] ***
Monday 04 August 2025  16:03:59 +0000 (0:00:00.023)       0:00:07.388 ********* 
changed: [localhost] => (item=/runner/project/ansible/dynamic-cache)
changed: [localhost] => (item=/runner/project/ansible/dynamic-roles)

TASK [agnosticd_dynamic : Install ansible-galaxy sources to dynamic roles dir] ***
Monday 04 August 2025  16:03:59 +0000 (0:00:00.342)       0:00:07.731 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install ansible-galaxy sources to cache] *************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.031)       0:00:07.763 ********* 
skipping: [localhost]

TASK [agnosticd_dynamic : Install git sources] *********************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.027)       0:00:07.790 ********* 
skipping: [localhost]

PLAY [Step 0000 Detect in what region the stack is] ****************************

TASK [include_tasks] ***********************************************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.026)       0:00:07.817 ********* 
included: /runner/project/ansible/cloud_providers/ec2_detect_region_tasks.yml for localhost

TASK [fallback_regions is defined, detect region for AWS] **********************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.029)       0:00:07.846 ********* 
skipping: [localhost] => (item=us-east-2) 
skipping: [localhost]

TASK [Set aws_region_final] ****************************************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.044)       0:00:07.890 ********* 
skipping: [localhost] => (item=unknown) 
skipping: [localhost]

TASK [Set aws_region_final as provided with aws_region] ************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.040)       0:00:07.931 ********* 
ok: [localhost]

PLAY [Destroy environment on AWS] **********************************************

TASK [Run infra-ec2-create-inventory role] *************************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.033)       0:00:07.965 ********* 

TASK [infra-ec2-create-inventory : Report aws region] **************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.021)       0:00:07.986 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Gather EC2 info] ****************************
Monday 04 August 2025  16:03:59 +0000 (0:00:00.030)       0:00:08.017 ********* 
[WARNING]: Both option access_key and its alias aws_access_key are set.
[WARNING]: Both option secret_key and its alias aws_secret_key are set.
ok: [localhost]

TASK [infra-ec2-create-inventory : debug ec2_info] *****************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.720)       0:00:08.737 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : windows ostype workaround] ******************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.030)       0:00:08.767 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : set_fact] ***********************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.030)       0:00:08.797 ********* 
ok: [localhost]

TASK [infra-ec2-create-inventory : Find the bastion in this batch of host] *****
Monday 04 August 2025  16:04:00 +0000 (0:00:00.032)       0:00:08.830 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to the current inventory] *********
Monday 04 August 2025  16:04:00 +0000 (0:00:00.016)       0:00:08.847 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : Add hosts to groups indicated by AnsibleGroup tag] ***
Monday 04 August 2025  16:04:00 +0000 (0:00:00.019)       0:00:08.866 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug hostvars] *****************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.018)       0:00:08.885 ********* 
skipping: [localhost]

TASK [infra-ec2-create-inventory : debug groups] *******************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.037)       0:00:08.922 ********* 
skipping: [localhost]

TASK [Create local ssh provision facts (key already exists)] *******************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.034)       0:00:08.956 ********* 

TASK [create_ssh_provision_key : include_tasks] ********************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.034)       0:00:08.990 ********* 
included: /runner/project/ansible/roles-infra/create_ssh_provision_key/tasks/checks.yaml for localhost

TASK [create_ssh_provision_key : Ensure key_name is not defined] ***************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.017)       0:00:09.008 ********* 
fatal: [localhost]: FAILED! => {"changed": false, "msg": "WARNING: key_name is DEPRECATED and should not be defined when using new create_ssh_provision_key role."}
...ignoring

TASK [create_ssh_provision_key : Generate SSH keys] ****************************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.034)       0:00:09.043 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Fix permission of ssh key] ********************
Monday 04 August 2025  16:04:00 +0000 (0:00:00.206)       0:00:09.249 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Generate SSH pub key content] *****************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.206)       0:00:09.455 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Save all facts for SSH] ***********************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.193)       0:00:09.648 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Write SSH pub key] ****************************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.036)       0:00:09.685 ********* 
ok: [localhost]

TASK [create_ssh_provision_key : Report user info for SSH provision key as user data] ***
Monday 04 August 2025  16:04:01 +0000 (0:00:00.347)       0:00:10.033 ********* 
skipping: [localhost]

TASK [include_role : agnosticd_save_output_dir] ********************************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.028)       0:00:10.061 ********* 
skipping: [localhost]

TASK [SSH config setup] ********************************************************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.018)       0:00:10.080 ********* 
skipping: [localhost]

TASK [Start instances] *********************************************************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.026)       0:00:10.106 ********* 
included: /runner/project/ansible/configs/rosa-consolidated/ec2_instances_start.yaml for localhost

TASK [Get all EC2 instances] ***************************************************
Monday 04 August 2025  16:04:01 +0000 (0:00:00.028)       0:00:10.135 ********* 
ok: [localhost]

TASK [Ensure EC2 instances are running] ****************************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.632)       0:00:10.768 ********* 
skipping: [localhost]

TASK [Wait until all EC2 instances are running] ********************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.011)       0:00:10.779 ********* 
skipping: [localhost]

PLAY [Destroy tasks on hosts] **************************************************
skipping: no hosts matched

PLAY [Remove workloads] ********************************************************

TASK [Invoke roles to remove ocp workloads] ************************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.044)       0:00:10.824 ********* 
skipping: [localhost]

PLAY [Destroy ROSA cluster(s)] *************************************************

TASK [Set rosa binary location] ************************************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.057)       0:00:10.881 ********* 
ok: [localhost]

TASK [Install ROSA CLI if it doesn't exist] ************************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.018)       0:00:10.899 ********* 
included: /runner/project/ansible/configs/rosa-consolidated/install_rosa_cli.yml for localhost

TASK [Get ROSA CLI] ************************************************************
Monday 04 August 2025  16:04:02 +0000 (0:00:00.018)       0:00:10.918 ********* 
changed: [localhost]

TASK [Unzip rosa-linux.tar.gz] *************************************************
Monday 04 August 2025  16:04:03 +0000 (0:00:01.139)       0:00:12.057 ********* 
changed: [localhost]

TASK [cleanup archive file] ****************************************************
Monday 04 August 2025  16:04:05 +0000 (0:00:01.876)       0:00:13.934 ********* 
changed: [localhost]

TASK [Create rosa Bash completion file] ****************************************
Monday 04 August 2025  16:04:05 +0000 (0:00:00.171)       0:00:14.105 ********* 
changed: [localhost]

TASK [Setup ROSA token] ********************************************************
Monday 04 August 2025  16:04:06 +0000 (0:00:00.620)       0:00:14.726 ********* 
skipping: [localhost]

TASK [Login to ROSA] ***********************************************************
Monday 04 August 2025  16:04:06 +0000 (0:00:00.013)       0:00:14.739 ********* 
fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["/tmp/rosa", "login", "--token", "[REDACTED_JSON Web Token_SECRET]6LD-lX6H_279OZcZnwRWNCn6u5pENl8AQgFDFnD4OziJh8kKyP76Hwz7ZhC0W4LY2cXpxnFIBr8yjqt3H2gLDQ"], "delta": "0:00:00.259579", "end": "2025-08-04 16:04:06.840058", "msg": "non-zero return code", "rc": 1, "start": "2025-08-04 16:04:06.580479", "stderr": "ERR: Failed to create OCM connection: your authorization token needs to be updated. Please login again using rosa login", "stderr_lines": ["ERR: Failed to create OCM connection: your authorization token needs to be updated. Please login again using rosa login"], "stdout": "", "stdout_lines": []}

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
localhost                  : ok=44   changed=18   unreachable=0    failed=1    skipped=28   rescued=0    ignored=1   
Monday 04 August 2025  16:04:06 +0000 (0:00:00.441)       0:00:15.181 ********* 
=============================================================================== 
Unzip rosa-linux.tar.gz ------------------------------------------------- 1.88s
agnosticd_restore_output_dir : Get output_dir archive from s3 ----------- 1.18s
Get ROSA CLI ------------------------------------------------------------ 1.14s
Create empty user-info.yaml and user-data.yaml in output dir ------------ 0.76s
infra-ec2-create-inventory : Gather EC2 info ---------------------------- 0.72s
agnosticd_restore_output_dir : Restore output_dir from archive ---------- 0.66s
Install roles from requirements.yml ------------------------------------- 0.65s
Get all EC2 instances --------------------------------------------------- 0.63s
Create rosa Bash completion file ---------------------------------------- 0.62s
Install collections from requirements.yml (EE) -------------------------- 0.53s
Get the list of installed collections (EE) ------------------------------ 0.52s
Login to ROSA ----------------------------------------------------------- 0.44s
Create symlink user-data.yaml -> provision-user-data.yaml --------------- 0.39s
Touch file provision-user-data.yaml and provision-user-info.yaml -------- 0.37s
create_ssh_provision_key : Write SSH pub key ---------------------------- 0.35s
Rewrite requirements, filter out installed collections (EE) ------------- 0.34s
agnosticd_dynamic : Create dynamic-cache and dynamic-roles directories --- 0.34s
Create output_dir if it does not exists --------------------------------- 0.30s
Create temporary file for requirements.yml (EE) ------------------------- 0.27s
create_ssh_provision_key : Generate SSH keys ---------------------------- 0.21s
